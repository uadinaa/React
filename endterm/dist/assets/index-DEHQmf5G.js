(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function AR(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var op={exports:{}},fu={};var QE;function RR(){if(QE)return fu;QE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:u}}return fu.Fragment=e,fu.jsx=t,fu.jsxs=t,fu}var XE;function CR(){return XE||(XE=1,op.exports=RR()),op.exports}var F=CR(),lp={exports:{}},ke={};var $E;function IR(){if($E)return ke;$E=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function C(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,V={};function W(P,te,he){this.props=P,this.context=te,this.refs=V,this.updater=he||L}W.prototype.isReactComponent={},W.prototype.setState=function(P,te){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,te,"setState")},W.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Z(){}Z.prototype=W.prototype;function X(P,te,he){this.props=P,this.context=te,this.refs=V,this.updater=he||L}var de=X.prototype=new Z;de.constructor=X,H(de,W.prototype),de.isPureReactComponent=!0;var se=Array.isArray;function pe(){}var S={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(P,te,he){var me=he.ref;return{$$typeof:r,type:P,key:te,ref:me!==void 0?me:null,props:he}}function M(P,te){return I(P.type,te,P.props)}function x(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var te={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return te[he]})}var D=/\/+/g;function Oe(P,te){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):te.toString(36)}function je(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(pe,pe):(P.status="pending",P.then(function(te){P.status==="pending"&&(P.status="fulfilled",P.value=te)},function(te){P.status==="pending"&&(P.status="rejected",P.reason=te)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ee(P,te,he,me,De){var Le=typeof P;(Le==="undefined"||Le==="boolean")&&(P=null);var Ge=!1;if(P===null)Ge=!0;else switch(Le){case"bigint":case"string":case"number":Ge=!0;break;case"object":switch(P.$$typeof){case r:case e:Ge=!0;break;case v:return Ge=P._init,ee(Ge(P._payload),te,he,me,De)}}if(Ge)return De=De(P),Ge=me===""?"."+Oe(P,0):me,se(De)?(he="",Ge!=null&&(he=Ge.replace(D,"$&/")+"/"),ee(De,te,he,"",function(_i){return _i})):De!=null&&(x(De)&&(De=M(De,he+(De.key==null||P&&P.key===De.key?"":(""+De.key).replace(D,"$&/")+"/")+Ge)),te.push(De)),1;Ge=0;var Bt=me===""?".":me+":";if(se(P))for(var wt=0;wt<P.length;wt++)me=P[wt],Le=Bt+Oe(me,wt),Ge+=ee(me,te,he,Le,De);else if(wt=C(P),typeof wt=="function")for(P=wt.call(P),wt=0;!(me=P.next()).done;)me=me.value,Le=Bt+Oe(me,wt++),Ge+=ee(me,te,he,Le,De);else if(Le==="object"){if(typeof P.then=="function")return ee(je(P),te,he,me,De);throw te=String(P),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ge}function oe(P,te,he){if(P==null)return P;var me=[],De=0;return ee(P,me,"","",function(Le){return te.call(he,Le,De++)}),me}function Te(P){if(P._status===-1){var te=P._result;te=te(),te.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=te)}if(P._status===1)return P._result.default;throw P._result}var Ve=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Fe={map:oe,forEach:function(P,te,he){oe(P,function(){te.apply(this,arguments)},he)},count:function(P){var te=0;return oe(P,function(){te++}),te},toArray:function(P){return oe(P,function(te){return te})||[]},only:function(P){if(!x(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return ke.Activity=T,ke.Children=Fe,ke.Component=W,ke.Fragment=t,ke.Profiler=o,ke.PureComponent=X,ke.StrictMode=a,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,ke.__COMPILER_RUNTIME={__proto__:null,c:function(P){return S.H.useMemoCache(P)}},ke.cache=function(P){return function(){return P.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(P,te,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var me=H({},P.props),De=P.key;if(te!=null)for(Le in te.key!==void 0&&(De=""+te.key),te)!R.call(te,Le)||Le==="key"||Le==="__self"||Le==="__source"||Le==="ref"&&te.ref===void 0||(me[Le]=te[Le]);var Le=arguments.length-2;if(Le===1)me.children=he;else if(1<Le){for(var Ge=Array(Le),Bt=0;Bt<Le;Bt++)Ge[Bt]=arguments[Bt+2];me.children=Ge}return I(P.type,De,me)},ke.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},ke.createElement=function(P,te,he){var me,De={},Le=null;if(te!=null)for(me in te.key!==void 0&&(Le=""+te.key),te)R.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(De[me]=te[me]);var Ge=arguments.length-2;if(Ge===1)De.children=he;else if(1<Ge){for(var Bt=Array(Ge),wt=0;wt<Ge;wt++)Bt[wt]=arguments[wt+2];De.children=Bt}if(P&&P.defaultProps)for(me in Ge=P.defaultProps,Ge)De[me]===void 0&&(De[me]=Ge[me]);return I(P,Le,De)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:m,render:P}},ke.isValidElement=x,ke.lazy=function(P){return{$$typeof:v,_payload:{_status:-1,_result:P},_init:Te}},ke.memo=function(P,te){return{$$typeof:g,type:P,compare:te===void 0?null:te}},ke.startTransition=function(P){var te=S.T,he={};S.T=he;try{var me=P(),De=S.S;De!==null&&De(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(pe,Ve)}catch(Le){Ve(Le)}finally{te!==null&&he.types!==null&&(te.types=he.types),S.T=te}},ke.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},ke.use=function(P){return S.H.use(P)},ke.useActionState=function(P,te,he){return S.H.useActionState(P,te,he)},ke.useCallback=function(P,te){return S.H.useCallback(P,te)},ke.useContext=function(P){return S.H.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P,te){return S.H.useDeferredValue(P,te)},ke.useEffect=function(P,te){return S.H.useEffect(P,te)},ke.useEffectEvent=function(P){return S.H.useEffectEvent(P)},ke.useId=function(){return S.H.useId()},ke.useImperativeHandle=function(P,te,he){return S.H.useImperativeHandle(P,te,he)},ke.useInsertionEffect=function(P,te){return S.H.useInsertionEffect(P,te)},ke.useLayoutEffect=function(P,te){return S.H.useLayoutEffect(P,te)},ke.useMemo=function(P,te){return S.H.useMemo(P,te)},ke.useOptimistic=function(P,te){return S.H.useOptimistic(P,te)},ke.useReducer=function(P,te,he){return S.H.useReducer(P,te,he)},ke.useRef=function(P){return S.H.useRef(P)},ke.useState=function(P){return S.H.useState(P)},ke.useSyncExternalStore=function(P,te,he){return S.H.useSyncExternalStore(P,te,he)},ke.useTransition=function(){return S.H.useTransition()},ke.version="19.2.0",ke}var WE;function jf(){return WE||(WE=1,lp.exports=IR()),lp.exports}var B=jf();const Hr=AR(B);var up={exports:{}},du={},cp={exports:{}},hp={};var JE;function DR(){return JE||(JE=1,(function(r){function e(ee,oe){var Te=ee.length;ee.push(oe);e:for(;0<Te;){var Ve=Te-1>>>1,Fe=ee[Ve];if(0<o(Fe,oe))ee[Ve]=oe,ee[Te]=Fe,Te=Ve;else break e}}function t(ee){return ee.length===0?null:ee[0]}function a(ee){if(ee.length===0)return null;var oe=ee[0],Te=ee.pop();if(Te!==oe){ee[0]=Te;e:for(var Ve=0,Fe=ee.length,P=Fe>>>1;Ve<P;){var te=2*(Ve+1)-1,he=ee[te],me=te+1,De=ee[me];if(0>o(he,Te))me<Fe&&0>o(De,he)?(ee[Ve]=De,ee[me]=Te,Ve=me):(ee[Ve]=he,ee[te]=Te,Ve=te);else if(me<Fe&&0>o(De,Te))ee[Ve]=De,ee[me]=Te,Ve=me;else break e}}return oe}function o(ee,oe){var Te=ee.sortIndex-oe.sortIndex;return Te!==0?Te:ee.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var p=[],g=[],v=1,T=null,b=3,C=!1,L=!1,H=!1,V=!1,W=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function de(ee){for(var oe=t(g);oe!==null;){if(oe.callback===null)a(g);else if(oe.startTime<=ee)a(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function se(ee){if(H=!1,de(ee),!L)if(t(p)!==null)L=!0,pe||(pe=!0,k());else{var oe=t(g);oe!==null&&je(se,oe.startTime-ee)}}var pe=!1,S=-1,R=5,I=-1;function M(){return V?!0:!(r.unstable_now()-I<R)}function x(){if(V=!1,pe){var ee=r.unstable_now();I=ee;var oe=!0;try{e:{L=!1,H&&(H=!1,Z(S),S=-1),C=!0;var Te=b;try{t:{for(de(ee),T=t(p);T!==null&&!(T.expirationTime>ee&&M());){var Ve=T.callback;if(typeof Ve=="function"){T.callback=null,b=T.priorityLevel;var Fe=Ve(T.expirationTime<=ee);if(ee=r.unstable_now(),typeof Fe=="function"){T.callback=Fe,de(ee),oe=!0;break t}T===t(p)&&a(p),de(ee)}else a(p);T=t(p)}if(T!==null)oe=!0;else{var P=t(g);P!==null&&je(se,P.startTime-ee),oe=!1}}break e}finally{T=null,b=Te,C=!1}oe=void 0}}finally{oe?k():pe=!1}}}var k;if(typeof X=="function")k=function(){X(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Oe=D.port2;D.port1.onmessage=x,k=function(){Oe.postMessage(null)}}else k=function(){W(x,0)};function je(ee,oe){S=W(function(){ee(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(ee){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var Te=b;b=oe;try{return ee()}finally{b=Te}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Te=b;b=ee;try{return oe()}finally{b=Te}},r.unstable_scheduleCallback=function(ee,oe,Te){var Ve=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?Ve+Te:Ve):Te=Ve,ee){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=Te+Fe,ee={id:v++,callback:oe,priorityLevel:ee,startTime:Te,expirationTime:Fe,sortIndex:-1},Te>Ve?(ee.sortIndex=Te,e(g,ee),t(p)===null&&ee===t(g)&&(H?(Z(S),S=-1):H=!0,je(se,Te-Ve))):(ee.sortIndex=Fe,e(p,ee),L||C||(L=!0,pe||(pe=!0,k()))),ee},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(ee){var oe=b;return function(){var Te=b;b=oe;try{return ee.apply(this,arguments)}finally{b=Te}}}})(hp)),hp}var ZE;function OR(){return ZE||(ZE=1,cp.exports=DR()),cp.exports}var fp={exports:{}},bn={};var e0;function NR(){if(e0)return bn;e0=1;var r=jf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},bn.flushSync=function(p){var g=c.T,v=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=v,a.d.f()}},bn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},bn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},bn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:C}):v==="script"&&a.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},bn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);a.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},bn.requestFormReset=function(p){a.d.r(p)},bn.unstable_batchedUpdates=function(p,g){return p(g)},bn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},bn.useFormStatus=function(){return c.H.useHostTransitionStatus()},bn.version="19.2.0",bn}var t0;function yS(){if(t0)return fp.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fp.exports=NR(),fp.exports}var n0;function MR(){if(n0)return du;n0=1;var r=OR(),e=jf(),t=yS();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(u(n)!==n)throw Error(a(188))}function g(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),n;if(d===l)return p(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var _=!1,w=f.child;w;){if(w===s){_=!0,s=f,l=d;break}if(w===l){_=!0,l=f,s=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===s){_=!0,s=d,l=f;break}if(w===l){_=!0,l=d,s=f;break}w=w.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),X=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=x&&n[x]||n["@@iterator"],typeof n=="function"?n:null)}var D=Symbol.for("react.client.reference");function Oe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===D?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case W:return"Profiler";case V:return"StrictMode";case se:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case L:return"Portal";case X:return n.displayName||"Context";case Z:return(n._context.displayName||"Context")+".Consumer";case de:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case S:return i=n.displayName||null,i!==null?i:Oe(n.type)||"Memo";case R:i=n._payload,n=n._init;try{return Oe(n(i))}catch{}}return null}var je=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},Ve=[],Fe=-1;function P(n){return{current:n}}function te(n){0>Fe||(n.current=Ve[Fe],Ve[Fe]=null,Fe--)}function he(n,i){Fe++,Ve[Fe]=n.current,n.current=i}var me=P(null),De=P(null),Le=P(null),Ge=P(null);function Bt(n,i){switch(he(Le,i),he(De,n),he(me,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?yE(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=yE(i),n=_E(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(me),he(me,n)}function wt(){te(me),te(De),te(Le)}function _i(n){n.memoizedState!==null&&he(Ge,n);var i=me.current,s=_E(i,n.type);i!==s&&(he(De,n),he(me,s))}function Mt(n){De.current===n&&(te(me),te(De)),Ge.current===n&&(te(Ge),lu._currentValue=Te)}var Kn,vi;function sr(n){if(Kn===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Kn=i&&i[1]||"",vi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+n+vi}var Yn=!1;function Ei(n,i){if(!n||Yn)return"";Yn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(J){var Y=J}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(J){Y=J}n.call(ie.prototype)}}else{try{throw Error()}catch(J){Y=J}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(J){if(J&&Y&&typeof J.stack=="string")return[J.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var N=_.split(`
`),K=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===K.length)for(l=N.length-1,f=K.length-1;1<=l&&0<=f&&N[l]!==K[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==K[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==K[f]){var ne=`
`+N[l].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=l&&0<=f);break}}}finally{Yn=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?sr(s):""}function hs(n,i){switch(n.tag){case 26:case 27:case 5:return sr(n.type);case 16:return sr("Lazy");case 13:return n.child!==i&&i!==null?sr("Suspense Fallback"):sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return Ei(n.type,!1);case 11:return Ei(n.type.render,!1);case 1:return Ei(n.type,!0);case 31:return sr("Activity");default:return""}}function la(n){try{var i="",s=null;do i+=hs(n,s),s=n,n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Lt=Object.prototype.hasOwnProperty,Ht=r.unstable_scheduleCallback,Gr=r.unstable_cancelCallback,_l=r.unstable_shouldYield,or=r.unstable_requestPaint,Ft=r.unstable_now,Kr=r.unstable_getCurrentPriorityLevel,Ti=r.unstable_ImmediatePriority,Dn=r.unstable_UserBlockingPriority,cn=r.unstable_NormalPriority,Zs=r.unstable_LowPriority,eo=r.unstable_IdlePriority,ua=r.log,to=r.unstable_setDisableYieldValue,qt=null,$t=null;function On(n){if(typeof ua=="function"&&to(n),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(qt,n)}catch{}}var It=Math.clz32?Math.clz32:wi,no=Math.log,Si=Math.LN2;function wi(n){return n>>>=0,n===0?32:31-(no(n)/Si|0)|0}var Qn=256,Ir=262144,Ut=4194304;function Xn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function lr(n,i,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=Xn(l):(_&=w,_!==0?f=Xn(_):s||(s=w&~n,s!==0&&(f=Xn(s))))):(w=l&~d,w!==0?f=Xn(w):_!==0?f=Xn(_):s||(s=l&~n,s!==0&&(f=Xn(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function Ln(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ca(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var n=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),n}function $n(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function Ai(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function vl(n,i,s,l,f,d){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,K=n.hiddenUpdates;for(s=_&~s;0<s;){var ne=31-It(s),ie=1<<ne;w[ne]=0,N[ne]=-1;var Y=K[ne];if(Y!==null)for(K[ne]=null,ne=0;ne<Y.length;ne++){var J=Y[ne];J!==null&&(J.lane&=-536870913)}s&=~ie}l!==0&&O(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~i))}function O(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-It(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function j(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var l=31-It(s),f=1<<l;f&i|n[l]&i&&(n[l]|=i),s&=~f}}function Q(n,i){var s=i&-i;return s=(s&42)!==0?1:le(s),(s&(n.suspendedLanes|i))!==0?0:s}function le(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ce(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function be(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:BE(n.type))}function ve(n,i){var s=oe.p;try{return oe.p=n,i()}finally{oe.p=s}}var _e=Math.random().toString(36).slice(2),ge="__reactFiber$"+_e,ye="__reactProps$"+_e,Se="__reactContainer$"+_e,Ae="__reactEvents$"+_e,Qe="__reactListeners$"+_e,dt="__reactHandles$"+_e,Dt="__reactResources$"+_e,mt="__reactMarker$"+_e;function st(n){delete n[ge],delete n[ye],delete n[Ae],delete n[Qe],delete n[dt]}function We(n){var i=n[ge];if(i)return i;for(var s=n.parentNode;s;){if(i=s[Se]||s[ge]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=AE(n);n!==null;){if(s=n[ge])return s;n=AE(n)}return i}n=s,s=n.parentNode}return null}function Wt(n){if(n=n[ge]||n[Se]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function an(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function sn(n){var i=n[Dt];return i||(i=n[Dt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ut(n){n[mt]=!0}var Ri=new Set,Dr={};function hn(n,i){Nn(n,i),Nn(n+"Capture",i)}function Nn(n,i){for(Dr[n]=i,n=0;n<i.length;n++)Ri.add(i[n])}var Yr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ke={},kt={};function Or(n){return Lt.call(kt,n)?!0:Lt.call(Ke,n)?!1:Yr.test(n)?kt[n]=!0:(Ke[n]=!0,!1)}function Un(n,i,s){if(Or(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function Je(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function bt(n,i,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+l)}}function Gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function El(n,i,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function pt(n){if(!n._valueTracker){var i=Qr(n)?"checked":"value";n._valueTracker=El(n,i,""+n[i])}}function fs(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return n&&(l=Qr(n)?n.checked?"true":"false":n.value),n=l,n!==s?(i.setValue(n),!0):!1}function Xr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ds=/[\n"\\]/g;function kn(n){return n.replace(ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ro(n,i,s,l,f,d,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Gt(i)):n.value!==""+Gt(i)&&(n.value=""+Gt(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?Tl(n,_,Gt(i)):s!=null?Tl(n,_,Gt(s)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Gt(w):n.removeAttribute("name")}function mc(n,i,s,l,f,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){pt(n);return}s=s!=null?""+Gt(s):"",i=i!=null?""+Gt(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),pt(n)}function Tl(n,i,s){i==="number"&&Xr(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function ha(n,i,s,l){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Gt(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function pc(n,i,s){if(i!=null&&(i=""+Gt(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Gt(s):""}function fa(n,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(je(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Gt(i),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),pt(n)}function zn(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var gc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(n,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,s):typeof s!="number"||s===0||gc.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function wl(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&Sl(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Sl(n,d,i[d])}function io(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),da=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ao(n){return da.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nr(){}var bl=null;function ur(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ma=null,$r=null;function ms(n){var i=Wt(n);if(i&&(n=i.stateNode)){var s=n[ye]||null;e:switch(n=i.stateNode,i.type){case"input":if(ro(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+kn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==n&&l.form===n.form){var f=l[ye]||null;if(!f)throw Error(a(90));ro(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===n.form&&fs(l)}break e;case"textarea":pc(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&ha(n,!!s.multiple,i,!1)}}}var so=!1;function pa(n,i,s){if(so)return n(i,s);so=!0;try{var l=n(i);return l}finally{if(so=!1,(ma!==null||$r!==null)&&(ch(),ma&&(i=ma,n=$r,$r=ma=null,ms(i),n)))for(i=0;i<n.length;i++)ms(n[i])}}function Mr(n,i){var s=n.stateNode;if(s===null)return null;var l=s[ye]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(cr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){ps=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{ps=!1}var Wr=null,Al=null,gs=null;function Rl(){if(gs)return gs;var n,i=Al,s=i.length,l,f="value"in Wr?Wr.value:Wr.textContent,d=f.length;for(n=0;n<s&&i[n]===f[n];n++);var _=s-n;for(l=1;l<=_&&i[s-l]===f[d-l];l++);return gs=f.slice(n,1<l?1-l:void 0)}function ys(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Ci(){return!0}function xr(){return!1}function pn(n){function i(s,l,f,d,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ci:xr,this.isPropagationStopped=xr,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),i}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=pn(Ii),ga=T({},Ii,{view:0,detail:0}),Cl=pn(ga),ya,oo,Zr,lo=T({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Zr&&(Zr&&n.type==="mousemove"?(ya=n.screenX-Zr.screenX,oo=n.screenY-Zr.screenY):oo=ya=0,Zr=n),ya)},movementY:function(n){return"movementY"in n?n.movementY:oo}}),Il=pn(lo),_s=T({},lo,{dataTransfer:0}),_c=pn(_s),vc=T({},ga,{relatedTarget:0}),vs=pn(vc),Dl=T({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),Ec=pn(Dl),uo=T({},Ii,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Tc=pn(uo),Sc=T({},Ii,{data:0}),ei=pn(Sc),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rc(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ac[n])?!!i[n]:!1}function _a(){return Rc}var Mn=T({},ga,{key:function(n){if(n.key){var i=wc[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(n){return n.type==="keypress"?ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cc=pn(Mn),Ic=T({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=pn(Ic),h=T({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),y=pn(h),E=T({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=pn(E),q=T({},lo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),$=pn(q),fe=T({},Ii,{newState:0,oldState:0}),Be=pn(fe),Kt=[9,13,27,32],ct=cr&&"CompositionEvent"in window,Ot=null;cr&&"documentMode"in document&&(Ot=document.documentMode);var hr=cr&&"TextEvent"in window&&!Ot,ti=cr&&(!ct||Ot&&8<Ot&&11>=Ot),Pr=" ",Vr=!1;function Es(n,i){switch(n){case"keyup":return Kt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function co(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ho=!1;function Xb(n,i){switch(n){case"compositionend":return co(i);case"keypress":return i.which!==32?null:(Vr=!0,Pr);case"textInput":return n=i.data,n===Pr&&Vr?null:n;default:return null}}function $b(n,i){if(ho)return n==="compositionend"||!ct&&Es(n,i)?(n=Rl(),gs=Al=Wr=null,ho=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ti&&i.locale!=="ko"?null:i.data;default:return null}}var Wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Wb[n.type]:i==="textarea"}function Dy(n,i,s,l){ma?$r?$r.push(l):$r=[l]:ma=l,i=yh(i,"onChange"),0<i.length&&(s=new Jr("onChange","change",null,s,l),n.push({event:s,listeners:i}))}var Ol=null,Nl=null;function Jb(n){hE(n,0)}function Dc(n){var i=an(n);if(fs(i))return n}function Oy(n,i){if(n==="change")return i}var Ny=!1;if(cr){var md;if(cr){var pd="oninput"in document;if(!pd){var My=document.createElement("div");My.setAttribute("oninput","return;"),pd=typeof My.oninput=="function"}md=pd}else md=!1;Ny=md&&(!document.documentMode||9<document.documentMode)}function xy(){Ol&&(Ol.detachEvent("onpropertychange",Py),Nl=Ol=null)}function Py(n){if(n.propertyName==="value"&&Dc(Nl)){var i=[];Dy(i,Nl,n,ur(n)),pa(Jb,i)}}function Zb(n,i,s){n==="focusin"?(xy(),Ol=i,Nl=s,Ol.attachEvent("onpropertychange",Py)):n==="focusout"&&xy()}function eA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Dc(Nl)}function tA(n,i){if(n==="click")return Dc(i)}function nA(n,i){if(n==="input"||n==="change")return Dc(i)}function rA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Wn=typeof Object.is=="function"?Object.is:rA;function Ml(n,i){if(Wn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Lt.call(i,f)||!Wn(n[f],i[f]))return!1}return!0}function Vy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ly(n,i){var s=Vy(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=i&&l>=i)return{node:s,offset:i-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Vy(s)}}function Uy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Uy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ky(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Xr(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=Xr(n.document)}return i}function gd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var iA=cr&&"documentMode"in document&&11>=document.documentMode,fo=null,yd=null,xl=null,_d=!1;function zy(n,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;_d||fo==null||fo!==Xr(l)||(l=fo,"selectionStart"in l&&gd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xl&&Ml(xl,l)||(xl=l,l=yh(yd,"onSelect"),0<l.length&&(i=new Jr("onSelect","select",null,i,s),n.push({event:i,listeners:l}),i.target=fo)))}function Ts(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var mo={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},vd={},jy={};cr&&(jy=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Ss(n){if(vd[n])return vd[n];if(!mo[n])return n;var i=mo[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in jy)return vd[n]=i[s];return n}var By=Ss("animationend"),Hy=Ss("animationiteration"),Fy=Ss("animationstart"),aA=Ss("transitionrun"),sA=Ss("transitionstart"),oA=Ss("transitioncancel"),qy=Ss("transitionend"),Gy=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Lr(n,i){Gy.set(n,i),hn(i,[n])}var Oc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},fr=[],po=0,Td=0;function Nc(){for(var n=po,i=Td=po=0;i<n;){var s=fr[i];fr[i++]=null;var l=fr[i];fr[i++]=null;var f=fr[i];fr[i++]=null;var d=fr[i];if(fr[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Ky(s,f,d)}}function Mc(n,i,s,l){fr[po++]=n,fr[po++]=i,fr[po++]=s,fr[po++]=l,Td|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Sd(n,i,s,l){return Mc(n,i,s,l),xc(n)}function ws(n,i){return Mc(n,null,null,i),xc(n)}function Ky(n,i,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=n.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-It(s),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function xc(n){if(50<tu)throw tu=0,Nm=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var go={};function lA(n,i,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(n,i,s,l){return new lA(n,i,s,l)}function wd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Oi(n,i){var s=n.alternate;return s===null?(s=Jn(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Yy(n,i){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function Pc(n,i,s,l,f,d){var _=0;if(l=n,typeof n=="function")wd(n)&&(_=1);else if(typeof n=="string")_=dR(n,s,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Jn(31,s,i,f),n.elementType=I,n.lanes=d,n;case H:return bs(s.children,f,d,i);case V:_=8,f|=24;break;case W:return n=Jn(12,s,i,f|2),n.elementType=W,n.lanes=d,n;case se:return n=Jn(13,s,i,f),n.elementType=se,n.lanes=d,n;case pe:return n=Jn(19,s,i,f),n.elementType=pe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:_=10;break e;case Z:_=9;break e;case de:_=11;break e;case S:_=14;break e;case R:_=16,l=null;break e}_=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return i=Jn(_,s,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function bs(n,i,s,l){return n=Jn(7,n,l,i),n.lanes=s,n}function bd(n,i,s){return n=Jn(6,n,null,i),n.lanes=s,n}function Qy(n){var i=Jn(18,null,null,0);return i.stateNode=n,i}function Ad(n,i,s){return i=Jn(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Xy=new WeakMap;function dr(n,i){if(typeof n=="object"&&n!==null){var s=Xy.get(n);return s!==void 0?s:(i={value:n,source:i,stack:la(i)},Xy.set(n,i),i)}return{value:n,source:i,stack:la(i)}}var yo=[],_o=0,Vc=null,Pl=0,mr=[],pr=0,va=null,ni=1,ri="";function Ni(n,i){yo[_o++]=Pl,yo[_o++]=Vc,Vc=n,Pl=i}function $y(n,i,s){mr[pr++]=ni,mr[pr++]=ri,mr[pr++]=va,va=n;var l=ni;n=ri;var f=32-It(l)-1;l&=~(1<<f),s+=1;var d=32-It(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,ni=1<<32-It(i)+f|s<<f|l,ri=d+n}else ni=1<<d|s<<f|l,ri=n}function Rd(n){n.return!==null&&(Ni(n,1),$y(n,1,0))}function Cd(n){for(;n===Vc;)Vc=yo[--_o],yo[_o]=null,Pl=yo[--_o],yo[_o]=null;for(;n===va;)va=mr[--pr],mr[pr]=null,ri=mr[--pr],mr[pr]=null,ni=mr[--pr],mr[pr]=null}function Wy(n,i){mr[pr++]=ni,mr[pr++]=ri,mr[pr++]=va,ni=i.id,ri=i.overflow,va=n}var gn=null,At=null,it=!1,Ea=null,gr=!1,Id=Error(a(519));function Ta(n){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vl(dr(i,n)),Id}function Jy(n){var i=n.stateNode,s=n.type,l=n.memoizedProps;switch(i[ge]=n,i[ye]=l,s){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(s=0;s<ru.length;s++)$e(ru[s],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),mc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),fa(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||pE(i.textContent,s)?(l.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),l.onScroll!=null&&$e("scroll",i),l.onScrollEnd!=null&&$e("scrollend",i),l.onClick!=null&&(i.onclick=Nr),i=!0):i=!1,i||Ta(n,!0)}function Zy(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:gn=gn.return}}function vo(n){if(n!==gn)return!1;if(!it)return Zy(n),it=!0,!1;var i=n.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Km(n.type,n.memoizedProps)),s=!s),s&&At&&Ta(n),Zy(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));At=bE(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));At=bE(n)}else i===27?(i=At,Va(n.type)?(n=Wm,Wm=null,At=n):At=i):At=gn?_r(n.stateNode.nextSibling):null;return!0}function As(){At=gn=null,it=!1}function Dd(){var n=Ea;return n!==null&&(Fn===null?Fn=n:Fn.push.apply(Fn,n),Ea=null),n}function Vl(n){Ea===null?Ea=[n]:Ea.push(n)}var Od=P(null),Rs=null,Mi=null;function Sa(n,i,s){he(Od,i._currentValue),i._currentValue=s}function xi(n){n._currentValue=Od.current,te(Od)}function Nd(n,i,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===s)break;n=n.return}}function Md(n,i,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),Nd(d.return,s,n),l||(_=null);break e}d=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Nd(_,s,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Eo(n,i,s,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var w=f.type;Wn(f.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(f===Ge.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(lu):n=[lu])}f=f.return}n!==null&&Md(i,n,s,l),i.flags|=262144}function Lc(n){for(n=n.firstContext;n!==null;){if(!Wn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Cs(n){Rs=n,Mi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function yn(n){return e_(Rs,n)}function Uc(n,i){return Rs===null&&Cs(n),e_(n,i)}function e_(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Mi===null){if(n===null)throw Error(a(308));Mi=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Mi=Mi.next=i;return s}var uA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},cA=r.unstable_scheduleCallback,hA=r.unstable_NormalPriority,Jt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xd(){return{controller:new uA,data:new Map,refCount:0}}function Ll(n){n.refCount--,n.refCount===0&&cA(hA,function(){n.controller.abort()})}var Ul=null,Pd=0,To=0,So=null;function fA(n,i){if(Ul===null){var s=Ul=[];Pd=0,To=Um(),So={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Pd++,i.then(t_,t_),i}function t_(){if(--Pd===0&&Ul!==null){So!==null&&(So.status="fulfilled");var n=Ul;Ul=null,To=0,So=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function dA(n,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var n_=ee.S;ee.S=function(n,i){zv=Ft(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&fA(n,i),n_!==null&&n_(n,i)};var Is=P(null);function Vd(){var n=Is.current;return n!==null?n:St.pooledCache}function kc(n,i){i===null?he(Is,Is.current):he(Is,i.pool)}function r_(){var n=Vd();return n===null?null:{parent:Jt._currentValue,pool:n}}var wo=Error(a(460)),Ld=Error(a(474)),zc=Error(a(542)),jc={then:function(){}};function i_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function a_(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Nr,Nr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,o_(n),n;default:if(typeof i.status=="string")i.then(Nr,Nr);else{if(n=St,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,o_(n),n}throw Os=i,wo}}function Ds(n){try{var i=n._init;return i(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Os=s,wo):s}}var Os=null;function s_(){if(Os===null)throw Error(a(459));var n=Os;return Os=null,n}function o_(n){if(n===wo||n===zc)throw Error(a(483))}var bo=null,kl=0;function Bc(n){var i=kl;return kl+=1,bo===null&&(bo=[]),a_(bo,n,i)}function zl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Hc(n,i){throw i.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function l_(n){function i(z,U){if(n){var G=z.deletions;G===null?(z.deletions=[U],z.flags|=16):G.push(U)}}function s(z,U){if(!n)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function f(z,U){return z=Oi(z,U),z.index=0,z.sibling=null,z}function d(z,U,G){return z.index=G,n?(G=z.alternate,G!==null?(G=G.index,G<U?(z.flags|=67108866,U):G):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function _(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function w(z,U,G,re){return U===null||U.tag!==6?(U=bd(G,z.mode,re),U.return=z,U):(U=f(U,G),U.return=z,U)}function N(z,U,G,re){var Ie=G.type;return Ie===H?ne(z,U,G.props.children,re,G.key):U!==null&&(U.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&Ds(Ie)===U.type)?(U=f(U,G.props),zl(U,G),U.return=z,U):(U=Pc(G.type,G.key,G.props,null,z.mode,re),zl(U,G),U.return=z,U)}function K(z,U,G,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Ad(G,z.mode,re),U.return=z,U):(U=f(U,G.children||[]),U.return=z,U)}function ne(z,U,G,re,Ie){return U===null||U.tag!==7?(U=bs(G,z.mode,re,Ie),U.return=z,U):(U=f(U,G),U.return=z,U)}function ie(z,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bd(""+U,z.mode,G),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return G=Pc(U.type,U.key,U.props,null,z.mode,G),zl(G,U),G.return=z,G;case L:return U=Ad(U,z.mode,G),U.return=z,U;case R:return U=Ds(U),ie(z,U,G)}if(je(U)||k(U))return U=bs(U,z.mode,G,null),U.return=z,U;if(typeof U.then=="function")return ie(z,Bc(U),G);if(U.$$typeof===X)return ie(z,Uc(z,U),G);Hc(z,U)}return null}function Y(z,U,G,re){var Ie=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Ie!==null?null:w(z,U,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return G.key===Ie?N(z,U,G,re):null;case L:return G.key===Ie?K(z,U,G,re):null;case R:return G=Ds(G),Y(z,U,G,re)}if(je(G)||k(G))return Ie!==null?null:ne(z,U,G,re,null);if(typeof G.then=="function")return Y(z,U,Bc(G),re);if(G.$$typeof===X)return Y(z,U,Uc(z,G),re);Hc(z,G)}return null}function J(z,U,G,re,Ie){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(G)||null,w(U,z,""+re,Ie);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case C:return z=z.get(re.key===null?G:re.key)||null,N(U,z,re,Ie);case L:return z=z.get(re.key===null?G:re.key)||null,K(U,z,re,Ie);case R:return re=Ds(re),J(z,U,G,re,Ie)}if(je(re)||k(re))return z=z.get(G)||null,ne(U,z,re,Ie,null);if(typeof re.then=="function")return J(z,U,G,Bc(re),Ie);if(re.$$typeof===X)return J(z,U,G,Uc(U,re),Ie);Hc(U,re)}return null}function we(z,U,G,re){for(var Ie=null,ot=null,Re=U,qe=U=0,et=null;Re!==null&&qe<G.length;qe++){Re.index>qe?(et=Re,Re=null):et=Re.sibling;var lt=Y(z,Re,G[qe],re);if(lt===null){Re===null&&(Re=et);break}n&&Re&&lt.alternate===null&&i(z,Re),U=d(lt,U,qe),ot===null?Ie=lt:ot.sibling=lt,ot=lt,Re=et}if(qe===G.length)return s(z,Re),it&&Ni(z,qe),Ie;if(Re===null){for(;qe<G.length;qe++)Re=ie(z,G[qe],re),Re!==null&&(U=d(Re,U,qe),ot===null?Ie=Re:ot.sibling=Re,ot=Re);return it&&Ni(z,qe),Ie}for(Re=l(Re);qe<G.length;qe++)et=J(Re,z,qe,G[qe],re),et!==null&&(n&&et.alternate!==null&&Re.delete(et.key===null?qe:et.key),U=d(et,U,qe),ot===null?Ie=et:ot.sibling=et,ot=et);return n&&Re.forEach(function(ja){return i(z,ja)}),it&&Ni(z,qe),Ie}function Me(z,U,G,re){if(G==null)throw Error(a(151));for(var Ie=null,ot=null,Re=U,qe=U=0,et=null,lt=G.next();Re!==null&&!lt.done;qe++,lt=G.next()){Re.index>qe?(et=Re,Re=null):et=Re.sibling;var ja=Y(z,Re,lt.value,re);if(ja===null){Re===null&&(Re=et);break}n&&Re&&ja.alternate===null&&i(z,Re),U=d(ja,U,qe),ot===null?Ie=ja:ot.sibling=ja,ot=ja,Re=et}if(lt.done)return s(z,Re),it&&Ni(z,qe),Ie;if(Re===null){for(;!lt.done;qe++,lt=G.next())lt=ie(z,lt.value,re),lt!==null&&(U=d(lt,U,qe),ot===null?Ie=lt:ot.sibling=lt,ot=lt);return it&&Ni(z,qe),Ie}for(Re=l(Re);!lt.done;qe++,lt=G.next())lt=J(Re,z,qe,lt.value,re),lt!==null&&(n&&lt.alternate!==null&&Re.delete(lt.key===null?qe:lt.key),U=d(lt,U,qe),ot===null?Ie=lt:ot.sibling=lt,ot=lt);return n&&Re.forEach(function(bR){return i(z,bR)}),it&&Ni(z,qe),Ie}function Tt(z,U,G,re){if(typeof G=="object"&&G!==null&&G.type===H&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case C:e:{for(var Ie=G.key;U!==null;){if(U.key===Ie){if(Ie=G.type,Ie===H){if(U.tag===7){s(z,U.sibling),re=f(U,G.props.children),re.return=z,z=re;break e}}else if(U.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===R&&Ds(Ie)===U.type){s(z,U.sibling),re=f(U,G.props),zl(re,G),re.return=z,z=re;break e}s(z,U);break}else i(z,U);U=U.sibling}G.type===H?(re=bs(G.props.children,z.mode,re,G.key),re.return=z,z=re):(re=Pc(G.type,G.key,G.props,null,z.mode,re),zl(re,G),re.return=z,z=re)}return _(z);case L:e:{for(Ie=G.key;U!==null;){if(U.key===Ie)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){s(z,U.sibling),re=f(U,G.children||[]),re.return=z,z=re;break e}else{s(z,U);break}else i(z,U);U=U.sibling}re=Ad(G,z.mode,re),re.return=z,z=re}return _(z);case R:return G=Ds(G),Tt(z,U,G,re)}if(je(G))return we(z,U,G,re);if(k(G)){if(Ie=k(G),typeof Ie!="function")throw Error(a(150));return G=Ie.call(G),Me(z,U,G,re)}if(typeof G.then=="function")return Tt(z,U,Bc(G),re);if(G.$$typeof===X)return Tt(z,U,Uc(z,G),re);Hc(z,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(s(z,U.sibling),re=f(U,G),re.return=z,z=re):(s(z,U),re=bd(G,z.mode,re),re.return=z,z=re),_(z)):s(z,U)}return function(z,U,G,re){try{kl=0;var Ie=Tt(z,U,G,re);return bo=null,Ie}catch(Re){if(Re===wo||Re===zc)throw Re;var ot=Jn(29,Re,null,z.mode);return ot.lanes=re,ot.return=z,ot}finally{}}}var Ns=l_(!0),u_=l_(!1),wa=!1;function Ud(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ba(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Aa(n,i,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=xc(n),Ky(n,null,s),i}return Mc(n,l,i,s),xc(n)}function jl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,j(n,s)}}function zd(n,i){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var jd=!1;function Bl(){if(jd){var n=So;if(n!==null)throw n}}function Hl(n,i,s,l){jd=!1;var f=n.updateQueue;wa=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,K=N.next;N.next=null,_===null?d=K:_.next=K,_=N;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==_&&(w===null?ne.firstBaseUpdate=K:w.next=K,ne.lastBaseUpdate=N))}if(d!==null){var ie=f.baseState;_=0,ne=K=N=null,w=d;do{var Y=w.lane&-536870913,J=Y!==w.lane;if(J?(Ze&Y)===Y:(l&Y)===Y){Y!==0&&Y===To&&(jd=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var we=n,Me=w;Y=i;var Tt=s;switch(Me.tag){case 1:if(we=Me.payload,typeof we=="function"){ie=we.call(Tt,ie,Y);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Me.payload,Y=typeof we=="function"?we.call(Tt,ie,Y):we,Y==null)break e;ie=T({},ie,Y);break e;case 2:wa=!0}}Y=w.callback,Y!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Y]:J.push(Y))}else J={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?(K=ne=J,N=ie):ne=ne.next=J,_|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;J=w,w=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ne===null&&(N=ie),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,d===null&&(f.shared.lanes=0),Oa|=_,n.lanes=_,n.memoizedState=ie}}function c_(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function h_(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)c_(s[n],i)}var Ao=P(null),Fc=P(0);function f_(n,i){n=Hi,he(Fc,n),he(Ao,i),Hi=n|i.baseLanes}function Bd(){he(Fc,Hi),he(Ao,Ao.current)}function Hd(){Hi=Fc.current,te(Ao),te(Fc)}var Zn=P(null),yr=null;function Ra(n){var i=n.alternate;he(Yt,Yt.current&1),he(Zn,n),yr===null&&(i===null||Ao.current!==null||i.memoizedState!==null)&&(yr=n)}function Fd(n){he(Yt,Yt.current),he(Zn,n),yr===null&&(yr=n)}function d_(n){n.tag===22?(he(Yt,Yt.current),he(Zn,n),yr===null&&(yr=n)):Ca()}function Ca(){he(Yt,Yt.current),he(Zn,Zn.current)}function er(n){te(Zn),yr===n&&(yr=null),te(Yt)}var Yt=P(0);function qc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Xm(s)||$m(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pi=0,He=null,vt=null,Zt=null,Gc=!1,Ro=!1,Ms=!1,Kc=0,Fl=0,Co=null,mA=0;function zt(){throw Error(a(321))}function qd(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Wn(n[s],i[s]))return!1;return!0}function Gd(n,i,s,l,f,d){return Pi=d,He=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ee.H=n===null||n.memoizedState===null?$_:sm,Ms=!1,d=s(l,f),Ms=!1,Ro&&(d=p_(i,s,l,f)),m_(n),d}function m_(n){ee.H=Kl;var i=vt!==null&&vt.next!==null;if(Pi=0,Zt=vt=He=null,Gc=!1,Fl=0,Co=null,i)throw Error(a(300));n===null||en||(n=n.dependencies,n!==null&&Lc(n)&&(en=!0))}function p_(n,i,s,l){He=n;var f=0;do{if(Ro&&(Co=null),Fl=0,Ro=!1,25<=f)throw Error(a(301));if(f+=1,Zt=vt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}ee.H=W_,d=i(s,l)}while(Ro);return d}function pA(){var n=ee.H,i=n.useState()[0];return i=typeof i.then=="function"?ql(i):i,n=n.useState()[0],(vt!==null?vt.memoizedState:null)!==n&&(He.flags|=1024),i}function Kd(){var n=Kc!==0;return Kc=0,n}function Yd(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function Qd(n){if(Gc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gc=!1}Pi=0,Zt=vt=He=null,Ro=!1,Fl=Kc=0,Co=null}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?He.memoizedState=Zt=n:Zt=Zt.next=n,Zt}function Qt(){if(vt===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=vt.next;var i=Zt===null?He.memoizedState:Zt.next;if(i!==null)Zt=i,vt=n;else{if(n===null)throw He.alternate===null?Error(a(467)):Error(a(310));vt=n,n={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Zt===null?He.memoizedState=Zt=n:Zt=Zt.next=n}return Zt}function Yc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ql(n){var i=Fl;return Fl+=1,Co===null&&(Co=[]),n=a_(Co,n,i),i=He,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,ee.H=i===null||i.memoizedState===null?$_:sm),n}function Qc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ql(n);if(n.$$typeof===X)return yn(n)}throw Error(a(438,String(n)))}function Xd(n){var i=null,s=He.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=He.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Yc(),He.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),l=0;l<n;l++)s[l]=M;return i.index++,s}function Vi(n,i){return typeof i=="function"?i(n):i}function Xc(n){var i=Qt();return $d(i,vt,n)}function $d(n,i,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var w=_=null,N=null,K=i,ne=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Ze&ie)===ie:(Pi&ie)===ie){var Y=K.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===To&&(ne=!0);else if((Pi&Y)===Y){K=K.next,Y===To&&(ne=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(w=N=ie,_=d):N=N.next=ie,He.lanes|=Y,Oa|=Y;ie=K.action,Ms&&s(d,ie),d=K.hasEagerState?K.eagerState:s(d,ie)}else Y={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},N===null?(w=N=Y,_=d):N=N.next=Y,He.lanes|=ie,Oa|=ie;K=K.next}while(K!==null&&K!==i);if(N===null?_=d:N.next=w,!Wn(d,n.memoizedState)&&(en=!0,ne&&(s=So,s!==null)))throw s;n.memoizedState=d,n.baseState=_,n.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Wd(n){var i=Qt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);Wn(d,i.memoizedState)||(en=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function g_(n,i,s){var l=He,f=Qt(),d=it;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Wn((vt||f).memoizedState,s);if(_&&(f.memoizedState=s,en=!0),f=f.queue,em(v_.bind(null,l,f,n),[n]),f.getSnapshot!==i||_||Zt!==null&&Zt.memoizedState.tag&1){if(l.flags|=2048,Io(9,{destroy:void 0},__.bind(null,l,f,s,i),null),St===null)throw Error(a(349));d||(Pi&127)!==0||y_(l,i,s)}return s}function y_(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=He.updateQueue,i===null?(i=Yc(),He.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function __(n,i,s,l){i.value=s,i.getSnapshot=l,E_(i)&&T_(n)}function v_(n,i,s){return s(function(){E_(i)&&T_(n)})}function E_(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Wn(n,s)}catch{return!0}}function T_(n){var i=ws(n,2);i!==null&&qn(i,n,2)}function Jd(n){var i=xn();if(typeof n=="function"){var s=n;if(n=s(),Ms){On(!0);try{s()}finally{On(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},i}function S_(n,i,s,l){return n.baseState=s,$d(n,vt,typeof l=="function"?l:Vi)}function gA(n,i,s,l,f){if(Jc(n))throw Error(a(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};ee.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,w_(i,d)):(d.next=s.next,i.pending=s.next=d)}}function w_(n,i){var s=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=ee.T,_={};ee.T=_;try{var w=s(f,l),N=ee.S;N!==null&&N(_,w),b_(n,i,w)}catch(K){Zd(n,i,K)}finally{d!==null&&_.types!==null&&(d.types=_.types),ee.T=d}}else try{d=s(f,l),b_(n,i,d)}catch(K){Zd(n,i,K)}}function b_(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){A_(n,i,l)},function(l){return Zd(n,i,l)}):A_(n,i,s)}function A_(n,i,s){i.status="fulfilled",i.value=s,R_(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,w_(n,s)))}function Zd(n,i,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,R_(i),i=i.next;while(i!==l)}n.action=null}function R_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function C_(n,i){return i}function I_(n,i){if(it){var s=St.formState;if(s!==null){e:{var l=He;if(it){if(At){t:{for(var f=At,d=gr;f.nodeType!==8;){if(!d){f=null;break t}if(f=_r(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){At=_r(f.nextSibling),l=f.data==="F!";break e}}Ta(l)}l=!1}l&&(i=s[0])}}return s=xn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C_,lastRenderedState:i},s.queue=l,s=Y_.bind(null,He,l),l.dispatch=s,l=Jd(!1),d=am.bind(null,He,!1,l.queue),l=xn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,s=gA.bind(null,He,f,d,s),f.dispatch=s,l.memoizedState=n,[i,s,!1]}function D_(n){var i=Qt();return O_(i,vt,n)}function O_(n,i,s){if(i=$d(n,i,C_)[0],n=Xc(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ql(i)}catch(_){throw _===wo?zc:_}else l=i;i=Qt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(He.flags|=2048,Io(9,{destroy:void 0},yA.bind(null,f,s),null)),[l,d,n]}function yA(n,i){n.action=i}function N_(n){var i=Qt(),s=vt;if(s!==null)return O_(i,s,n);Qt(),i=i.memoizedState,s=Qt();var l=s.queue.dispatch;return s.memoizedState=n,[i,l,!1]}function Io(n,i,s,l){return n={tag:n,create:s,deps:l,inst:i,next:null},i=He.updateQueue,i===null&&(i=Yc(),He.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,i.lastEffect=n),n}function M_(){return Qt().memoizedState}function $c(n,i,s,l){var f=xn();He.flags|=n,f.memoizedState=Io(1|i,{destroy:void 0},s,l===void 0?null:l)}function Wc(n,i,s,l){var f=Qt();l=l===void 0?null:l;var d=f.memoizedState.inst;vt!==null&&l!==null&&qd(l,vt.memoizedState.deps)?f.memoizedState=Io(i,d,s,l):(He.flags|=n,f.memoizedState=Io(1|i,d,s,l))}function x_(n,i){$c(8390656,8,n,i)}function em(n,i){Wc(2048,8,n,i)}function _A(n){He.flags|=4;var i=He.updateQueue;if(i===null)i=Yc(),He.updateQueue=i,i.events=[n];else{var s=i.events;s===null?i.events=[n]:s.push(n)}}function P_(n){var i=Qt().memoizedState;return _A({ref:i,nextImpl:n}),function(){if((ht&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function V_(n,i){return Wc(4,2,n,i)}function L_(n,i){return Wc(4,4,n,i)}function U_(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function k_(n,i,s){s=s!=null?s.concat([n]):null,Wc(4,4,U_.bind(null,i,n),s)}function tm(){}function z_(n,i){var s=Qt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&qd(i,l[1])?l[0]:(s.memoizedState=[n,i],n)}function j_(n,i){var s=Qt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&qd(i,l[1]))return l[0];if(l=n(),Ms){On(!0);try{n()}finally{On(!1)}}return s.memoizedState=[l,i],l}function nm(n,i,s){return s===void 0||(Pi&1073741824)!==0&&(Ze&261930)===0?n.memoizedState=i:(n.memoizedState=s,n=Bv(),He.lanes|=n,Oa|=n,s)}function B_(n,i,s,l){return Wn(s,i)?s:Ao.current!==null?(n=nm(n,s,l),Wn(n,i)||(en=!0),n):(Pi&42)===0||(Pi&1073741824)!==0&&(Ze&261930)===0?(en=!0,n.memoizedState=s):(n=Bv(),He.lanes|=n,Oa|=n,i)}function H_(n,i,s,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=ee.T,w={};ee.T=w,am(n,!1,i,s);try{var N=f(),K=ee.S;if(K!==null&&K(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ne=dA(N,l);Gl(n,i,ne,rr(n))}else Gl(n,i,l,rr(n))}catch(ie){Gl(n,i,{then:function(){},status:"rejected",reason:ie},rr())}finally{oe.p=d,_!==null&&w.types!==null&&(_.types=w.types),ee.T=_}}function vA(){}function rm(n,i,s,l){if(n.tag!==5)throw Error(a(476));var f=F_(n).queue;H_(n,f,i,Te,s===null?vA:function(){return q_(n),s(l)})}function F_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:Te},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function q_(n){var i=F_(n);i.next===null&&(i=n.alternate.memoizedState),Gl(n,i.next.queue,{},rr())}function im(){return yn(lu)}function G_(){return Qt().memoizedState}function K_(){return Qt().memoizedState}function EA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=rr();n=ba(s);var l=Aa(i,n,s);l!==null&&(qn(l,i,s),jl(l,i,s)),i={cache:xd()},n.payload=i;return}i=i.return}}function TA(n,i,s){var l=rr();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jc(n)?Q_(i,s):(s=Sd(n,i,s,l),s!==null&&(qn(s,n,l),X_(s,i,l)))}function Y_(n,i,s){var l=rr();Gl(n,i,s,l)}function Gl(n,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Jc(n))Q_(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,s);if(f.hasEagerState=!0,f.eagerState=w,Wn(w,_))return Mc(n,i,f,0),St===null&&Nc(),!1}catch{}finally{}if(s=Sd(n,i,f,l),s!==null)return qn(s,n,l),X_(s,i,l),!0}return!1}function am(n,i,s,l){if(l={lane:2,revertLane:Um(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Jc(n)){if(i)throw Error(a(479))}else i=Sd(n,s,l,2),i!==null&&qn(i,n,2)}function Jc(n){var i=n.alternate;return n===He||i!==null&&i===He}function Q_(n,i){Ro=Gc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function X_(n,i,s){if((s&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,s|=l,i.lanes=s,j(n,s)}}var Kl={readContext:yn,use:Qc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Kl.useEffectEvent=zt;var $_={readContext:yn,use:Qc,useCallback:function(n,i){return xn().memoizedState=[n,i===void 0?null:i],n},useContext:yn,useEffect:x_,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,$c(4194308,4,U_.bind(null,i,n),s)},useLayoutEffect:function(n,i){return $c(4194308,4,n,i)},useInsertionEffect:function(n,i){$c(4,2,n,i)},useMemo:function(n,i){var s=xn();i=i===void 0?null:i;var l=n();if(Ms){On(!0);try{n()}finally{On(!1)}}return s.memoizedState=[l,i],l},useReducer:function(n,i,s){var l=xn();if(s!==void 0){var f=s(i);if(Ms){On(!0);try{s(i)}finally{On(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=TA.bind(null,He,n),[l.memoizedState,n]},useRef:function(n){var i=xn();return n={current:n},i.memoizedState=n},useState:function(n){n=Jd(n);var i=n.queue,s=Y_.bind(null,He,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:tm,useDeferredValue:function(n,i){var s=xn();return nm(s,n,i)},useTransition:function(){var n=Jd(!1);return n=H_.bind(null,He,n.queue,!0,!1),xn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var l=He,f=xn();if(it){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),St===null)throw Error(a(349));(Ze&127)!==0||y_(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,x_(v_.bind(null,l,d,n),[n]),l.flags|=2048,Io(9,{destroy:void 0},__.bind(null,l,d,s,i),null),s},useId:function(){var n=xn(),i=St.identifierPrefix;if(it){var s=ri,l=ni;s=(l&~(1<<32-It(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Kc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=mA++,i="_"+i+"r_"+s.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:im,useFormState:I_,useActionState:I_,useOptimistic:function(n){var i=xn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=am.bind(null,He,!0,s),s.dispatch=i,[n,i]},useMemoCache:Xd,useCacheRefresh:function(){return xn().memoizedState=EA.bind(null,He)},useEffectEvent:function(n){var i=xn(),s={impl:n};return i.memoizedState=s,function(){if((ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},sm={readContext:yn,use:Qc,useCallback:z_,useContext:yn,useEffect:em,useImperativeHandle:k_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:j_,useReducer:Xc,useRef:M_,useState:function(){return Xc(Vi)},useDebugValue:tm,useDeferredValue:function(n,i){var s=Qt();return B_(s,vt.memoizedState,n,i)},useTransition:function(){var n=Xc(Vi)[0],i=Qt().memoizedState;return[typeof n=="boolean"?n:ql(n),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:im,useFormState:D_,useActionState:D_,useOptimistic:function(n,i){var s=Qt();return S_(s,vt,n,i)},useMemoCache:Xd,useCacheRefresh:K_};sm.useEffectEvent=P_;var W_={readContext:yn,use:Qc,useCallback:z_,useContext:yn,useEffect:em,useImperativeHandle:k_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:j_,useReducer:Wd,useRef:M_,useState:function(){return Wd(Vi)},useDebugValue:tm,useDeferredValue:function(n,i){var s=Qt();return vt===null?nm(s,n,i):B_(s,vt.memoizedState,n,i)},useTransition:function(){var n=Wd(Vi)[0],i=Qt().memoizedState;return[typeof n=="boolean"?n:ql(n),i]},useSyncExternalStore:g_,useId:G_,useHostTransitionStatus:im,useFormState:N_,useActionState:N_,useOptimistic:function(n,i){var s=Qt();return vt!==null?S_(s,vt,n,i):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Xd,useCacheRefresh:K_};W_.useEffectEvent=P_;function om(n,i,s,l){i=n.memoizedState,s=s(l,i),s=s==null?i:T({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var lm={enqueueSetState:function(n,i,s){n=n._reactInternals;var l=rr(),f=ba(l);f.payload=i,s!=null&&(f.callback=s),i=Aa(n,f,l),i!==null&&(qn(i,n,l),jl(i,n,l))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var l=rr(),f=ba(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=Aa(n,f,l),i!==null&&(qn(i,n,l),jl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=rr(),l=ba(s);l.tag=2,i!=null&&(l.callback=i),i=Aa(n,l,s),i!==null&&(qn(i,n,s),jl(i,n,s))}};function J_(n,i,s,l,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Ml(s,l)||!Ml(f,d):!0}function Z_(n,i,s,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==n&&lm.enqueueReplaceState(i,i.state,null)}function xs(n,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(n=n.defaultProps){s===i&&(s=T({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function ev(n){Oc(n)}function tv(n){console.error(n)}function nv(n){Oc(n)}function Zc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function rv(n,i,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function um(n,i,s){return s=ba(s),s.tag=3,s.payload={element:null},s.callback=function(){Zc(n,i)},s}function iv(n){return n=ba(n),n.tag=3,n}function av(n,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){rv(i,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){rv(i,s,l),typeof f!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function SA(n,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Eo(i,s,f,!0),s=Zn.current,s!==null){switch(s.tag){case 31:case 13:return yr===null?hh():s.alternate===null&&jt===0&&(jt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===jc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Pm(n,l,f)),!1;case 22:return s.flags|=65536,l===jc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Pm(n,l,f)),!1}throw Error(a(435,s.tag))}return Pm(n,l,f),hh(),!1}if(it)return i=Zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Id&&(n=Error(a(422),{cause:l}),Vl(dr(n,s)))):(l!==Id&&(i=Error(a(423),{cause:l}),Vl(dr(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=dr(l,s),f=um(n.stateNode,l,f),zd(n,f),jt!==4&&(jt=2)),!1;var d=Error(a(520),{cause:l});if(d=dr(d,s),eu===null?eu=[d]:eu.push(d),jt!==4&&(jt=2),i===null)return!0;l=dr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=um(s.stateNode,l,n),zd(s,n),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Na===null||!Na.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=iv(f),av(f,n,s,l),zd(s,f),!1}s=s.return}while(s!==null);return!1}var cm=Error(a(461)),en=!1;function _n(n,i,s,l){i.child=n===null?u_(i,null,s,l):Ns(i,n.child,s,l)}function sv(n,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Cs(i),l=Gd(n,i,s,_,d,f),w=Kd(),n!==null&&!en?(Yd(n,i,f),Li(n,i,f)):(it&&w&&Rd(i),i.flags|=1,_n(n,i,l,f),i.child)}function ov(n,i,s,l,f){if(n===null){var d=s.type;return typeof d=="function"&&!wd(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,lv(n,i,d,l,f)):(n=Pc(s.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!_m(n,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ml,s(_,l)&&n.ref===i.ref)return Li(n,i,f)}return i.flags|=1,n=Oi(d,l),n.ref=i.ref,n.return=i,i.child=n}function lv(n,i,s,l,f){if(n!==null){var d=n.memoizedProps;if(Ml(d,l)&&n.ref===i.ref)if(en=!1,i.pendingProps=l=d,_m(n,f))(n.flags&131072)!==0&&(en=!0);else return i.lanes=n.lanes,Li(n,i,f)}return hm(n,i,s,l,f)}function uv(n,i,s,l){var f=l.children,d=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,n!==null){for(l=i.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return cv(n,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&kc(i,d!==null?d.cachePool:null),d!==null?f_(i,d):Bd(),d_(i);else return l=i.lanes=536870912,cv(n,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(kc(i,d.cachePool),f_(i,d),Ca(),i.memoizedState=null):(n!==null&&kc(i,null),Bd(),Ca());return _n(n,i,f,s),i.child}function Yl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cv(n,i,s,l,f){var d=Vd();return d=d===null?null:{parent:Jt._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},n!==null&&kc(i,null),Bd(),d_(i),n!==null&&Eo(n,i,l,!0),i.childLanes=f,null}function eh(n,i){return i=nh({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function hv(n,i,s){return Ns(i,n.child,null,s),n=eh(i,i.pendingProps),n.flags|=2,er(i),i.memoizedState=null,n}function wA(n,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(it){if(l.mode==="hidden")return n=eh(i,l),i.lanes=536870912,Yl(null,n);if(Fd(i),(n=At)?(n=wE(n,gr),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:va!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},s=Qy(n),s.return=i,i.child=s,gn=i,At=null)):n=null,n===null)throw Ta(i);return i.lanes=536870912,null}return eh(i,l)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(Fd(i),f)if(i.flags&256)i.flags&=-257,i=hv(n,i,s);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(a(558));else if(en||Eo(n,i,s,!1),f=(s&n.childLanes)!==0,en||f){if(l=St,l!==null&&(_=Q(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,ws(n,_),qn(l,n,_),cm;hh(),i=hv(n,i,s)}else n=d.treeContext,At=_r(_.nextSibling),gn=i,it=!0,Ea=null,gr=!1,n!==null&&Wy(i,n),i=eh(i,l),i.flags|=4096;return i}return n=Oi(n.child,{mode:l.mode,children:l.children}),n.ref=i.ref,i.child=n,n.return=i,n}function th(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=4194816)}}function hm(n,i,s,l,f){return Cs(i),s=Gd(n,i,s,l,void 0,f),l=Kd(),n!==null&&!en?(Yd(n,i,f),Li(n,i,f)):(it&&l&&Rd(i),i.flags|=1,_n(n,i,s,f),i.child)}function fv(n,i,s,l,f,d){return Cs(i),i.updateQueue=null,s=p_(i,l,s,f),m_(n),l=Kd(),n!==null&&!en?(Yd(n,i,d),Li(n,i,d)):(it&&l&&Rd(i),i.flags|=1,_n(n,i,s,d),i.child)}function dv(n,i,s,l,f){if(Cs(i),i.stateNode===null){var d=go,_=s.contextType;typeof _=="object"&&_!==null&&(d=yn(_)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lm,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ud(i),_=s.contextType,d.context=typeof _=="object"&&_!==null?yn(_):go,d.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(om(i,s,_,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&lm.enqueueReplaceState(d,d.state,null),Hl(i,l,d,f),Bl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var w=i.memoizedProps,N=xs(s,w);d.props=N;var K=d.context,ne=s.contextType;_=go,typeof ne=="object"&&ne!==null&&(_=yn(ne));var ie=s.getDerivedStateFromProps;ne=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||K!==_)&&Z_(i,d,l,_),wa=!1;var Y=i.memoizedState;d.state=Y,Hl(i,l,d,f),Bl(),K=i.memoizedState,w||Y!==K||wa?(typeof ie=="function"&&(om(i,s,ie,l),K=i.memoizedState),(N=wa||J_(i,s,N,l,Y,K,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kd(n,i),_=i.memoizedProps,ne=xs(s,_),d.props=ne,ie=i.pendingProps,Y=d.context,K=s.contextType,N=go,typeof K=="object"&&K!==null&&(N=yn(K)),w=s.getDerivedStateFromProps,(K=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ie||Y!==N)&&Z_(i,d,l,N),wa=!1,Y=i.memoizedState,d.state=Y,Hl(i,l,d,f),Bl();var J=i.memoizedState;_!==ie||Y!==J||wa||n!==null&&n.dependencies!==null&&Lc(n.dependencies)?(typeof w=="function"&&(om(i,s,w,l),J=i.memoizedState),(ne=wa||J_(i,s,ne,l,Y,J,N)||n!==null&&n.dependencies!==null&&Lc(n.dependencies))?(K||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=J),d.props=l,d.state=J,d.context=N,l=ne):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Y===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,th(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ns(i,n.child,null,f),i.child=Ns(i,null,s,f)):_n(n,i,s,f),i.memoizedState=d.state,n=i.child):n=Li(n,i,f),n}function mv(n,i,s,l){return As(),i.flags|=256,_n(n,i,s,l),i.child}var fm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dm(n){return{baseLanes:n,cachePool:r_()}}function mm(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=nr),n}function pv(n,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(Yt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(it){if(f?Ra(i):Ca(),(n=At)?(n=wE(n,gr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:va!==null?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},s=Qy(n),s.return=i,i.child=s,gn=i,At=null)):n=null,n===null)throw Ta(i);return $m(n)?i.lanes=32:i.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Ca(),f=i.mode,w=nh({mode:"hidden",children:w},f),l=bs(l,f,s,null),w.return=i,l.return=i,w.sibling=l,i.child=w,l=i.child,l.memoizedState=dm(s),l.childLanes=mm(n,_,s),i.memoizedState=fm,Yl(null,l)):(Ra(i),pm(i,w))}var N=n.memoizedState;if(N!==null&&(w=N.dehydrated,w!==null)){if(d)i.flags&256?(Ra(i),i.flags&=-257,i=gm(n,i,s)):i.memoizedState!==null?(Ca(),i.child=n.child,i.flags|=128,i=null):(Ca(),w=l.fallback,f=i.mode,l=nh({mode:"visible",children:l.children},f),w=bs(w,f,s,null),w.flags|=2,l.return=i,w.return=i,l.sibling=w,i.child=l,Ns(i,n.child,null,s),l=i.child,l.memoizedState=dm(s),l.childLanes=mm(n,_,s),i.memoizedState=fm,i=Yl(null,l));else if(Ra(i),$m(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var K=_.dgst;_=K,l=Error(a(419)),l.stack="",l.digest=_,Vl({value:l,source:null,stack:null}),i=gm(n,i,s)}else if(en||Eo(n,i,s,!1),_=(s&n.childLanes)!==0,en||_){if(_=St,_!==null&&(l=Q(_,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,ws(n,l),qn(_,n,l),cm;Xm(w)||hh(),i=gm(n,i,s)}else Xm(w)?(i.flags|=192,i.child=n.child,i=null):(n=N.treeContext,At=_r(w.nextSibling),gn=i,it=!0,Ea=null,gr=!1,n!==null&&Wy(i,n),i=pm(i,l.children),i.flags|=4096);return i}return f?(Ca(),w=l.fallback,f=i.mode,N=n.child,K=N.sibling,l=Oi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,K!==null?w=Oi(K,w):(w=bs(w,f,s,null),w.flags|=2),w.return=i,l.return=i,l.sibling=w,i.child=l,Yl(null,l),l=i.child,w=n.child.memoizedState,w===null?w=dm(s):(f=w.cachePool,f!==null?(N=Jt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=r_(),w={baseLanes:w.baseLanes|s,cachePool:f}),l.memoizedState=w,l.childLanes=mm(n,_,s),i.memoizedState=fm,Yl(n.child,l)):(Ra(i),s=n.child,n=s.sibling,s=Oi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function pm(n,i){return i=nh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function nh(n,i){return n=Jn(22,n,null,i),n.lanes=0,n}function gm(n,i,s){return Ns(i,n.child,null,s),n=pm(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function gv(n,i,s){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Nd(n.return,i,s)}function ym(n,i,s,l,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=f,_.treeForkCount=d)}function yv(n,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=Yt.current,w=(_&2)!==0;if(w?(_=_&1|2,i.flags|=128):_&=1,he(Yt,_),_n(n,i,l,s),l=it?Pl:0,!w&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&gv(n,s,i);else if(n.tag===19)gv(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&qc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),ym(i,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&qc(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}ym(i,!0,s,null,d,l);break;case"together":ym(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Li(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),Oa|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Eo(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=Oi(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=Oi(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function _m(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Lc(n)))}function bA(n,i,s){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),Sa(i,Jt,n.memoizedState.cache),As();break;case 27:case 5:_i(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:Sa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Fd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?pv(n,i,s):(Ra(i),n=Li(n,i,s),n!==null?n.sibling:null);Ra(i);break;case 19:var f=(n.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Eo(n,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return yv(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Yt,Yt.current),l)break;return null;case 22:return i.lanes=0,uv(n,i,s,i.pendingProps);case 24:Sa(i,Jt,n.memoizedState.cache)}return Li(n,i,s)}function _v(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)en=!0;else{if(!_m(n,s)&&(i.flags&128)===0)return en=!1,bA(n,i,s);en=(n.flags&131072)!==0}else en=!1,it&&(i.flags&1048576)!==0&&$y(i,Pl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(n=Ds(i.elementType),i.type=n,typeof n=="function")wd(n)?(l=xs(n,l),i.tag=1,i=dv(null,i,n,l,s)):(i.tag=0,i=hm(null,i,n,l,s));else{if(n!=null){var f=n.$$typeof;if(f===de){i.tag=11,i=sv(null,i,n,l,s);break e}else if(f===S){i.tag=14,i=ov(null,i,n,l,s);break e}}throw i=Oe(n)||n,Error(a(306,i,""))}}return i;case 0:return hm(n,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=xs(l,i.pendingProps),dv(n,i,l,f,s);case 3:e:{if(Bt(i,i.stateNode.containerInfo),n===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,kd(n,i),Hl(i,l,null,s);var _=i.memoizedState;if(l=_.cache,Sa(i,Jt,l),l!==d.cache&&Md(i,[Jt],s,!0),Bl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=mv(n,i,l,s);break e}else if(l!==f){f=dr(Error(a(424)),i),Vl(f),i=mv(n,i,l,s);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(At=_r(n.firstChild),gn=i,it=!0,Ea=null,gr=!0,s=u_(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(As(),l===f){i=Li(n,i,s);break e}_n(n,i,l,s)}i=i.child}return i;case 26:return th(n,i),n===null?(s=DE(i.type,null,i.pendingProps,null))?i.memoizedState=s:it||(s=i.type,n=i.pendingProps,l=_h(Le.current).createElement(s),l[ge]=i,l[ye]=n,vn(l,s,n),ut(l),i.stateNode=l):i.memoizedState=DE(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _i(i),n===null&&it&&(l=i.stateNode=RE(i.type,i.pendingProps,Le.current),gn=i,gr=!0,f=At,Va(i.type)?(Wm=f,At=_r(l.firstChild)):At=f),_n(n,i,i.pendingProps.children,s),th(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&it&&((f=l=At)&&(l=eR(l,i.type,i.pendingProps,gr),l!==null?(i.stateNode=l,gn=i,At=_r(l.firstChild),gr=!1,f=!0):f=!1),f||Ta(i)),_i(i),f=i.type,d=i.pendingProps,_=n!==null?n.memoizedProps:null,l=d.children,Km(f,d)?l=null:_!==null&&Km(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=Gd(n,i,pA,null,null,s),lu._currentValue=f),th(n,i),_n(n,i,l,s),i.child;case 6:return n===null&&it&&((n=s=At)&&(s=tR(s,i.pendingProps,gr),s!==null?(i.stateNode=s,gn=i,At=null,n=!0):n=!1),n||Ta(i)),null;case 13:return pv(n,i,s);case 4:return Bt(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ns(i,null,l,s):_n(n,i,l,s),i.child;case 11:return sv(n,i,i.type,i.pendingProps,s);case 7:return _n(n,i,i.pendingProps,s),i.child;case 8:return _n(n,i,i.pendingProps.children,s),i.child;case 12:return _n(n,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Sa(i,i.type,l.value),_n(n,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Cs(i),f=yn(f),l=l(f),i.flags|=1,_n(n,i,l,s),i.child;case 14:return ov(n,i,i.type,i.pendingProps,s);case 15:return lv(n,i,i.type,i.pendingProps,s);case 19:return yv(n,i,s);case 31:return wA(n,i,s);case 22:return uv(n,i,s,i.pendingProps);case 24:return Cs(i),l=yn(Jt),n===null?(f=Vd(),f===null&&(f=St,d=xd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},Ud(i),Sa(i,Jt,f)):((n.lanes&s)!==0&&(kd(n,i),Hl(i,null,null,s),Bl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Sa(i,Jt,l)):(l=d.cache,Sa(i,Jt,l),l!==f.cache&&Md(i,[Jt],s,!0))),_n(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ui(n){n.flags|=4}function vm(n,i,s,l,f){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Gv())n.flags|=8192;else throw Os=jc,Ld}else n.flags&=-16777217}function vv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!PE(i))if(Gv())n.flags|=8192;else throw Os=jc,Ld}function rh(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?bi():536870912,n.lanes|=i,Mo|=i)}function Ql(n,i){if(!it)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,i}function AA(n,i,s){var l=i.pendingProps;switch(Cd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return s=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),xi(Jt),wt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(vo(i)?Ui(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dd())),Rt(i),null;case 26:var f=i.type,d=i.memoizedState;return n===null?(Ui(i),d!==null?(Rt(i),vv(i,d)):(Rt(i),vm(i,f,null,l,s))):d?d!==n.memoizedState?(Ui(i),Rt(i),vv(i,d)):(Rt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==l&&Ui(i),Rt(i),vm(i,f,n,l,s)),null;case 27:if(Mt(i),s=Le.current,f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}n=me.current,vo(i)?Jy(i):(n=RE(f,l,s),i.stateNode=n,Ui(i))}return Rt(i),null;case 5:if(Mt(i),f=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}if(d=me.current,vo(i))Jy(i);else{var _=_h(Le.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[ge]=i,d[ye]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(vn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ui(i)}}return Rt(i),vm(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,s),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(n=Le.current,vo(i)){if(n=i.stateNode,s=i.memoizedProps,l=null,f=gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ge]=i,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||pE(n.nodeValue,s)),n||Ta(i,!0)}else n=_h(n).createTextNode(l),n[ge]=i,i.stateNode=n}return Rt(i),null;case 31:if(s=i.memoizedState,n===null||n.memoizedState!==null){if(l=vo(i),s!==null){if(n===null){if(!l)throw Error(a(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[ge]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),n=!1}else s=Dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return i.flags&256?(er(i),i):(er(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Rt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=vo(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ge]=i}else As(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),f=!1}else f=Dd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(er(i),i):(er(i),null)}return er(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==n&&s&&(i.child.flags|=8192),rh(i,i.updateQueue),Rt(i),null);case 4:return wt(),n===null&&Bm(i.stateNode.containerInfo),Rt(i),null;case 10:return xi(i.type),Rt(i),null;case 19:if(te(Yt),l=i.memoizedState,l===null)return Rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Ql(l,!1);else{if(jt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=qc(n),d!==null){for(i.flags|=128,Ql(l,!1),n=d.updateQueue,i.updateQueue=n,rh(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Yy(s,n),s=s.sibling;return he(Yt,Yt.current&1|2),it&&Ni(i,l.treeForkCount),i.child}n=n.sibling}l.tail!==null&&Ft()>lh&&(i.flags|=128,f=!0,Ql(l,!1),i.lanes=4194304)}else{if(!f)if(n=qc(d),n!==null){if(i.flags|=128,f=!0,n=n.updateQueue,i.updateQueue=n,rh(i,n),Ql(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!it)return Rt(i),null}else 2*Ft()-l.renderingStartTime>lh&&s!==536870912&&(i.flags|=128,f=!0,Ql(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(n=l.last,n!==null?n.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=Ft(),n.sibling=null,s=Yt.current,he(Yt,f?s&1|2:s&1),it&&Ni(i,l.treeForkCount),n):(Rt(i),null);case 22:case 23:return er(i),Hd(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),s=i.updateQueue,s!==null&&rh(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),n!==null&&te(Is),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),xi(Jt),Rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function RA(n,i){switch(Cd(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return xi(Jt),wt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Mt(i),null;case 31:if(i.memoizedState!==null){if(er(i),i.alternate===null)throw Error(a(340));As()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(er(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));As()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return te(Yt),null;case 4:return wt(),null;case 10:return xi(i.type),null;case 22:case 23:return er(i),Hd(),n!==null&&te(Is),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return xi(Jt),null;case 25:return null;default:return null}}function Ev(n,i){switch(Cd(i),i.tag){case 3:xi(Jt),wt();break;case 26:case 27:case 5:Mt(i);break;case 4:wt();break;case 31:i.memoizedState!==null&&er(i);break;case 13:er(i);break;case 19:te(Yt);break;case 10:xi(i.type);break;case 22:case 23:er(i),Hd(),n!==null&&te(Is);break;case 24:xi(Jt)}}function Xl(n,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==f)}}catch(w){yt(i,i.return,w)}}function Ia(n,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var N=s,K=w;try{K()}catch(ne){yt(f,N,ne)}}}l=l.next}while(l!==d)}}catch(ne){yt(i,i.return,ne)}}function Tv(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{h_(i,s)}catch(l){yt(n,n.return,l)}}}function Sv(n,i,s){s.props=xs(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){yt(n,i,l)}}function $l(n,i){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){yt(n,i,f)}}function ii(n,i){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){yt(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){yt(n,i,f)}else s.current=null}function wv(n){var i=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){yt(n,n.return,f)}}function Em(n,i,s){try{var l=n.stateNode;QA(l,n.type,s,i),l[ye]=i}catch(f){yt(n,n.return,f)}}function bv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Va(n.type)||n.tag===4}function Tm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||bv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Va(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Sm(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(n),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Nr));else if(l!==4&&(l===27&&Va(n.type)&&(s=n.stateNode,i=null),n=n.child,n!==null))for(Sm(n,i,s),n=n.sibling;n!==null;)Sm(n,i,s),n=n.sibling}function ih(n,i,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(l!==4&&(l===27&&Va(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(ih(n,i,s),n=n.sibling;n!==null;)ih(n,i,s),n=n.sibling}function Av(n){var i=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);vn(i,l,s),i[ge]=n,i[ye]=s}catch(d){yt(n,n.return,d)}}var ki=!1,tn=!1,wm=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,fn=null;function CA(n,i){if(n=n.containerInfo,qm=Ah,n=ky(n),gd(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var _=0,w=-1,N=-1,K=0,ne=0,ie=n,Y=null;t:for(;;){for(var J;ie!==s||f!==0&&ie.nodeType!==3||(w=_+f),ie!==d||l!==0&&ie.nodeType!==3||(N=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),(J=ie.firstChild)!==null;)Y=ie,ie=J;for(;;){if(ie===n)break t;if(Y===s&&++K===f&&(w=_),Y===d&&++ne===l&&(N=_),(J=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=J}s=w===-1||N===-1?null:{start:w,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Gm={focusedElem:n,selectionRange:s},Ah=!1,fn=i;fn!==null;)if(i=fn,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,fn=n;else for(;fn!==null;){switch(i=fn,d=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var we=xs(s.type,f);n=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Me){yt(s,s.return,Me)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)Qm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Qm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,fn=n;break}fn=i.return}}function Cv(n,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ji(n,s),l&4&&Xl(5,s);break;case 1:if(ji(n,s),l&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(_){yt(s,s.return,_)}else{var f=xs(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(_){yt(s,s.return,_)}}l&64&&Tv(s),l&512&&$l(s,s.return);break;case 3:if(ji(n,s),l&64&&(n=s.updateQueue,n!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{h_(n,i)}catch(_){yt(s,s.return,_)}}break;case 27:i===null&&l&4&&Av(s);case 26:case 5:ji(n,s),i===null&&l&4&&wv(s),l&512&&$l(s,s.return);break;case 12:ji(n,s);break;case 31:ji(n,s),l&4&&Ov(n,s);break;case 13:ji(n,s),l&4&&Nv(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=LA.bind(null,s),nR(n,s))));break;case 22:if(l=s.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||tn,f=ki;var d=tn;ki=l,(tn=i)&&!d?Bi(n,s,(s.subtreeFlags&8772)!==0):ji(n,s),ki=f,tn=d}break;case 30:break;default:ji(n,s)}}function Iv(n){var i=n.alternate;i!==null&&(n.alternate=null,Iv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&st(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Nt=null,jn=!1;function zi(n,i,s){for(s=s.child;s!==null;)Dv(n,i,s),s=s.sibling}function Dv(n,i,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(qt,s)}catch{}switch(s.tag){case 26:tn||ii(s,i),zi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:tn||ii(s,i);var l=Nt,f=jn;Va(s.type)&&(Nt=s.stateNode,jn=!1),zi(n,i,s),au(s.stateNode),Nt=l,jn=f;break;case 5:tn||ii(s,i);case 6:if(l=Nt,f=jn,Nt=null,zi(n,i,s),Nt=l,jn=f,Nt!==null)if(jn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(s.stateNode)}catch(d){yt(s,i,d)}else try{Nt.removeChild(s.stateNode)}catch(d){yt(s,i,d)}break;case 18:Nt!==null&&(jn?(n=Nt,TE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),jo(n)):TE(Nt,s.stateNode));break;case 4:l=Nt,f=jn,Nt=s.stateNode.containerInfo,jn=!0,zi(n,i,s),Nt=l,jn=f;break;case 0:case 11:case 14:case 15:Ia(2,s,i),tn||Ia(4,s,i),zi(n,i,s);break;case 1:tn||(ii(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Sv(s,i,l)),zi(n,i,s);break;case 21:zi(n,i,s);break;case 22:tn=(l=tn)||s.memoizedState!==null,zi(n,i,s),tn=l;break;default:zi(n,i,s)}}function Ov(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{jo(n)}catch(s){yt(i,i.return,s)}}}function Nv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jo(n)}catch(s){yt(i,i.return,s)}}function IA(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Rv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Rv),i;default:throw Error(a(435,n.tag))}}function ah(n,i){var s=IA(n);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=UA.bind(null,n,l);l.then(f,f)}})}function Bn(n,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=n,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Va(w.type)){Nt=w.stateNode,jn=!1;break e}break;case 5:Nt=w.stateNode,jn=!1;break e;case 3:case 4:Nt=w.stateNode.containerInfo,jn=!0;break e}w=w.return}if(Nt===null)throw Error(a(160));Dv(d,_,f),Nt=null,jn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Mv(i,n),i=i.sibling}var Ur=null;function Mv(n,i){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bn(i,n),Hn(n),l&4&&(Ia(3,n,n.return),Xl(3,n),Ia(5,n,n.return));break;case 1:Bn(i,n),Hn(n),l&512&&(tn||s===null||ii(s,s.return)),l&64&&ki&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Ur;if(Bn(i,n),Hn(n),l&512&&(tn||s===null||ii(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mt]||d[ge]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),vn(d,l,s),d[ge]=n,ut(d),l=d;break e;case"link":var _=ME("link","href",f).get(l+(s.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(w,1);break t}}d=f.createElement(l),vn(d,l,s),f.head.appendChild(d);break;case"meta":if(_=ME("meta","content",f).get(l+(s.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(w,1);break t}}d=f.createElement(l),vn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[ge]=n,ut(d),l=d}n.stateNode=l}else xE(f,n.type,n.stateNode);else n.stateNode=NE(f,l,n.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?xE(f,n.type,n.stateNode):NE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Em(n,n.memoizedProps,s.memoizedProps)}break;case 27:Bn(i,n),Hn(n),l&512&&(tn||s===null||ii(s,s.return)),s!==null&&l&4&&Em(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Bn(i,n),Hn(n),l&512&&(tn||s===null||ii(s,s.return)),n.flags&32){f=n.stateNode;try{zn(f,"")}catch(we){yt(n,n.return,we)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Em(n,f,s!==null?s.memoizedProps:f)),l&1024&&(wm=!0);break;case 6:if(Bn(i,n),Hn(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(we){yt(n,n.return,we)}}break;case 3:if(Th=null,f=Ur,Ur=vh(i.containerInfo),Bn(i,n),Ur=f,Hn(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{jo(i.containerInfo)}catch(we){yt(n,n.return,we)}wm&&(wm=!1,xv(n));break;case 4:l=Ur,Ur=vh(n.stateNode.containerInfo),Bn(i,n),Hn(n),Ur=l;break;case 12:Bn(i,n),Hn(n);break;case 31:Bn(i,n),Hn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ah(n,l)));break;case 13:Bn(i,n),Hn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(oh=Ft()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ah(n,l)));break;case 22:f=n.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,K=ki,ne=tn;if(ki=K||f,tn=ne||N,Bn(i,n),tn=ne,ki=K,Hn(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||N||ki||tn||Ps(n)),s=null,i=n;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=N.stateNode;var ie=N.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(we){yt(N,N.return,we)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(we){yt(N,N.return,we)}}}else if(i.tag===18){if(s===null){N=i;try{var J=N.stateNode;f?SE(J,!0):SE(N.stateNode,!1)}catch(we){yt(N,N.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ah(n,s))));break;case 19:Bn(i,n),Hn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,ah(n,l)));break;case 30:break;case 21:break;default:Bn(i,n),Hn(n)}}function Hn(n){var i=n.flags;if(i&2){try{for(var s,l=n.return;l!==null;){if(bv(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Tm(n);ih(n,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(zn(_,""),s.flags&=-33);var w=Tm(n);ih(n,w,_);break;case 3:case 4:var N=s.stateNode.containerInfo,K=Tm(n);Sm(n,K,N);break;default:throw Error(a(161))}}catch(ne){yt(n,n.return,ne)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ji(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Cv(n,i.alternate,i),i=i.sibling}function Ps(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Ia(4,i,i.return),Ps(i);break;case 1:ii(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Sv(i,i.return,s),Ps(i);break;case 27:au(i.stateNode);case 26:case 5:ii(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}n=n.sibling}}function Bi(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Bi(f,d,s),Xl(4,d);break;case 1:if(Bi(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){yt(l,l.return,K)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)c_(N[f],w)}catch(K){yt(l,l.return,K)}}s&&_&64&&Tv(d),$l(d,d.return);break;case 27:Av(d);case 26:case 5:Bi(f,d,s),s&&l===null&&_&4&&wv(d),$l(d,d.return);break;case 12:Bi(f,d,s);break;case 31:Bi(f,d,s),s&&_&4&&Ov(f,d);break;case 13:Bi(f,d,s),s&&_&4&&Nv(f,d);break;case 22:d.memoizedState===null&&Bi(f,d,s),$l(d,d.return);break;case 30:break;default:Bi(f,d,s)}i=i.sibling}}function bm(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Ll(s))}function Am(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ll(n))}function kr(n,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Pv(n,i,s,l),i=i.sibling}function Pv(n,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:kr(n,i,s,l),f&2048&&Xl(9,i);break;case 1:kr(n,i,s,l);break;case 3:kr(n,i,s,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Ll(n)));break;case 12:if(f&2048){kr(n,i,s,l),n=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){yt(i,i.return,N)}}else kr(n,i,s,l);break;case 31:kr(n,i,s,l);break;case 13:kr(n,i,s,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?kr(n,i,s,l):Wl(n,i):d._visibility&2?kr(n,i,s,l):(d._visibility|=2,Do(n,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&bm(_,i);break;case 24:kr(n,i,s,l),f&2048&&Am(i.alternate,i);break;default:kr(n,i,s,l)}}function Do(n,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=n,_=i,w=s,N=l,K=_.flags;switch(_.tag){case 0:case 11:case 15:Do(d,_,w,N,f),Xl(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?Do(d,_,w,N,f):Wl(d,_):(ne._visibility|=2,Do(d,_,w,N,f)),f&&K&2048&&bm(_.alternate,_);break;case 24:Do(d,_,w,N,f),f&&K&2048&&Am(_.alternate,_);break;default:Do(d,_,w,N,f)}i=i.sibling}}function Wl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,l=i,f=l.flags;switch(l.tag){case 22:Wl(s,l),f&2048&&bm(l.alternate,l);break;case 24:Wl(s,l),f&2048&&Am(l.alternate,l);break;default:Wl(s,l)}i=i.sibling}}var Jl=8192;function Oo(n,i,s){if(n.subtreeFlags&Jl)for(n=n.child;n!==null;)Vv(n,i,s),n=n.sibling}function Vv(n,i,s){switch(n.tag){case 26:Oo(n,i,s),n.flags&Jl&&n.memoizedState!==null&&mR(s,Ur,n.memoizedState,n.memoizedProps);break;case 5:Oo(n,i,s);break;case 3:case 4:var l=Ur;Ur=vh(n.stateNode.containerInfo),Oo(n,i,s),Ur=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=Jl,Jl=16777216,Oo(n,i,s),Jl=l):Oo(n,i,s));break;default:Oo(n,i,s)}}function Lv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Zl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];fn=l,kv(l,n)}Lv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uv(n),n=n.sibling}function Uv(n){switch(n.tag){case 0:case 11:case 15:Zl(n),n.flags&2048&&Ia(9,n,n.return);break;case 3:Zl(n);break;case 12:Zl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,sh(n)):Zl(n);break;default:Zl(n)}}function sh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];fn=l,kv(l,n)}Lv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Ia(8,i,i.return),sh(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,sh(i));break;default:sh(i)}n=n.sibling}}function kv(n,i){for(;fn!==null;){var s=fn;switch(s.tag){case 0:case 11:case 15:Ia(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,fn=l;else e:for(s=n;fn!==null;){l=fn;var f=l.sibling,d=l.return;if(Iv(l),l===s){fn=null;break e}if(f!==null){f.return=d,fn=f;break e}fn=d}}}var DA={getCacheForType:function(n){var i=yn(Jt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s},cacheSignal:function(){return yn(Jt).controller.signal}},OA=typeof WeakMap=="function"?WeakMap:Map,ht=0,St=null,Xe=null,Ze=0,gt=0,tr=null,Da=!1,No=!1,Rm=!1,Hi=0,jt=0,Oa=0,Vs=0,Cm=0,nr=0,Mo=0,eu=null,Fn=null,Im=!1,oh=0,zv=0,lh=1/0,uh=null,Na=null,on=0,Ma=null,xo=null,Fi=0,Dm=0,Om=null,jv=null,tu=0,Nm=null;function rr(){return(ht&2)!==0&&Ze!==0?Ze&-Ze:ee.T!==null?Um():be()}function Bv(){if(nr===0)if((Ze&536870912)===0||it){var n=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),nr=n}else nr=536870912;return n=Zn.current,n!==null&&(n.flags|=32),nr}function qn(n,i,s){(n===St&&(gt===2||gt===9)||n.cancelPendingCommit!==null)&&(Po(n,0),xa(n,Ze,nr,!1)),Ai(n,s),((ht&2)===0||n!==St)&&(n===St&&((ht&2)===0&&(Vs|=s),jt===4&&xa(n,Ze,nr,!1)),ai(n))}function Hv(n,i,s){if((ht&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&n.expiredLanes)===0||Ln(n,i),f=l?xA(n,i):xm(n,i,!0),d=l;do{if(f===0){No&&!l&&xa(n,i,0,!1);break}else{if(s=n.current.alternate,d&&!NA(s)){f=xm(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=n;f=eu;var N=w.current.memoizedState.isDehydrated;if(N&&(Po(w,_).flags|=256),_=xm(w,_,!1),_!==2){if(Rm&&!N){w.errorRecoveryDisabledLanes|=d,Vs|=d,f=4;break e}d=Fn,Fn=f,d!==null&&(Fn===null?Fn=d:Fn.push.apply(Fn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Po(n,0),xa(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:xa(l,i,nr,!Da);break e;case 2:Fn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=oh+300-Ft(),10<f)){if(xa(l,i,nr,!Da),lr(l,0,!0)!==0)break e;Fi=i,l.timeoutHandle=vE(Fv.bind(null,l,s,Fn,uh,Im,i,nr,Vs,Mo,Da,d,"Throttled",-0,0),f);break e}Fv(l,s,Fn,uh,Im,i,nr,Vs,Mo,Da,d,null,-0,0)}}break}while(!0);ai(n)}function Fv(n,i,s,l,f,d,_,w,N,K,ne,ie,Y,J){if(n.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},Vv(i,d,ie);var we=(d&62914560)===d?oh-Ft():(d&4194048)===d?zv-Ft():0;if(we=pR(ie,we),we!==null){Fi=d,n.cancelPendingCommit=we(Wv.bind(null,n,i,d,s,l,f,_,w,N,ne,ie,null,Y,J)),xa(n,d,_,!K);return}}Wv(n,i,d,s,l,f,_,w,N)}function NA(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Wn(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xa(n,i,s,l){i&=~Cm,i&=~Vs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-It(f),_=1<<d;l[d]=-1,f&=~_}s!==0&&O(n,s,i)}function ch(){return(ht&6)===0?(nu(0),!1):!0}function Mm(){if(Xe!==null){if(gt===0)var n=Xe.return;else n=Xe,Mi=Rs=null,Qd(n),bo=null,kl=0,n=Xe;for(;n!==null;)Ev(n.alternate,n),n=n.return;Xe=null}}function Po(n,i){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,WA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Fi=0,Mm(),St=n,Xe=s=Oi(n.current,null),Ze=i,gt=0,tr=null,Da=!1,No=Ln(n,i),Rm=!1,Mo=nr=Cm=Vs=Oa=jt=0,Fn=eu=null,Im=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-It(l),d=1<<f;i|=n[f],l&=~d}return Hi=i,Nc(),s}function qv(n,i){He=null,ee.H=Kl,i===wo||i===zc?(i=s_(),gt=3):i===Ld?(i=s_(),gt=4):gt=i===cm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,tr=i,Xe===null&&(jt=1,Zc(n,dr(i,n.current)))}function Gv(){var n=Zn.current;return n===null?!0:(Ze&4194048)===Ze?yr===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?n===yr:!1}function Kv(){var n=ee.H;return ee.H=Kl,n===null?Kl:n}function Yv(){var n=ee.A;return ee.A=DA,n}function hh(){jt=4,Da||(Ze&4194048)!==Ze&&Zn.current!==null||(No=!0),(Oa&134217727)===0&&(Vs&134217727)===0||St===null||xa(St,Ze,nr,!1)}function xm(n,i,s){var l=ht;ht|=2;var f=Kv(),d=Yv();(St!==n||Ze!==i)&&(uh=null,Po(n,i)),i=!1;var _=jt;e:do try{if(gt!==0&&Xe!==null){var w=Xe,N=tr;switch(gt){case 8:Mm(),_=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(i=!0);var K=gt;if(gt=0,tr=null,Vo(n,w,N,K),s&&No){_=0;break e}break;default:K=gt,gt=0,tr=null,Vo(n,w,N,K)}}MA(),_=jt;break}catch(ne){qv(n,ne)}while(!0);return i&&n.shellSuspendCounter++,Mi=Rs=null,ht=l,ee.H=f,ee.A=d,Xe===null&&(St=null,Ze=0,Nc()),_}function MA(){for(;Xe!==null;)Qv(Xe)}function xA(n,i){var s=ht;ht|=2;var l=Kv(),f=Yv();St!==n||Ze!==i?(uh=null,lh=Ft()+500,Po(n,i)):No=Ln(n,i);e:do try{if(gt!==0&&Xe!==null){i=Xe;var d=tr;t:switch(gt){case 1:gt=0,tr=null,Vo(n,i,d,1);break;case 2:case 9:if(i_(d)){gt=0,tr=null,Xv(i);break}i=function(){gt!==2&&gt!==9||St!==n||(gt=7),ai(n)},d.then(i,i);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:i_(d)?(gt=0,tr=null,Xv(i)):(gt=0,tr=null,Vo(n,i,d,7));break;case 5:var _=null;switch(Xe.tag){case 26:_=Xe.memoizedState;case 5:case 27:var w=Xe;if(_?PE(_):w.stateNode.complete){gt=0,tr=null;var N=w.sibling;if(N!==null)Xe=N;else{var K=w.return;K!==null?(Xe=K,fh(K)):Xe=null}break t}}gt=0,tr=null,Vo(n,i,d,5);break;case 6:gt=0,tr=null,Vo(n,i,d,6);break;case 8:Mm(),jt=6;break e;default:throw Error(a(462))}}PA();break}catch(ne){qv(n,ne)}while(!0);return Mi=Rs=null,ee.H=l,ee.A=f,ht=s,Xe!==null?0:(St=null,Ze=0,Nc(),jt)}function PA(){for(;Xe!==null&&!_l();)Qv(Xe)}function Qv(n){var i=_v(n.alternate,n,Hi);n.memoizedProps=n.pendingProps,i===null?fh(n):Xe=i}function Xv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=fv(s,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=fv(s,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Qd(i);default:Ev(s,i),i=Xe=Yy(i,Hi),i=_v(s,i,Hi)}n.memoizedProps=n.pendingProps,i===null?fh(n):Xe=i}function Vo(n,i,s,l){Mi=Rs=null,Qd(i),bo=null,kl=0;var f=i.return;try{if(SA(n,f,i,s,Ze)){jt=1,Zc(n,dr(s,n.current)),Xe=null;return}}catch(d){if(f!==null)throw Xe=f,d;jt=1,Zc(n,dr(s,n.current)),Xe=null;return}i.flags&32768?(it||l===1?n=!0:No||(Ze&536870912)!==0?n=!1:(Da=n=!0,(l===2||l===9||l===3||l===6)&&(l=Zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$v(i,n)):fh(i)}function fh(n){var i=n;do{if((i.flags&32768)!==0){$v(i,Da);return}n=i.return;var s=AA(i.alternate,i,Hi);if(s!==null){Xe=s;return}if(i=i.sibling,i!==null){Xe=i;return}Xe=i=n}while(i!==null);jt===0&&(jt=5)}function $v(n,i){do{var s=RA(n.alternate,n);if(s!==null){s.flags&=32767,Xe=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Xe=n;return}Xe=n=s}while(n!==null);jt=6,Xe=null}function Wv(n,i,s,l,f,d,_,w,N){n.cancelPendingCommit=null;do dh();while(on!==0);if((ht&6)!==0)throw Error(a(327));if(i!==null){if(i===n.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Td,vl(n,s,d,_,w,N),n===St&&(Xe=St=null,Ze=0),xo=i,Ma=n,Fi=s,Dm=d,Om=f,jv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kA(cn,function(){return nE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=ee.T,ee.T=null,f=oe.p,oe.p=2,_=ht,ht|=4;try{CA(n,i,s)}finally{ht=_,oe.p=f,ee.T=l}}on=1,Jv(),Zv(),eE()}}function Jv(){if(on===1){on=0;var n=Ma,i=xo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=ee.T,ee.T=null;var l=oe.p;oe.p=2;var f=ht;ht|=4;try{Mv(i,n);var d=Gm,_=ky(n.containerInfo),w=d.focusedElem,N=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&Uy(w.ownerDocument.documentElement,w)){if(N!==null&&gd(w)){var K=N.start,ne=N.end;if(ne===void 0&&(ne=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(ne,w.value.length);else{var ie=w.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var J=Y.getSelection(),we=w.textContent.length,Me=Math.min(N.start,we),Tt=N.end===void 0?Me:Math.min(N.end,we);!J.extend&&Me>Tt&&(_=Tt,Tt=Me,Me=_);var z=Ly(w,Me),U=Ly(w,Tt);if(z&&U&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var G=ie.createRange();G.setStart(z.node,z.offset),J.removeAllRanges(),Me>Tt?(J.addRange(G),J.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),J.addRange(G))}}}}for(ie=[],J=w;J=J.parentNode;)J.nodeType===1&&ie.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var re=ie[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Ah=!!qm,Gm=qm=null}finally{ht=f,oe.p=l,ee.T=s}}n.current=i,on=2}}function Zv(){if(on===2){on=0;var n=Ma,i=xo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=ee.T,ee.T=null;var l=oe.p;oe.p=2;var f=ht;ht|=4;try{Cv(n,i.alternate,i)}finally{ht=f,oe.p=l,ee.T=s}}on=3}}function eE(){if(on===4||on===3){on=0,or();var n=Ma,i=xo,s=Fi,l=jv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?on=5:(on=0,xo=Ma=null,tE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Na=null),ce(s),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(qt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=ee.T,f=oe.p,oe.p=2,ee.T=null;try{for(var d=n.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{ee.T=i,oe.p=f}}(Fi&3)!==0&&dh(),ai(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===Nm?tu++:(tu=0,Nm=n):tu=0,nu(0)}}function tE(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Ll(i)))}function dh(){return Jv(),Zv(),eE(),nE()}function nE(){if(on!==5)return!1;var n=Ma,i=Dm;Dm=0;var s=ce(Fi),l=ee.T,f=oe.p;try{oe.p=32>s?32:s,ee.T=null,s=Om,Om=null;var d=Ma,_=Fi;if(on=0,xo=Ma=null,Fi=0,(ht&6)!==0)throw Error(a(331));var w=ht;if(ht|=4,Uv(d.current),Pv(d,d.current,_,s),ht=w,nu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(qt,d)}catch{}return!0}finally{oe.p=f,ee.T=l,tE(n,i)}}function rE(n,i,s){i=dr(s,i),i=um(n.stateNode,i,2),n=Aa(n,i,2),n!==null&&(Ai(n,2),ai(n))}function yt(n,i,s){if(n.tag===3)rE(n,n,s);else for(;i!==null;){if(i.tag===3){rE(i,n,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Na===null||!Na.has(l))){n=dr(s,n),s=iv(2),l=Aa(i,s,2),l!==null&&(av(s,l,i,n),Ai(l,2),ai(l));break}}i=i.return}}function Pm(n,i,s){var l=n.pingCache;if(l===null){l=n.pingCache=new OA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(Rm=!0,f.add(s),n=VA.bind(null,n,i,s),i.then(n,n))}function VA(n,i,s){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,St===n&&(Ze&s)===s&&(jt===4||jt===3&&(Ze&62914560)===Ze&&300>Ft()-oh?(ht&2)===0&&Po(n,0):Cm|=s,Mo===Ze&&(Mo=0)),ai(n)}function iE(n,i){i===0&&(i=bi()),n=ws(n,i),n!==null&&(Ai(n,i),ai(n))}function LA(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),iE(n,s)}function UA(n,i){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),iE(n,s)}function kA(n,i){return Ht(n,i)}var mh=null,Lo=null,Vm=!1,ph=!1,Lm=!1,Pa=0;function ai(n){n!==Lo&&n.next===null&&(Lo===null?mh=Lo=n:Lo=Lo.next=n),ph=!0,Vm||(Vm=!0,jA())}function nu(n,i){if(!Lm&&ph){Lm=!0;do for(var s=!1,l=mh;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-It(42|n)+1)-1,d&=f&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,lE(l,d))}else d=Ze,d=lr(l,l===St?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ln(l,d)||(s=!0,lE(l,d));l=l.next}while(s);Lm=!1}}function zA(){aE()}function aE(){ph=Vm=!1;var n=0;Pa!==0&&$A()&&(n=Pa);for(var i=Ft(),s=null,l=mh;l!==null;){var f=l.next,d=sE(l,i);d===0?(l.next=null,s===null?mh=f:s.next=f,f===null&&(Lo=s)):(s=l,(n!==0||(d&3)!==0)&&(ph=!0)),l=f}on!==0&&on!==5||nu(n),Pa!==0&&(Pa=0)}function sE(n,i){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-It(d),w=1<<_,N=f[_];N===-1?((w&s)===0||(w&l)!==0)&&(f[_]=ca(w,i)):N<=i&&(n.expiredLanes|=w),d&=~w}if(i=St,s=Ze,s=lr(n,n===i?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===i&&(gt===2||gt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Gr(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ln(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(l!==null&&Gr(l),ce(s)){case 2:case 8:s=Dn;break;case 32:s=cn;break;case 268435456:s=eo;break;default:s=cn}return l=oE.bind(null,n),s=Ht(s,l),n.callbackPriority=i,n.callbackNode=s,i}return l!==null&&l!==null&&Gr(l),n.callbackPriority=2,n.callbackNode=null,2}function oE(n,i){if(on!==0&&on!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(dh()&&n.callbackNode!==s)return null;var l=Ze;return l=lr(n,n===St?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Hv(n,l,i),sE(n,Ft()),n.callbackNode!=null&&n.callbackNode===s?oE.bind(null,n):null)}function lE(n,i){if(dh())return null;Hv(n,i,!0)}function jA(){JA(function(){(ht&6)!==0?Ht(Ti,zA):aE()})}function Um(){if(Pa===0){var n=To;n===0&&(n=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Pa=n}return Pa}function uE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ao(""+n)}function cE(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function BA(n,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=uE((f[ye]||null).action),_=l.submitter;_&&(i=(i=_[ye]||null)?uE(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new Jr("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var N=_?cE(f,_):new FormData(f);rm(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(w.preventDefault(),N=_?cE(f,_):new FormData(f),rm(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var km=0;km<Ed.length;km++){var zm=Ed[km],HA=zm.toLowerCase(),FA=zm[0].toUpperCase()+zm.slice(1);Lr(HA,"on"+FA)}Lr(By,"onAnimationEnd"),Lr(Hy,"onAnimationIteration"),Lr(Fy,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(aA,"onTransitionRun"),Lr(sA,"onTransitionStart"),Lr(oA,"onTransitionCancel"),Lr(qy,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function hE(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],N=w.instance,K=w.currentTarget;if(w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=K;try{d(f)}catch(ne){Oc(ne)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(w=l[_],N=w.instance,K=w.currentTarget,w=w.listener,N!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=K;try{d(f)}catch(ne){Oc(ne)}f.currentTarget=null,d=N}}}}function $e(n,i){var s=i[Ae];s===void 0&&(s=i[Ae]=new Set);var l=n+"__bubble";s.has(l)||(fE(i,n,2,!1),s.add(l))}function jm(n,i,s){var l=0;i&&(l|=4),fE(s,n,l,i)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Bm(n){if(!n[gh]){n[gh]=!0,Ri.forEach(function(s){s!=="selectionchange"&&(qA.has(s)||jm(s,!1,n),jm(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[gh]||(i[gh]=!0,jm("selectionchange",!1,i))}}function fE(n,i,s,l){switch(BE(i)){case 2:var f=_R;break;case 8:f=vR;break;default:f=np}s=f.bind(null,i,s,n),f=void 0,!ps||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function Hm(n,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;w!==null;){if(_=We(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}w=w.parentNode}}l=l.return}pa(function(){var K=d,ne=ur(s),ie=[];e:{var Y=Gy.get(n);if(Y!==void 0){var J=Jr,we=n;switch(n){case"keypress":if(ys(s)===0)break e;case"keydown":case"keyup":J=Cc;break;case"focusin":we="focus",J=vs;break;case"focusout":we="blur",J=vs;break;case"beforeblur":case"afterblur":J=vs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=_c;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=y;break;case By:case Hy:case Fy:J=Ec;break;case qy:J=A;break;case"scroll":case"scrollend":J=Cl;break;case"wheel":J=$;break;case"copy":case"cut":case"paste":J=Tc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Di;break;case"toggle":case"beforetoggle":J=Be}var Me=(i&4)!==0,Tt=!Me&&(n==="scroll"||n==="scrollend"),z=Me?Y!==null?Y+"Capture":null:Y;Me=[];for(var U=K,G;U!==null;){var re=U;if(G=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||G===null||z===null||(re=Mr(U,z),re!=null&&Me.push(iu(U,re,G))),Tt)break;U=U.return}0<Me.length&&(Y=new J(Y,we,null,s,ne),ie.push({event:Y,listeners:Me}))}}if((i&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Y&&s!==bl&&(we=s.relatedTarget||s.fromElement)&&(We(we)||we[Se]))break e;if((J||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,J?(we=s.relatedTarget||s.toElement,J=K,we=we?We(we):null,we!==null&&(Tt=u(we),Me=we.tag,we!==Tt||Me!==5&&Me!==27&&Me!==6)&&(we=null)):(J=null,we=K),J!==we)){if(Me=Il,re="onMouseLeave",z="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Me=Di,re="onPointerLeave",z="onPointerEnter",U="pointer"),Tt=J==null?Y:an(J),G=we==null?Y:an(we),Y=new Me(re,U+"leave",J,s,ne),Y.target=Tt,Y.relatedTarget=G,re=null,We(ne)===K&&(Me=new Me(z,U+"enter",we,s,ne),Me.target=G,Me.relatedTarget=Tt,re=Me),Tt=re,J&&we)t:{for(Me=GA,z=J,U=we,G=0,re=z;re;re=Me(re))G++;re=0;for(var Ie=U;Ie;Ie=Me(Ie))re++;for(;0<G-re;)z=Me(z),G--;for(;0<re-G;)U=Me(U),re--;for(;G--;){if(z===U||U!==null&&z===U.alternate){Me=z;break t}z=Me(z),U=Me(U)}Me=null}else Me=null;J!==null&&dE(ie,Y,J,Me,!1),we!==null&&Tt!==null&&dE(ie,Tt,we,Me,!0)}}e:{if(Y=K?an(K):window,J=Y.nodeName&&Y.nodeName.toLowerCase(),J==="select"||J==="input"&&Y.type==="file")var ot=Oy;else if(Iy(Y))if(Ny)ot=nA;else{ot=eA;var Re=Zb}else J=Y.nodeName,!J||J.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&io(K.elementType)&&(ot=Oy):ot=tA;if(ot&&(ot=ot(n,K))){Dy(ie,ot,s,ne);break e}Re&&Re(n,Y,K),n==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Tl(Y,"number",Y.value)}switch(Re=K?an(K):window,n){case"focusin":(Iy(Re)||Re.contentEditable==="true")&&(fo=Re,yd=K,xl=null);break;case"focusout":xl=yd=fo=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,zy(ie,s,ne);break;case"selectionchange":if(iA)break;case"keydown":case"keyup":zy(ie,s,ne)}var qe;if(ct)e:{switch(n){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else ho?Es(n,s)&&(et="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(et="onCompositionStart");et&&(ti&&s.locale!=="ko"&&(ho||et!=="onCompositionStart"?et==="onCompositionEnd"&&ho&&(qe=Rl()):(Wr=ne,Al="value"in Wr?Wr.value:Wr.textContent,ho=!0)),Re=yh(K,et),0<Re.length&&(et=new ei(et,n,null,s,ne),ie.push({event:et,listeners:Re}),qe?et.data=qe:(qe=co(s),qe!==null&&(et.data=qe)))),(qe=hr?Xb(n,s):$b(n,s))&&(et=yh(K,"onBeforeInput"),0<et.length&&(Re=new ei("onBeforeInput","beforeinput",null,s,ne),ie.push({event:Re,listeners:et}),Re.data=qe)),BA(ie,n,K,s,ne)}hE(ie,i)})}function iu(n,i,s){return{instance:n,listener:i,currentTarget:s}}function yh(n,i){for(var s=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Mr(n,s),f!=null&&l.unshift(iu(n,f,d)),f=Mr(n,i),f!=null&&l.push(iu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function GA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function dE(n,i,s,l,f){for(var d=i._reactName,_=[];s!==null&&s!==l;){var w=s,N=w.alternate,K=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||K===null||(N=K,f?(K=Mr(s,d),K!=null&&_.unshift(iu(s,K,N))):f||(K=Mr(s,d),K!=null&&_.push(iu(s,K,N)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var KA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function mE(n){return(typeof n=="string"?n:""+n).replace(KA,`
`).replace(YA,"")}function pE(n,i){return i=mE(i),mE(n)===i}function Et(n,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zn(n,""+l);break;case"className":Je(n,"class",l);break;case"tabIndex":Je(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Je(n,s,l);break;case"style":wl(n,l,d);break;case"data":if(i!=="object"){Je(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=ao(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Et(n,i,"name",f.name,f,null),Et(n,i,"formEncType",f.formEncType,f,null),Et(n,i,"formMethod",f.formMethod,f,null),Et(n,i,"formTarget",f.formTarget,f,null)):(Et(n,i,"encType",f.encType,f,null),Et(n,i,"method",f.method,f,null),Et(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=ao(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Nr);break;case"onScroll":l!=null&&$e("scroll",n);break;case"onScrollEnd":l!=null&&$e("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=ao(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":$e("beforetoggle",n),$e("toggle",n),Un(n,"popover",l);break;case"xlinkActuate":bt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Un(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yc.get(s)||s,Un(n,s,l))}}function Fm(n,i,s,l,f,d){switch(s){case"style":wl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?zn(n,l):(typeof l=="number"||typeof l=="bigint")&&zn(n,""+l);break;case"onScroll":l!=null&&$e("scroll",n);break;case"onScrollEnd":l!=null&&$e("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=n[ye]||null,d=d!=null?d[s]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):Un(n,s,l)}}}function vn(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",n),$e("load",n);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(n,i,d,_,s,null)}}f&&Et(n,i,"srcSet",s.srcSet,s,null),l&&Et(n,i,"src",s.src,s,null);return;case"input":$e("invalid",n);var w=d=_=f=null,N=null,K=null;for(l in s)if(s.hasOwnProperty(l)){var ne=s[l];if(ne!=null)switch(l){case"name":f=ne;break;case"type":_=ne;break;case"checked":N=ne;break;case"defaultChecked":K=ne;break;case"value":d=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:Et(n,i,l,ne,s,null)}}mc(n,d,w,N,K,_,f,!1);return;case"select":$e("invalid",n),l=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:Et(n,i,f,w,s,null)}i=d,s=_,n.multiple=!!l,i!=null?ha(n,!!l,i,!1):s!=null&&ha(n,!!l,s,!0);return;case"textarea":$e("invalid",n),d=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(w=s[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Et(n,i,_,w,s,null)}fa(n,l,f,d);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Et(n,i,N,l,s,null)}return;case"dialog":$e("beforetoggle",n),$e("toggle",n),$e("cancel",n),$e("close",n);break;case"iframe":case"object":$e("load",n);break;case"video":case"audio":for(l=0;l<ru.length;l++)$e(ru[l],n);break;case"image":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"embed":case"source":case"link":$e("error",n),$e("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in s)if(s.hasOwnProperty(K)&&(l=s[K],l!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Et(n,i,K,l,s,null)}return;default:if(io(i)){for(ne in s)s.hasOwnProperty(ne)&&(l=s[ne],l!==void 0&&Fm(n,i,ne,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Et(n,i,w,l,s,null))}function QA(n,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,w=null,N=null,K=null,ne=null;for(J in s){var ie=s[J];if(s.hasOwnProperty(J)&&ie!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":N=ie;default:l.hasOwnProperty(J)||Et(n,i,J,null,l,ie)}}for(var Y in l){var J=l[Y];if(ie=s[Y],l.hasOwnProperty(Y)&&(J!=null||ie!=null))switch(Y){case"type":d=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":ne=J;break;case"value":_=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:J!==ie&&Et(n,i,Y,J,l,ie)}}ro(n,_,w,N,K,ne,d,f);return;case"select":J=_=w=Y=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":J=N;default:l.hasOwnProperty(d)||Et(n,i,d,null,l,N)}for(f in l)if(d=l[f],N=s[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Y=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==N&&Et(n,i,f,d,l,N)}i=w,s=_,l=J,Y!=null?ha(n,!!s,Y,!1):!!l!=!!s&&(i!=null?ha(n,!!s,i,!0):ha(n,!!s,s?[]:"",!1));return;case"textarea":J=Y=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Et(n,i,w,null,l,f)}for(_ in l)if(f=l[_],d=s[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":Y=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Et(n,i,_,f,l,d)}pc(n,Y,J);return;case"option":for(var we in s)if(Y=s[we],s.hasOwnProperty(we)&&Y!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:Et(n,i,we,null,l,Y)}for(N in l)if(Y=l[N],J=s[N],l.hasOwnProperty(N)&&Y!==J&&(Y!=null||J!=null))switch(N){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Et(n,i,N,Y,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in s)Y=s[Me],s.hasOwnProperty(Me)&&Y!=null&&!l.hasOwnProperty(Me)&&Et(n,i,Me,null,l,Y);for(K in l)if(Y=l[K],J=s[K],l.hasOwnProperty(K)&&Y!==J&&(Y!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,i));break;default:Et(n,i,K,Y,l,J)}return;default:if(io(i)){for(var Tt in s)Y=s[Tt],s.hasOwnProperty(Tt)&&Y!==void 0&&!l.hasOwnProperty(Tt)&&Fm(n,i,Tt,void 0,l,Y);for(ne in l)Y=l[ne],J=s[ne],!l.hasOwnProperty(ne)||Y===J||Y===void 0&&J===void 0||Fm(n,i,ne,Y,l,J);return}}for(var z in s)Y=s[z],s.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&Et(n,i,z,null,l,Y);for(ie in l)Y=l[ie],J=s[ie],!l.hasOwnProperty(ie)||Y===J||Y==null&&J==null||Et(n,i,ie,Y,l,J)}function gE(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,_=f.initiatorType,w=f.duration;if(d&&w&&gE(_)){for(_=0,w=f.responseEnd,l+=1;l<s.length;l++){var N=s[l],K=N.startTime;if(K>w)break;var ne=N.transferSize,ie=N.initiatorType;ne&&gE(ie)&&(N=N.responseEnd,_+=ne*(N<w?1:(w-K)/(N-K)))}if(--l,i+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var qm=null,Gm=null;function _h(n){return n.nodeType===9?n:n.ownerDocument}function yE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _E(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Km(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ym=null;function $A(){var n=window.event;return n&&n.type==="popstate"?n===Ym?!1:(Ym=n,!0):(Ym=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,EE=typeof Promise=="function"?Promise:void 0,JA=typeof queueMicrotask=="function"?queueMicrotask:typeof EE<"u"?function(n){return EE.resolve(null).then(n).catch(ZA)}:vE;function ZA(n){setTimeout(function(){throw n})}function Va(n){return n==="head"}function TE(n,i){var s=i,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(f),jo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")au(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,au(s);for(var d=s.firstChild;d;){var _=d.nextSibling,w=d.nodeName;d[mt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&au(n.ownerDocument.body);s=f}while(s);jo(i)}function SE(n,i){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function Qm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Qm(s),st(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function eR(n,i,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[mt])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=_r(n.nextSibling),n===null)break}return null}function tR(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=_r(n.nextSibling),n===null))return null;return n}function wE(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=_r(n.nextSibling),n===null))return null;return n}function Xm(n){return n.data==="$?"||n.data==="$~"}function $m(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function nR(n,i){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function _r(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Wm=null;function bE(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(i===0)return _r(n.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}n=n.nextSibling}return null}function AE(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return n;i--}else s!=="/$"&&s!=="/&"||i++}n=n.previousSibling}return null}function RE(n,i,s){switch(i=_h(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function au(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);st(n)}var vr=new Map,CE=new Set;function vh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var qi=oe.d;oe.d={f:rR,r:iR,D:aR,C:sR,L:oR,m:lR,X:cR,S:uR,M:hR};function rR(){var n=qi.f(),i=ch();return n||i}function iR(n){var i=Wt(n);i!==null&&i.tag===5&&i.type==="form"?q_(i):qi.r(n)}var Uo=typeof document>"u"?null:document;function IE(n,i,s){var l=Uo;if(l&&typeof i=="string"&&i){var f=kn(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),CE.has(f)||(CE.add(f),n={rel:n,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),vn(i,"link",n),ut(i),l.head.appendChild(i)))}}function aR(n){qi.D(n),IE("dns-prefetch",n,null)}function sR(n,i){qi.C(n,i),IE("preconnect",n,i)}function oR(n,i,s){qi.L(n,i,s);var l=Uo;if(l&&n&&i){var f='link[rel="preload"][as="'+kn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+kn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+kn(s.imageSizes)+'"]')):f+='[href="'+kn(n)+'"]';var d=f;switch(i){case"style":d=ko(n);break;case"script":d=zo(n)}vr.has(d)||(n=T({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),vr.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(su(d))||i==="script"&&l.querySelector(ou(d))||(i=l.createElement("link"),vn(i,"link",n),ut(i),l.head.appendChild(i)))}}function lR(n,i){qi.m(n,i);var s=Uo;if(s&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+kn(l)+'"][href="'+kn(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=zo(n)}if(!vr.has(d)&&(n=T({rel:"modulepreload",href:n},i),vr.set(d,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ou(d)))return}l=s.createElement("link"),vn(l,"link",n),ut(l),s.head.appendChild(l)}}}function uR(n,i,s){qi.S(n,i,s);var l=Uo;if(l&&n){var f=sn(l).hoistableStyles,d=ko(n);i=i||"default";var _=f.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(su(d)))w.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":i},s),(s=vr.get(d))&&Jm(n,s);var N=_=l.createElement("link");ut(N),vn(N,"link",n),N._p=new Promise(function(K,ne){N.onload=K,N.onerror=ne}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Eh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(d,_)}}}function cR(n,i){qi.X(n,i);var s=Uo;if(s&&n){var l=sn(s).hoistableScripts,f=zo(n),d=l.get(f);d||(d=s.querySelector(ou(f)),d||(n=T({src:n,async:!0},i),(i=vr.get(f))&&Zm(n,i),d=s.createElement("script"),ut(d),vn(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function hR(n,i){qi.M(n,i);var s=Uo;if(s&&n){var l=sn(s).hoistableScripts,f=zo(n),d=l.get(f);d||(d=s.querySelector(ou(f)),d||(n=T({src:n,async:!0,type:"module"},i),(i=vr.get(f))&&Zm(n,i),d=s.createElement("script"),ut(d),vn(d,"link",n),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function DE(n,i,s,l){var f=(f=Le.current)?vh(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ko(s.href),s=sn(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ko(s.href);var d=sn(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(su(n)))&&!d._p&&(_.instance=d,_.state.loading=5),vr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vr.set(n,s),d||fR(f,n,s,_.state))),i&&l===null)throw Error(a(528,""));return _}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zo(s),s=sn(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ko(n){return'href="'+kn(n)+'"'}function su(n){return'link[rel="stylesheet"]['+n+"]"}function OE(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function fR(n,i,s,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),vn(i,"link",s),ut(i),n.head.appendChild(i))}function zo(n){return'[src="'+kn(n)+'"]'}function ou(n){return"script[async]"+n}function NE(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+kn(s.href)+'"]');if(l)return i.instance=l,ut(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),vn(l,"style",f),Eh(l,s.precedence,n),i.instance=l;case"stylesheet":f=ko(s.href);var d=n.querySelector(su(f));if(d)return i.state.loading|=4,i.instance=d,ut(d),d;l=OE(s),(f=vr.get(f))&&Jm(l,f),d=(n.ownerDocument||n).createElement("link"),ut(d);var _=d;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),vn(d,"link",l),i.state.loading|=4,Eh(d,s.precedence,n),i.instance=d;case"script":return d=zo(s.src),(f=n.querySelector(ou(d)))?(i.instance=f,ut(f),f):(l=s,(f=vr.get(d))&&(l=T({},s),Zm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),vn(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Eh(l,s.precedence,n));return i.instance}function Eh(n,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function Jm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Zm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Th=null;function ME(n,i,s){if(Th===null){var l=new Map,f=Th=new Map;f.set(s,l)}else f=Th,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var d=s[f];if(!(d[mt]||d[ge]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=n+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function xE(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function dR(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function PE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function mR(n,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=ko(l.href),d=i.querySelector(su(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Sh.bind(n),i.then(n,n)),s.state.loading|=4,s.instance=d,ut(d);return}d=i.ownerDocument||i,l=OE(l),(f=vr.get(f))&&Jm(l,f),d=d.createElement("link"),ut(d);var _=d;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),vn(d,"link",l),s.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=Sh.bind(n),i.addEventListener("load",s),i.addEventListener("error",s))}}var ep=0;function pR(n,i){return n.stylesheets&&n.count===0&&bh(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&bh(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+i);0<n.imgBytes&&ep===0&&(ep=62500*XA());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&bh(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>ep?50:800)+i);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wh=null;function bh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wh=new Map,i.forEach(gR,n),wh=null,Sh.call(n))}function gR(n,i){if(!(i.state.loading&4)){var s=wh.get(n);if(s)var l=s.get(null);else{s=new Map,wh.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,f),s.set(_,f),this.count++,l=Sh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var lu={$$typeof:X,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function yR(n,i,s,l,f,d,_,w,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function VE(n,i,s,l,f,d,_,w,N,K,ne,ie){return n=new yR(n,i,s,_,N,K,ne,ie,w),i=1,d===!0&&(i|=24),d=Jn(3,null,null,i),n.current=d,d.stateNode=n,i=xd(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Ud(d),n}function LE(n){return n?(n=go,n):go}function UE(n,i,s,l,f,d){f=LE(f),l.context===null?l.context=f:l.pendingContext=f,l=ba(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Aa(n,l,i),s!==null&&(qn(s,n,i),jl(s,n,i))}function kE(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function tp(n,i){kE(n,i),(n=n.alternate)&&kE(n,i)}function zE(n){if(n.tag===13||n.tag===31){var i=ws(n,67108864);i!==null&&qn(i,n,67108864),tp(n,67108864)}}function jE(n){if(n.tag===13||n.tag===31){var i=rr();i=le(i);var s=ws(n,i);s!==null&&qn(s,n,i),tp(n,i)}}var Ah=!0;function _R(n,i,s,l){var f=ee.T;ee.T=null;var d=oe.p;try{oe.p=2,np(n,i,s,l)}finally{oe.p=d,ee.T=f}}function vR(n,i,s,l){var f=ee.T;ee.T=null;var d=oe.p;try{oe.p=8,np(n,i,s,l)}finally{oe.p=d,ee.T=f}}function np(n,i,s,l){if(Ah){var f=rp(l);if(f===null)Hm(n,i,l,Rh,s),HE(n,l);else if(TR(f,n,i,s,l))l.stopPropagation();else if(HE(n,l),i&4&&-1<ER.indexOf(n)){for(;f!==null;){var d=Wt(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Xn(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-It(_);w.entanglements[1]|=N,_&=~N}ai(d),(ht&6)===0&&(lh=Ft()+500,nu(0))}}break;case 31:case 13:w=ws(d,2),w!==null&&qn(w,d,2),ch(),tp(d,2)}if(d=rp(l),d===null&&Hm(n,i,l,Rh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else Hm(n,i,l,null,s)}}function rp(n){return n=ur(n),ip(n)}var Rh=null;function ip(n){if(Rh=null,n=We(n),n!==null){var i=u(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=c(i),n!==null)return n;n=null}else if(s===31){if(n=m(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Rh=n,null}function BE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kr()){case Ti:return 2;case Dn:return 8;case cn:case Zs:return 32;case eo:return 268435456;default:return 32}default:return 32}}var ap=!1,La=null,Ua=null,ka=null,uu=new Map,cu=new Map,za=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(n,i){switch(n){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":ka=null;break;case"pointerover":case"pointerout":uu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(i.pointerId)}}function hu(n,i,s,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Wt(i),i!==null&&zE(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function TR(n,i,s,l,f){switch(i){case"focusin":return La=hu(La,n,i,s,l,f),!0;case"dragenter":return Ua=hu(Ua,n,i,s,l,f),!0;case"mouseover":return ka=hu(ka,n,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return uu.set(d,hu(uu.get(d)||null,n,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,cu.set(d,hu(cu.get(d)||null,n,i,s,l,f)),!0}return!1}function FE(n){var i=We(n.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){n.blockedOn=i,ve(n.priority,function(){jE(s)});return}}else if(i===31){if(i=m(s),i!==null){n.blockedOn=i,ve(n.priority,function(){jE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ch(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=rp(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);bl=l,s.target.dispatchEvent(l),bl=null}else return i=Wt(s),i!==null&&zE(i),n.blockedOn=s,!1;i.shift()}return!0}function qE(n,i,s){Ch(n)&&s.delete(i)}function SR(){ap=!1,La!==null&&Ch(La)&&(La=null),Ua!==null&&Ch(Ua)&&(Ua=null),ka!==null&&Ch(ka)&&(ka=null),uu.forEach(qE),cu.forEach(qE)}function Ih(n,i){n.blockedOn===i&&(n.blockedOn=null,ap||(ap=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,SR)))}var Dh=null;function GE(n){Dh!==n&&(Dh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dh===n&&(Dh=null);for(var i=0;i<n.length;i+=3){var s=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(ip(l||s)===null)continue;break}var d=Wt(s);d!==null&&(n.splice(i,3),i-=3,rm(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function jo(n){function i(N){return Ih(N,n)}La!==null&&Ih(La,n),Ua!==null&&Ih(Ua,n),ka!==null&&Ih(ka,n),uu.forEach(i),cu.forEach(i);for(var s=0;s<za.length;s++){var l=za[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<za.length&&(s=za[0],s.blockedOn===null);)FE(s),s.blockedOn===null&&za.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],_=f[ye]||null;if(typeof d=="function")_||GE(s);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ye]||null)w=_.formAction;else if(ip(f)!==null)continue}else w=_.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),GE(s)}}}function KE(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function sp(n){this._internalRoot=n}Oh.prototype.render=sp.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=rr();UE(s,l,n,i,null,null)},Oh.prototype.unmount=sp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;UE(n.current,2,null,n,null,null),ch(),i[Se]=null}};function Oh(n){this._internalRoot=n}Oh.prototype.unstable_scheduleHydration=function(n){if(n){var i=be();n={blockedOn:null,target:n,priority:i};for(var s=0;s<za.length&&i!==0&&i<za[s].priority;s++);za.splice(s,0,n),s===0&&FE(n)}};var YE=e.version;if(YE!=="19.2.0")throw Error(a(527,YE,"19.2.0"));oe.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=g(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var wR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{qt=Nh.inject(wR),$t=Nh}catch{}}return du.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,l="",f=ev,d=tv,_=nv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=VE(n,1,!1,null,null,s,l,null,f,d,_,KE),n[Se]=i.current,Bm(n),new sp(i)},du.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var l=!1,f="",d=ev,_=tv,w=nv,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),i=VE(n,1,!0,i,s??null,l,f,N,d,_,w,KE),i.context=LE(null),s=i.current,l=rr(),l=le(l),f=ba(l),f.callback=null,Aa(s,f,l),s=l,i.current.lanes=s,Ai(i,s),ai(i),n[Se]=i.current,Bm(n),new Oh(i)},du.version="19.2.0",du}var r0;function xR(){if(r0)return up.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),up.exports=MR(),up.exports}var PR=xR();var _S=r=>{throw TypeError(r)},VR=(r,e,t)=>e.has(r)||_S("Cannot "+t),dp=(r,e,t)=>(VR(r,e,"read from private field"),t?t.call(r):e.get(r)),LR=(r,e,t)=>e.has(r)?_S("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),i0="popstate";function UR(r={}){function e(a,o){let{pathname:u,search:c,hash:m}=a.location;return Pu("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:mi(o)}return zR(e,t,null,r)}function Ye(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Pt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kR(){return Math.random().toString(36).substring(2,10)}function a0(r,e){return{usr:r.state,key:r.key,idx:e}}function Pu(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ls(e):e,state:t,key:e&&e.key||a||kR()}}function mi({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ls(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function zR(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,m="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){m="POP";let V=v(),W=V==null?null:V-g;g=V,p&&p({action:m,location:H.location,delta:W})}function b(V,W){m="PUSH";let Z=Pu(H.location,V,W);g=v()+1;let X=a0(Z,g),de=H.createHref(Z);try{c.pushState(X,"",de)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(de)}u&&p&&p({action:m,location:H.location,delta:1})}function C(V,W){m="REPLACE";let Z=Pu(H.location,V,W);g=v();let X=a0(Z,g),de=H.createHref(Z);c.replaceState(X,"",de),u&&p&&p({action:m,location:H.location,delta:0})}function L(V){return vS(V)}let H={get action(){return m},get location(){return r(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i0,T),p=V,()=>{o.removeEventListener(i0,T),p=null}},createHref(V){return e(o,V)},createURL:L,encodeLocation(V){let W=L(V);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:b,replace:C,go(V){return c.go(V)}};return H}function vS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:mi(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}var yu,s0=class{constructor(r){if(LR(this,yu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(dp(this,yu).has(r))return dp(this,yu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){dp(this,yu).set(r,e)}};yu=new WeakMap;var jR=new Set(["lazy","caseSensitive","path","id","index","children"]);function BR(r){return jR.has(r)}var HR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function FR(r){return HR.has(r)}function qR(r){return r.index===!0}function Vu(r,e,t=[],a={},o=!1){return r.map((u,c)=>{let m=[...t,String(c)],p=typeof u.id=="string"?u.id:m.join("-");if(Ye(u.index!==!0||!u.children,"Cannot specify children on an index route"),Ye(o||!a[p],`Found a route id collision on id "${p}".  Route id's must be globally unique within Data Router usages`),qR(u)){let g={...u,id:p};return a[p]=o0(g,e(g)),g}else{let g={...u,id:p,children:void 0};return a[p]=o0(g,e(g)),u.children&&(g.children=Vu(u.children,e,m,a,o)),g}})}function o0(r,e){return Object.assign(r,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...r.lazy,...e.lazy}}:{}})}function Ha(r,e,t="/"){return _u(r,e,t,!1)}function _u(r,e,t,a){let o=typeof e=="string"?ls(e):e,u=Ar(o.pathname||"/",t);if(u==null)return null;let c=ES(r);KR(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=rC(u);m=tC(c[p],g,a)}return m}function GR(r,e){let{route:t,pathname:a,params:o}=r;return{id:t.id,pathname:a,params:o,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function ES(r,e=[],t=[],a="",o=!1){let u=(c,m,p=o,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Ye(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let T=oi([a,v.relativePath]),b=t.concat(v);c.children&&c.children.length>0&&(Ye(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ES(c.children,e,b,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:ZR(T,c.index),routesMeta:b})};return r.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of TS(c.path))u(c,m,!0,p)}),e}function TS(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=TS(a.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function KR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:eC(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var YR=/^:[\w-]+$/,QR=3,XR=2,$R=1,WR=10,JR=-2,l0=r=>r==="*";function ZR(r,e){let t=r.split("/"),a=t.length;return t.some(l0)&&(a+=JR),e&&(a+=XR),t.filter(o=>!l0(o)).reduce((o,u)=>o+(YR.test(u)?QR:u===""?$R:WR),a)}function eC(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function tC(r,e,t=!1){let{routesMeta:a}=r,o={},u="/",c=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),b=p.route;if(!T&&g&&t&&!a[a.length-1].route.index&&(T=uf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:oi([u,T.pathname]),pathnameBase:oC(oi([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=oi([u,T.pathnameBase]))}return c}function uf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=nC(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:T},b)=>{if(v==="*"){let L=m[b]||"";c=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const C=m[b];return T&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:r}}function nC(r,e=!1,t=!0){Pt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function rC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ar(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function iC({basename:r,pathname:e}){return e==="/"?r:oi([r,e])}var aC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bf=r=>aC.test(r);function sC(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?ls(r):r,u;if(t)if(Bf(t))u=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Pt(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?u=u0(t.substring(1),"/"):u=u0(t,e)}else u=e;return{pathname:u,search:lC(a),hash:uC(o)}}function u0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function mp(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hf(r){let e=SS(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Ff(r,e,t,a=!1){let o;typeof r=="string"?o=ls(r):(o={...r},Ye(!o.pathname||!o.pathname.includes("?"),mp("?","pathname","search",o)),Ye(!o.pathname||!o.pathname.includes("#"),mp("#","pathname","hash",o)),Ye(!o.search||!o.search.includes("#"),mp("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=t;else{let T=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=sC(o,m),g=c&&c!=="/"&&c.endsWith("/"),v=(u||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var oi=r=>r.join("/").replace(/\/\/+/g,"/"),oC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uC=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,cf=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Lu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Tg(r){return r.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Qa=Symbol("Uninstrumented");function cC(r,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};r.forEach(o=>o({id:e.id,index:e.index,path:e.path,instrument(u){let c=Object.keys(t);for(let m of c)u[m]&&t[m].push(u[m])}}));let a={};if(typeof e.lazy=="function"&&t.lazy.length>0){let o=Yo(t.lazy,e.lazy,()=>{});o&&(a.lazy=o)}if(typeof e.lazy=="object"){let o=e.lazy;["middleware","loader","action"].forEach(u=>{let c=o[u],m=t[`lazy.${u}`];if(typeof c=="function"&&m.length>0){let p=Yo(m,c,()=>{});p&&(a.lazy=Object.assign(a.lazy||{},{[u]:p}))}})}return["loader","action"].forEach(o=>{let u=e[o];if(typeof u=="function"&&t[o].length>0){let c=u[Qa]??u,m=Yo(t[o],c,(...p)=>c0(p[0]));m&&(m[Qa]=c,a[o]=m)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(a.middleware=e.middleware.map(o=>{let u=o[Qa]??o,c=Yo(t.middleware,u,(...m)=>c0(m[0]));return c?(c[Qa]=u,c):o})),a}function hC(r,e){let t={navigate:[],fetch:[]};if(e.forEach(a=>a({instrument(o){let u=Object.keys(o);for(let c of u)o[c]&&t[c].push(o[c])}})),t.navigate.length>0){let a=r.navigate[Qa]??r.navigate,o=Yo(t.navigate,a,(...u)=>{let[c,m]=u;return{to:typeof c=="number"||typeof c=="string"?c:c?mi(c):".",...h0(r,m??{})}});o&&(o[Qa]=a,r.navigate=o)}if(t.fetch.length>0){let a=r.fetch[Qa]??r.fetch,o=Yo(t.fetch,a,(...u)=>{let[c,,m,p]=u;return{href:m??".",fetcherKey:c,...h0(r,p??{})}});o&&(o[Qa]=a,r.fetch=o)}return r}function Yo(r,e,t){return r.length===0?null:async(...a)=>{let o=await wS(r,t(...a),()=>e(...a),r.length-1);if(o.type==="error")throw o.value;return o.value}}async function wS(r,e,t,a){let o=r[a],u;if(o){let c,m=async()=>(c?console.error("You cannot call instrumented handlers more than once"):c=wS(r,e,t,a-1),u=await c,Ye(u,"Expected a result"),u.type==="error"&&u.value instanceof Error?{status:"error",error:u.value}:{status:"success",error:void 0});try{await o(m,e)}catch(p){console.error("An instrumentation function threw an error:",p)}c||await m(),await c}else try{u={type:"success",value:await t()}}catch(c){u={type:"error",value:c}}return u||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function c0(r){let{request:e,context:t,params:a,unstable_pattern:o}=r;return{request:fC(e),params:{...a},unstable_pattern:o,context:dC(t)}}function h0(r,e){return{currentUrl:mi(r.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function fC(r){return{method:r.method,url:r.url,headers:{get:(...e)=>r.headers.get(...e)}}}function dC(r){if(pC(r)){let e={...r};return Object.freeze(e),e}else return{get:e=>r.get(e)}}var mC=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pC(r){if(r===null||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===mC}var bS=["POST","PUT","PATCH","DELETE"],gC=new Set(bS),yC=["GET",...bS],_C=new Set(yC),vC=new Set([301,302,303,307,308]),EC=new Set([307,308]),pp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},SC=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),AS="remix-router-transitions",RS=Symbol("ResetLoaderData");function wC(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Ye(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.hydrationRouteProperties||[],o=r.mapRouteProperties||SC,u=o;if(r.unstable_instrumentations){let O=r.unstable_instrumentations;u=j=>({...o(j),...cC(O.map(Q=>Q.route).filter(Boolean),j)})}let c={},m=Vu(r.routes,u,void 0,c),p,g=r.basename||"/";g.startsWith("/")||(g=`/${g}`);let v=r.dataStrategy||IC,T={...r.future},b=null,C=new Set,L=null,H=null,V=null,W=r.hydrationData!=null,Z=Ha(m,r.history.location,g),X=!1,de=null,se;if(Z==null&&!r.patchRoutesOnNavigation){let O=Er(404,{pathname:r.history.location.pathname}),{matches:j,route:Q}=Mh(m);se=!0,Z=j,de={[Q.id]:O}}else if(Z&&!r.hydrationData&&ca(Z,m,r.history.location.pathname).active&&(Z=null),Z)if(Z.some(O=>O.route.lazy))se=!1;else if(!Z.some(O=>Sg(O.route)))se=!0;else{let O=r.hydrationData?r.hydrationData.loaderData:null,j=r.hydrationData?r.hydrationData.errors:null;if(j){let Q=Z.findIndex(le=>j[le.route.id]!==void 0);se=Z.slice(0,Q+1).every(le=>!kp(le.route,O,j))}else se=Z.every(Q=>!kp(Q.route,O,j))}else{se=!1,Z=[];let O=ca(null,m,r.history.location.pathname);O.active&&O.matches&&(X=!0,Z=O.matches)}let pe,S={historyAction:r.history.action,location:r.history.location,matches:Z,initialized:se,navigation:pp,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||de,fetchers:new Map,blockers:new Map},R="POP",I=!1,M,x=!1,k=new Map,D=null,Oe=!1,je=!1,ee=new Set,oe=new Map,Te=0,Ve=-1,Fe=new Map,P=new Set,te=new Map,he=new Map,me=new Set,De=new Map,Le,Ge=null;function Bt(){if(b=r.history.listen(({action:O,location:j,delta:Q})=>{if(Le){Le(),Le=void 0;return}Pt(De.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let le=Qn({currentLocation:S.location,nextLocation:j,historyAction:O});if(le&&Q!=null){let ce=new Promise(be=>{Le=be});r.history.go(Q*-1),wi(le,{state:"blocked",location:j,proceed(){wi(le,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),ce.then(()=>r.history.go(Q))},reset(){let be=new Map(S.blockers);be.set(le,mu),Mt({blockers:be})}});return}return Yn(O,j)}),t){FC(e,k);let O=()=>qC(e,k);e.addEventListener("pagehide",O),D=()=>e.removeEventListener("pagehide",O)}return S.initialized||Yn("POP",S.location,{initialHydration:!0}),pe}function wt(){b&&b(),D&&D(),C.clear(),M&&M.abort(),S.fetchers.forEach((O,j)=>ua(j)),S.blockers.forEach((O,j)=>Si(j))}function _i(O){return C.add(O),()=>C.delete(O)}function Mt(O,j={}){O.matches&&(O.matches=O.matches.map(ce=>{let be=c[ce.route.id],ve=ce.route;return ve.element!==be.element||ve.errorElement!==be.errorElement||ve.hydrateFallbackElement!==be.hydrateFallbackElement?{...ce,route:be}:ce})),S={...S,...O};let Q=[],le=[];S.fetchers.forEach((ce,be)=>{ce.state==="idle"&&(me.has(be)?Q.push(be):le.push(be))}),me.forEach(ce=>{!S.fetchers.has(ce)&&!oe.has(ce)&&Q.push(ce)}),[...C].forEach(ce=>ce(S,{deletedFetchers:Q,viewTransitionOpts:j.viewTransitionOpts,flushSync:j.flushSync===!0})),Q.forEach(ce=>ua(ce)),le.forEach(ce=>S.fetchers.delete(ce))}function Kn(O,j,{flushSync:Q}={}){let le=S.actionData!=null&&S.navigation.formMethod!=null&&Pn(S.navigation.formMethod)&&S.navigation.state==="loading"&&O.state?._isRedirect!==!0,ce;j.actionData?Object.keys(j.actionData).length>0?ce=j.actionData:ce=null:le?ce=S.actionData:ce=null;let be=j.loaderData?T0(S.loaderData,j.loaderData,j.matches||[],j.errors):S.loaderData,ve=S.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((Se,Ae)=>ve.set(Ae,mu)));let _e=Oe?!1:Ln(O,j.matches||S.matches),ge=I===!0||S.navigation.formMethod!=null&&Pn(S.navigation.formMethod)&&O.state?._isRedirect!==!0;p&&(m=p,p=void 0),Oe||R==="POP"||(R==="PUSH"?r.history.push(O,O.state):R==="REPLACE"&&r.history.replace(O,O.state));let ye;if(R==="POP"){let Se=k.get(S.location.pathname);Se&&Se.has(O.pathname)?ye={currentLocation:S.location,nextLocation:O}:k.has(O.pathname)&&(ye={currentLocation:O,nextLocation:S.location})}else if(x){let Se=k.get(S.location.pathname);Se?Se.add(O.pathname):(Se=new Set([O.pathname]),k.set(S.location.pathname,Se)),ye={currentLocation:S.location,nextLocation:O}}Mt({...j,actionData:ce,loaderData:be,historyAction:R,location:O,initialized:!0,navigation:pp,revalidation:"idle",restoreScrollPosition:_e,preventScrollReset:ge,blockers:ve},{viewTransitionOpts:ye,flushSync:Q===!0}),R="POP",I=!1,x=!1,Oe=!1,je=!1,Ge?.resolve(),Ge=null}async function vi(O,j){if(typeof O=="number"){r.history.go(O);return}let Q=Up(S.location,S.matches,g,O,j?.fromRouteId,j?.relative),{path:le,submission:ce,error:be}=f0(!1,Q,j),ve=S.location,_e=Pu(S.location,le,j&&j.state);_e={..._e,...r.history.encodeLocation(_e)};let ge=j&&j.replace!=null?j.replace:void 0,ye="PUSH";ge===!0?ye="REPLACE":ge===!1||ce!=null&&Pn(ce.formMethod)&&ce.formAction===S.location.pathname+S.location.search&&(ye="REPLACE");let Se=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,Ae=(j&&j.flushSync)===!0,Qe=Qn({currentLocation:ve,nextLocation:_e,historyAction:ye});if(Qe){wi(Qe,{state:"blocked",location:_e,proceed(){wi(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),vi(O,j)},reset(){let dt=new Map(S.blockers);dt.set(Qe,mu),Mt({blockers:dt})}});return}await Yn(ye,_e,{submission:ce,pendingError:be,preventScrollReset:Se,replace:j&&j.replace,enableViewTransition:j&&j.viewTransition,flushSync:Ae})}function sr(){Ge||(Ge=GC()),Ti(),Mt({revalidation:"loading"});let O=Ge.promise;return S.navigation.state==="submitting"?O:S.navigation.state==="idle"?(Yn(S.historyAction,S.location,{startUninterruptedRevalidation:!0}),O):(Yn(R||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation,enableViewTransition:x===!0}),O)}async function Yn(O,j,Q){M&&M.abort(),M=null,R=O,Oe=(Q&&Q.startUninterruptedRevalidation)===!0,lr(S.location,S.matches),I=(Q&&Q.preventScrollReset)===!0,x=(Q&&Q.enableViewTransition)===!0;let le=p||m,ce=Q&&Q.overrideNavigation,be=Q?.initialHydration&&S.matches&&S.matches.length>0&&!X?S.matches:Ha(le,j,g),ve=(Q&&Q.flushSync)===!0;if(be&&S.initialized&&!je&&LC(S.location,j)&&!(Q&&Q.submission&&Pn(Q.submission.formMethod))){Kn(j,{matches:be},{flushSync:ve});return}let _e=ca(be,le,j.pathname);if(_e.active&&_e.matches&&(be=_e.matches),!be){let{error:mt,notFoundMatches:st,route:We}=Ir(j.pathname);Kn(j,{matches:st,loaderData:{},errors:{[We.id]:mt}},{flushSync:ve});return}M=new AbortController;let ge=Bo(r.history,j,M.signal,Q&&Q.submission),ye=r.getContext?await r.getContext():new s0,Se;if(Q&&Q.pendingError)Se=[Fa(be).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Pn(Q.submission.formMethod)){let mt=await Ei(ge,j,Q.submission,be,ye,_e.active,Q&&Q.initialHydration===!0,{replace:Q.replace,flushSync:ve});if(mt.shortCircuited)return;if(mt.pendingActionResult){let[st,We]=mt.pendingActionResult;if(ir(We)&&Lu(We.error)&&We.error.status===404){M=null,Kn(j,{matches:mt.matches,loaderData:{},errors:{[st]:We.error}});return}}be=mt.matches||be,Se=mt.pendingActionResult,ce=gp(j,Q.submission),ve=!1,_e.active=!1,ge=Bo(r.history,ge.url,ge.signal)}let{shortCircuited:Ae,matches:Qe,loaderData:dt,errors:Dt}=await hs(ge,j,be,ye,_e.active,ce,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,ve,Se);Ae||(M=null,Kn(j,{matches:Qe||be,...S0(Se),loaderData:dt,errors:Dt}))}async function Ei(O,j,Q,le,ce,be,ve,_e={}){Ti();let ge=BC(j,Q);if(Mt({navigation:ge},{flushSync:_e.flushSync===!0}),be){let Ae=await bi(le,j.pathname,O.signal);if(Ae.type==="aborted")return{shortCircuited:!0};if(Ae.type==="error"){if(Ae.partialMatches.length===0){let{matches:dt,route:Dt}=Mh(m);return{matches:dt,pendingActionResult:[Dt.id,{type:"error",error:Ae.error}]}}let Qe=Fa(Ae.partialMatches).route.id;return{matches:Ae.partialMatches,pendingActionResult:[Qe,{type:"error",error:Ae.error}]}}else if(Ae.matches)le=Ae.matches;else{let{notFoundMatches:Qe,error:dt,route:Dt}=Ir(j.pathname);return{matches:Qe,pendingActionResult:[Dt.id,{type:"error",error:dt}]}}}let ye,Se=qh(le,j);if(!Se.route.action&&!Se.route.lazy)ye={type:"error",error:Er(405,{method:O.method,pathname:j.pathname,routeId:Se.route.id})};else{let Ae=Xo(u,c,O,le,Se,ve?[]:a,ce),Qe=await Ft(O,Ae,ce,null);if(ye=Qe[Se.route.id],!ye){for(let dt of le)if(Qe[dt.route.id]){ye=Qe[dt.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Us(ye)){let Ae;return _e&&_e.replace!=null?Ae=_e.replace:Ae=_0(ye.response.headers.get("Location"),new URL(O.url),g)===S.location.pathname+S.location.search,await or(O,ye,!0,{submission:Q,replace:Ae}),{shortCircuited:!0}}if(ir(ye)){let Ae=Fa(le,Se.route.id);return(_e&&_e.replace)!==!0&&(R="PUSH"),{matches:le,pendingActionResult:[Ae.route.id,ye,Se.route.id]}}return{matches:le,pendingActionResult:[Se.route.id,ye]}}async function hs(O,j,Q,le,ce,be,ve,_e,ge,ye,Se,Ae){let Qe=be||gp(j,ve),dt=ve||_e||b0(Qe),Dt=!Oe&&!ye;if(ce){if(Dt){let kt=la(Ae);Mt({navigation:Qe,...kt!==void 0?{actionData:kt}:{}},{flushSync:Se})}let Ke=await bi(Q,j.pathname,O.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:Or,route:Un}=Mh(m);return{matches:Or,loaderData:{},errors:{[Un.id]:Ke.error}}}let kt=Fa(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,loaderData:{},errors:{[kt]:Ke.error}}}else if(Ke.matches)Q=Ke.matches;else{let{error:kt,notFoundMatches:Or,route:Un}=Ir(j.pathname);return{matches:Or,loaderData:{},errors:{[Un.id]:kt}}}}let mt=p||m,{dsMatches:st,revalidatingFetchers:We}=d0(O,le,u,c,r.history,S,Q,dt,j,ye?[]:a,ye===!0,je,ee,me,te,P,mt,g,r.patchRoutesOnNavigation!=null,Ae);if(Ve=++Te,!r.dataStrategy&&!st.some(Ke=>Ke.shouldLoad)&&!st.some(Ke=>Ke.route.middleware&&Ke.route.middleware.length>0)&&We.length===0){let Ke=On();return Kn(j,{matches:Q,loaderData:{},errors:Ae&&ir(Ae[1])?{[Ae[0]]:Ae[1].error}:null,...S0(Ae),...Ke?{fetchers:new Map(S.fetchers)}:{}},{flushSync:Se}),{shortCircuited:!0}}if(Dt){let Ke={};if(!ce){Ke.navigation=Qe;let kt=la(Ae);kt!==void 0&&(Ke.actionData=kt)}We.length>0&&(Ke.fetchers=Lt(We)),Mt(Ke,{flushSync:Se})}We.forEach(Ke=>{qt(Ke.key),Ke.controller&&oe.set(Ke.key,Ke.controller)});let Wt=()=>We.forEach(Ke=>qt(Ke.key));M&&M.signal.addEventListener("abort",Wt);let{loaderResults:an,fetcherResults:sn}=await Kr(st,We,O,le);if(O.signal.aborted)return{shortCircuited:!0};M&&M.signal.removeEventListener("abort",Wt),We.forEach(Ke=>oe.delete(Ke.key));let ut=xh(an);if(ut)return await or(O,ut.result,!0,{replace:ge}),{shortCircuited:!0};if(ut=xh(sn),ut)return P.add(ut.key),await or(O,ut.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:Ri,errors:Dr}=E0(S,Q,an,Ae,We,sn);ye&&S.errors&&(Dr={...S.errors,...Dr});let hn=On(),Nn=It(Ve),Yr=hn||Nn||We.length>0;return{matches:Q,loaderData:Ri,errors:Dr,...Yr?{fetchers:new Map(S.fetchers)}:{}}}function la(O){if(O&&!ir(O[1]))return{[O[0]]:O[1].data};if(S.actionData)return Object.keys(S.actionData).length===0?null:S.actionData}function Lt(O){return O.forEach(j=>{let Q=S.fetchers.get(j.key),le=pu(void 0,Q?Q.data:void 0);S.fetchers.set(j.key,le)}),new Map(S.fetchers)}async function Ht(O,j,Q,le){qt(O);let ce=(le&&le.flushSync)===!0,be=p||m,ve=Up(S.location,S.matches,g,Q,j,le?.relative),_e=Ha(be,ve,g),ge=ca(_e,be,ve);if(ge.active&&ge.matches&&(_e=ge.matches),!_e){cn(O,j,Er(404,{pathname:ve}),{flushSync:ce});return}let{path:ye,submission:Se,error:Ae}=f0(!0,ve,le);if(Ae){cn(O,j,Ae,{flushSync:ce});return}let Qe=r.getContext?await r.getContext():new s0,dt=(le&&le.preventScrollReset)===!0;if(Se&&Pn(Se.formMethod)){await Gr(O,j,ye,_e,Qe,ge.active,ce,dt,Se);return}te.set(O,{routeId:j,path:ye}),await _l(O,j,ye,_e,Qe,ge.active,ce,dt,Se)}async function Gr(O,j,Q,le,ce,be,ve,_e,ge){Ti(),te.delete(O);let ye=S.fetchers.get(O);Dn(O,HC(ge,ye),{flushSync:ve});let Se=new AbortController,Ae=Bo(r.history,Q,Se.signal,ge);if(be){let Je=await bi(le,new URL(Ae.url).pathname,Ae.signal,O);if(Je.type==="aborted")return;if(Je.type==="error"){cn(O,j,Je.error,{flushSync:ve});return}else if(Je.matches)le=Je.matches;else{cn(O,j,Er(404,{pathname:Q}),{flushSync:ve});return}}let Qe=qh(le,Q);if(!Qe.route.action&&!Qe.route.lazy){let Je=Er(405,{method:ge.formMethod,pathname:Q,routeId:j});cn(O,j,Je,{flushSync:ve});return}oe.set(O,Se);let dt=Te,Dt=Xo(u,c,Ae,le,Qe,a,ce),mt=await Ft(Ae,Dt,ce,O),st=mt[Qe.route.id];if(!st){for(let Je of Dt)if(mt[Je.route.id]){st=mt[Je.route.id];break}}if(Ae.signal.aborted){oe.get(O)===Se&&oe.delete(O);return}if(me.has(O)){if(Us(st)||ir(st)){Dn(O,Gi(void 0));return}}else{if(Us(st))if(oe.delete(O),Ve>dt){Dn(O,Gi(void 0));return}else return P.add(O),Dn(O,pu(ge)),or(Ae,st,!1,{fetcherSubmission:ge,preventScrollReset:_e});if(ir(st)){cn(O,j,st.error);return}}let We=S.navigation.location||S.location,Wt=Bo(r.history,We,Se.signal),an=p||m,sn=S.navigation.state!=="idle"?Ha(an,S.navigation.location,g):S.matches;Ye(sn,"Didn't find any matches after fetcher action");let ut=++Te;Fe.set(O,ut);let Ri=pu(ge,st.data);S.fetchers.set(O,Ri);let{dsMatches:Dr,revalidatingFetchers:hn}=d0(Wt,ce,u,c,r.history,S,sn,ge,We,a,!1,je,ee,me,te,P,an,g,r.patchRoutesOnNavigation!=null,[Qe.route.id,st]);hn.filter(Je=>Je.key!==O).forEach(Je=>{let bt=Je.key,Gt=S.fetchers.get(bt),Qr=pu(void 0,Gt?Gt.data:void 0);S.fetchers.set(bt,Qr),qt(bt),Je.controller&&oe.set(bt,Je.controller)}),Mt({fetchers:new Map(S.fetchers)});let Nn=()=>hn.forEach(Je=>qt(Je.key));Se.signal.addEventListener("abort",Nn);let{loaderResults:Yr,fetcherResults:Ke}=await Kr(Dr,hn,Wt,ce);if(Se.signal.aborted)return;if(Se.signal.removeEventListener("abort",Nn),Fe.delete(O),oe.delete(O),hn.forEach(Je=>oe.delete(Je.key)),S.fetchers.has(O)){let Je=Gi(st.data);S.fetchers.set(O,Je)}let kt=xh(Yr);if(kt)return or(Wt,kt.result,!1,{preventScrollReset:_e});if(kt=xh(Ke),kt)return P.add(kt.key),or(Wt,kt.result,!1,{preventScrollReset:_e});let{loaderData:Or,errors:Un}=E0(S,sn,Yr,void 0,hn,Ke);It(ut),S.navigation.state==="loading"&&ut>Ve?(Ye(R,"Expected pending action"),M&&M.abort(),Kn(S.navigation.location,{matches:sn,loaderData:Or,errors:Un,fetchers:new Map(S.fetchers)})):(Mt({errors:Un,loaderData:T0(S.loaderData,Or,sn,Un),fetchers:new Map(S.fetchers)}),je=!1)}async function _l(O,j,Q,le,ce,be,ve,_e,ge){let ye=S.fetchers.get(O);Dn(O,pu(ge,ye?ye.data:void 0),{flushSync:ve});let Se=new AbortController,Ae=Bo(r.history,Q,Se.signal);if(be){let We=await bi(le,new URL(Ae.url).pathname,Ae.signal,O);if(We.type==="aborted")return;if(We.type==="error"){cn(O,j,We.error,{flushSync:ve});return}else if(We.matches)le=We.matches;else{cn(O,j,Er(404,{pathname:Q}),{flushSync:ve});return}}let Qe=qh(le,Q);oe.set(O,Se);let dt=Te,Dt=Xo(u,c,Ae,le,Qe,a,ce),st=(await Ft(Ae,Dt,ce,O))[Qe.route.id];if(oe.get(O)===Se&&oe.delete(O),!Ae.signal.aborted){if(me.has(O)){Dn(O,Gi(void 0));return}if(Us(st))if(Ve>dt){Dn(O,Gi(void 0));return}else{P.add(O),await or(Ae,st,!1,{preventScrollReset:_e});return}if(ir(st)){cn(O,j,st.error);return}Dn(O,Gi(st.data))}}async function or(O,j,Q,{submission:le,fetcherSubmission:ce,preventScrollReset:be,replace:ve}={}){j.response.headers.has("X-Remix-Revalidate")&&(je=!0);let _e=j.response.headers.get("Location");Ye(_e,"Expected a Location header on the redirect Response"),_e=_0(_e,new URL(O.url),g);let ge=Pu(S.location,_e,{_isRedirect:!0});if(t){let Dt=!1;if(j.response.headers.has("X-Remix-Reload-Document"))Dt=!0;else if(Bf(_e)){const mt=vS(_e,!0);Dt=mt.origin!==e.location.origin||Ar(mt.pathname,g)==null}if(Dt){ve?e.location.replace(_e):e.location.assign(_e);return}}M=null;let ye=ve===!0||j.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Se,formAction:Ae,formEncType:Qe}=S.navigation;!le&&!ce&&Se&&Ae&&Qe&&(le=b0(S.navigation));let dt=le||ce;if(EC.has(j.response.status)&&dt&&Pn(dt.formMethod))await Yn(ye,ge,{submission:{...dt,formAction:_e},preventScrollReset:be||I,enableViewTransition:Q?x:void 0});else{let Dt=gp(ge,le);await Yn(ye,ge,{overrideNavigation:Dt,fetcherSubmission:ce,preventScrollReset:be||I,enableViewTransition:Q?x:void 0})}}async function Ft(O,j,Q,le){let ce,be={};try{ce=await OC(v,O,j,le,Q,!1)}catch(ve){return j.filter(_e=>_e.shouldLoad).forEach(_e=>{be[_e.route.id]={type:"error",error:ve}}),be}if(O.signal.aborted)return be;for(let[ve,_e]of Object.entries(ce))if(zC(_e)){let ge=_e.result;be[ve]={type:"redirect",response:PC(ge,O,ve,j,g)}}else be[ve]=await xC(_e);return be}async function Kr(O,j,Q,le){let ce=Ft(Q,O,le,null),be=Promise.all(j.map(async ge=>{if(ge.matches&&ge.match&&ge.request&&ge.controller){let Se=(await Ft(ge.request,ge.matches,le,ge.key))[ge.match.route.id];return{[ge.key]:Se}}else return Promise.resolve({[ge.key]:{type:"error",error:Er(404,{pathname:ge.path})}})})),ve=await ce,_e=(await be).reduce((ge,ye)=>Object.assign(ge,ye),{});return{loaderResults:ve,fetcherResults:_e}}function Ti(){je=!0,te.forEach((O,j)=>{oe.has(j)&&ee.add(j),qt(j)})}function Dn(O,j,Q={}){S.fetchers.set(O,j),Mt({fetchers:new Map(S.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function cn(O,j,Q,le={}){let ce=Fa(S.matches,j);ua(O),Mt({errors:{[ce.route.id]:Q},fetchers:new Map(S.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function Zs(O){return he.set(O,(he.get(O)||0)+1),me.has(O)&&me.delete(O),S.fetchers.get(O)||TC}function eo(O,j){qt(O,j?.reason),Dn(O,Gi(null))}function ua(O){let j=S.fetchers.get(O);oe.has(O)&&!(j&&j.state==="loading"&&Fe.has(O))&&qt(O),te.delete(O),Fe.delete(O),P.delete(O),me.delete(O),ee.delete(O),S.fetchers.delete(O)}function to(O){let j=(he.get(O)||0)-1;j<=0?(he.delete(O),me.add(O)):he.set(O,j),Mt({fetchers:new Map(S.fetchers)})}function qt(O,j){let Q=oe.get(O);Q&&(Q.abort(j),oe.delete(O))}function $t(O){for(let j of O){let Q=Zs(j),le=Gi(Q.data);S.fetchers.set(j,le)}}function On(){let O=[],j=!1;for(let Q of P){let le=S.fetchers.get(Q);Ye(le,`Expected fetcher: ${Q}`),le.state==="loading"&&(P.delete(Q),O.push(Q),j=!0)}return $t(O),j}function It(O){let j=[];for(let[Q,le]of Fe)if(le<O){let ce=S.fetchers.get(Q);Ye(ce,`Expected fetcher: ${Q}`),ce.state==="loading"&&(qt(Q),Fe.delete(Q),j.push(Q))}return $t(j),j.length>0}function no(O,j){let Q=S.blockers.get(O)||mu;return De.get(O)!==j&&De.set(O,j),Q}function Si(O){S.blockers.delete(O),De.delete(O)}function wi(O,j){let Q=S.blockers.get(O)||mu;Ye(Q.state==="unblocked"&&j.state==="blocked"||Q.state==="blocked"&&j.state==="blocked"||Q.state==="blocked"&&j.state==="proceeding"||Q.state==="blocked"&&j.state==="unblocked"||Q.state==="proceeding"&&j.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${j.state}`);let le=new Map(S.blockers);le.set(O,j),Mt({blockers:le})}function Qn({currentLocation:O,nextLocation:j,historyAction:Q}){if(De.size===0)return;De.size>1&&Pt(!1,"A router only supports one blocker at a time");let le=Array.from(De.entries()),[ce,be]=le[le.length-1],ve=S.blockers.get(ce);if(!(ve&&ve.state==="proceeding")&&be({currentLocation:O,nextLocation:j,historyAction:Q}))return ce}function Ir(O){let j=Er(404,{pathname:O}),Q=p||m,{matches:le,route:ce}=Mh(Q);return{notFoundMatches:le,route:ce,error:j}}function Ut(O,j,Q){if(L=O,V=j,H=Q||null,!W&&S.navigation===pp){W=!0;let le=Ln(S.location,S.matches);le!=null&&Mt({restoreScrollPosition:le})}return()=>{L=null,V=null,H=null}}function Xn(O,j){return H&&H(O,j.map(le=>GR(le,S.loaderData)))||O.key}function lr(O,j){if(L&&V){let Q=Xn(O,j);L[Q]=V()}}function Ln(O,j){if(L){let Q=Xn(O,j),le=L[Q];if(typeof le=="number")return le}return null}function ca(O,j,Q){if(r.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:_u(j,Q,g,!0)}}else return{active:!0,matches:_u(j,Q,g,!0)||[]};return{active:!1,matches:null}}async function bi(O,j,Q,le){if(!r.patchRoutesOnNavigation)return{type:"success",matches:O};let ce=O;for(;;){let be=p==null,ve=p||m,_e=c;try{await r.patchRoutesOnNavigation({signal:Q,path:j,matches:ce,fetcherKey:le,patch:(Se,Ae)=>{Q.aborted||m0(Se,Ae,ve,_e,u,!1)}})}catch(Se){return{type:"error",error:Se,partialMatches:ce}}finally{be&&!Q.aborted&&(m=[...m])}if(Q.aborted)return{type:"aborted"};let ge=Ha(ve,j,g),ye=null;if(ge){if(Object.keys(ge[0].params).length===0)return{type:"success",matches:ge};if(ye=_u(ve,j,g,!0),!(ye&&ce.length<ye.length&&$n(ce,ye.slice(0,ce.length))))return{type:"success",matches:ge}}if(ye||(ye=_u(ve,j,g,!0)),!ye||$n(ce,ye))return{type:"success",matches:null};ce=ye}}function $n(O,j){return O.length===j.length&&O.every((Q,le)=>Q.route.id===j[le].route.id)}function Ai(O){c={},p=Vu(O,u,void 0,c)}function vl(O,j,Q=!1){let le=p==null;m0(O,j,p||m,c,u,Q),le&&(m=[...m],Mt({}))}return pe={get basename(){return g},get future(){return T},get state(){return S},get routes(){return m},get window(){return e},initialize:Bt,subscribe:_i,enableScrollRestoration:Ut,navigate:vi,fetch:Ht,revalidate:sr,createHref:O=>r.history.createHref(O),encodeLocation:O=>r.history.encodeLocation(O),getFetcher:Zs,resetFetcher:eo,deleteFetcher:to,dispose:wt,getBlocker:no,deleteBlocker:Si,patchRoutes:vl,_internalFetchControllers:oe,_internalSetRoutes:Ai,_internalSetStateDoNotUseOrYouWillBreakYourApp(O){Mt(O)}},r.unstable_instrumentations&&(pe=hC(pe,r.unstable_instrumentations.map(O=>O.router).filter(Boolean))),pe}function bC(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Up(r,e,t,a,o,u){let c,m;if(o){c=[];for(let g of e)if(c.push(g),g.route.id===o){m=g;break}}else c=e,m=e[e.length-1];let p=Ff(a||".",Hf(c),Ar(r.pathname,t)||r.pathname,u==="path");if(a==null&&(p.search=r.search,p.hash=r.hash),(a==null||a===""||a===".")&&m){let g=wg(p.search);if(m.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!m.route.index&&g){let v=new URLSearchParams(p.search),T=v.getAll("index");v.delete("index"),T.filter(C=>C).forEach(C=>v.append("index",C));let b=v.toString();p.search=b?`?${b}`:""}}return t!=="/"&&(p.pathname=iC({basename:t,pathname:p.pathname})),mi(p)}function f0(r,e,t){if(!t||!bC(t))return{path:e};if(t.formMethod&&!jC(t.formMethod))return{path:e,error:Er(405,{method:t.formMethod})};let a=()=>({path:e,error:Er(400,{type:"invalid-body"})}),u=(t.formMethod||"get").toUpperCase(),c=MS(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Pn(u))return a();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((b,[C,L])=>`${b}${C}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:u,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Pn(u))return a();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:u,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return a()}}}Ye(typeof FormData=="function","FormData is not available in this environment");let m,p;if(t.formData)m=jp(t.formData),p=t.formData;else if(t.body instanceof FormData)m=jp(t.body),p=t.body;else if(t.body instanceof URLSearchParams)m=t.body,p=v0(m);else if(t.body==null)m=new URLSearchParams,p=new FormData;else try{m=new URLSearchParams(t.body),p=v0(m)}catch{return a()}let g={formMethod:u,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Pn(g.formMethod))return{path:e,submission:g};let v=ls(e);return r&&v.search&&wg(v.search)&&m.append("index",""),v.search=`?${m}`,{path:mi(v),submission:g}}function d0(r,e,t,a,o,u,c,m,p,g,v,T,b,C,L,H,V,W,Z,X){let de=X?ir(X[1])?X[1].error:X[1].data:void 0,se=o.createURL(u.location),pe=o.createURL(p),S;if(v&&u.errors){let Oe=Object.keys(u.errors)[0];S=c.findIndex(je=>je.route.id===Oe)}else if(X&&ir(X[1])){let Oe=X[0];S=c.findIndex(je=>je.route.id===Oe)-1}let R=X?X[1].statusCode:void 0,I=R&&R>=400,M={currentUrl:se,currentParams:u.matches[0]?.params||{},nextUrl:pe,nextParams:c[0].params,...m,actionResult:de,actionStatus:R},x=Tg(c.map(Oe=>Oe.route.path)),k=c.map((Oe,je)=>{let{route:ee}=Oe,oe=null;if(S!=null&&je>S?oe=!1:ee.lazy?oe=!0:Sg(ee)?v?oe=kp(ee,u.loaderData,u.errors):AC(u.loaderData,u.matches[je],Oe)&&(oe=!0):oe=!1,oe!==null)return zp(t,a,r,x,Oe,g,e,oe);let Te=I?!1:T||se.pathname+se.search===pe.pathname+pe.search||se.search!==pe.search||RC(u.matches[je],Oe),Ve={...M,defaultShouldRevalidate:Te},Fe=hf(Oe,Ve);return zp(t,a,r,x,Oe,g,e,Fe,Ve)}),D=[];return L.forEach((Oe,je)=>{if(v||!c.some(he=>he.route.id===Oe.routeId)||C.has(je))return;let ee=u.fetchers.get(je),oe=ee&&ee.state!=="idle"&&ee.data===void 0,Te=Ha(V,Oe.path,W);if(!Te){if(Z&&oe)return;D.push({key:je,routeId:Oe.routeId,path:Oe.path,matches:null,match:null,request:null,controller:null});return}if(H.has(je))return;let Ve=qh(Te,Oe.path),Fe=new AbortController,P=Bo(o,Oe.path,Fe.signal),te=null;if(b.has(je))b.delete(je),te=Xo(t,a,P,Te,Ve,g,e);else if(oe)T&&(te=Xo(t,a,P,Te,Ve,g,e));else{let he={...M,defaultShouldRevalidate:I?!1:T};hf(Ve,he)&&(te=Xo(t,a,P,Te,Ve,g,e,he))}te&&D.push({key:je,routeId:Oe.routeId,path:Oe.path,matches:te,match:Ve,request:P,controller:Fe})}),{dsMatches:k,revalidatingFetchers:D}}function Sg(r){return r.loader!=null||r.middleware!=null&&r.middleware.length>0}function kp(r,e,t){if(r.lazy)return!0;if(!Sg(r))return!1;let a=e!=null&&r.id in e,o=t!=null&&t[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function AC(r,e,t){let a=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return a||o}function RC(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function hf(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function m0(r,e,t,a,o,u){let c;if(r){let g=a[r];Ye(g,`No route found to patch children into: routeId = ${r}`),g.children||(g.children=[]),c=g.children}else c=t;let m=[],p=[];if(e.forEach(g=>{let v=c.find(T=>CS(g,T));v?p.push({existingRoute:v,newRoute:g}):m.push(g)}),m.length>0){let g=Vu(m,o,[r||"_","patch",String(c?.length||"0")],a);c.push(...g)}if(u&&p.length>0)for(let g=0;g<p.length;g++){let{existingRoute:v,newRoute:T}=p[g],b=v,[C]=Vu([T],o,[],{},!0);Object.assign(b,{element:C.element?C.element:b.element,errorElement:C.errorElement?C.errorElement:b.errorElement,hydrateFallbackElement:C.hydrateFallbackElement?C.hydrateFallbackElement:b.hydrateFallbackElement})}}function CS(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,a)=>e.children?.some(o=>CS(t,o))):!1}var p0=new WeakMap,IS=({key:r,route:e,manifest:t,mapRouteProperties:a})=>{let o=t[e.id];if(Ye(o,"No route found in manifest"),!o.lazy||typeof o.lazy!="object")return;let u=o.lazy[r];if(!u)return;let c=p0.get(o);c||(c={},p0.set(o,c));let m=c[r];if(m)return m;let p=(async()=>{let g=BR(r),T=o[r]!==void 0&&r!=="hasErrorBoundary";if(g)Pt(!g,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),c[r]=Promise.resolve();else if(T)Pt(!1,`Route "${o.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let b=await u();b!=null&&(Object.assign(o,{[r]:b}),Object.assign(o,a(o)))}typeof o.lazy=="object"&&(o.lazy[r]=void 0,Object.values(o.lazy).every(b=>b===void 0)&&(o.lazy=void 0))})();return c[r]=p,p},g0=new WeakMap;function CC(r,e,t,a,o){let u=t[r.id];if(Ye(u,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let v=g0.get(u);if(v)return{lazyRoutePromise:v,lazyHandlerPromise:v};let T=(async()=>{Ye(typeof r.lazy=="function","No lazy route function found");let b=await r.lazy(),C={};for(let L in b){let H=b[L];if(H===void 0)continue;let V=FR(L),Z=u[L]!==void 0&&L!=="hasErrorBoundary";V?Pt(!V,"Route property "+L+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Z?Pt(!Z,`Route "${u.id}" has a static property "${L}" defined but its lazy function is also returning a value for this property. The lazy route property "${L}" will be ignored.`):C[L]=H}Object.assign(u,C),Object.assign(u,{...a(u),lazy:void 0})})();return g0.set(u,T),T.catch(()=>{}),{lazyRoutePromise:T,lazyHandlerPromise:T}}let c=Object.keys(r.lazy),m=[],p;for(let v of c){if(o&&o.includes(v))continue;let T=IS({key:v,route:r,manifest:t,mapRouteProperties:a});T&&(m.push(T),v===e&&(p=T))}let g=m.length>0?Promise.all(m).then(()=>{}):void 0;return g?.catch(()=>{}),p?.catch(()=>{}),{lazyRoutePromise:g,lazyHandlerPromise:p}}async function y0(r){let e=r.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{t[e[u].route.id]=o}),t}async function IC(r){return r.matches.some(e=>e.route.middleware)?DS(r,()=>y0(r)):y0(r)}function DS(r,e){return DC(r,e,a=>a,UC,t);function t(a,o,u){if(u)return Promise.resolve(Object.assign(u.value,{[o]:{type:"error",result:a}}));{let{matches:c}=r,m=Math.min(Math.max(c.findIndex(g=>g.route.id===o),0),Math.max(c.findIndex(g=>g.unstable_shouldCallHandler()),0)),p=Fa(c,c[m].route.id).route.id;return Promise.resolve({[p]:{type:"error",result:a}})}}}async function DC(r,e,t,a,o){let{matches:u,request:c,params:m,context:p,unstable_pattern:g}=r,v=u.flatMap(b=>b.route.middleware?b.route.middleware.map(C=>[b.route.id,C]):[]);return await OS({request:c,params:m,context:p,unstable_pattern:g},v,e,t,a,o)}async function OS(r,e,t,a,o,u,c=0){let{request:m}=r;if(m.signal.aborted)throw m.signal.reason??new Error(`Request aborted: ${m.method} ${m.url}`);let p=e[c];if(!p)return await t();let[g,v]=p,T,b=async()=>{if(T)throw new Error("You may only call `next()` once per middleware");try{return T={value:await OS(r,e,t,a,o,u,c+1)},T.value}catch(C){return T={value:await u(C,g,T)},T.value}};try{let C=await v(r,b),L=C!=null?a(C):void 0;return o(L)?L:T?L??T.value:(T={value:await b()},T.value)}catch(C){return await u(C,g,T)}}function NS(r,e,t,a,o){let u=IS({key:"middleware",route:a.route,manifest:e,mapRouteProperties:r}),c=CC(a.route,Pn(t.method)?"action":"loader",e,r,o);return{middleware:u,route:c.lazyRoutePromise,handler:c.lazyHandlerPromise}}function zp(r,e,t,a,o,u,c,m,p=null){let g=!1,v=NS(r,e,t,o,u);return{...o,_lazyPromises:v,shouldLoad:m,unstable_shouldRevalidateArgs:p,unstable_shouldCallHandler(T){return g=!0,p?typeof T=="boolean"?hf(o,{...p,defaultShouldRevalidate:T}):hf(o,p):m},resolve(T){let{lazy:b,loader:C,middleware:L}=o.route,H=g||m||T&&!Pn(t.method)&&(b||C),V=L&&L.length>0&&!C&&!b;return H&&(Pn(t.method)||!V)?NC({request:t,unstable_pattern:a,match:o,lazyHandlerPromise:v?.handler,lazyRoutePromise:v?.route,handlerOverride:T,scopedContext:c}):Promise.resolve({type:"data",result:void 0})}}}function Xo(r,e,t,a,o,u,c,m=null){return a.map(p=>p.route.id!==o.route.id?{...p,shouldLoad:!1,unstable_shouldRevalidateArgs:m,unstable_shouldCallHandler:()=>!1,_lazyPromises:NS(r,e,t,p,u),resolve:()=>Promise.resolve({type:"data",result:void 0})}:zp(r,e,t,Tg(a.map(g=>g.route.path)),p,u,c,!0,m))}async function OC(r,e,t,a,o,u){t.some(g=>g._lazyPromises?.middleware)&&await Promise.all(t.map(g=>g._lazyPromises?.middleware));let c={request:e,unstable_pattern:Tg(t.map(g=>g.route.path)),params:t[0].params,context:o,matches:t},p=await r({...c,fetcherKey:a,runClientMiddleware:g=>{let v=c;return DS(v,()=>g({...v,fetcherKey:a,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(g=>[g._lazyPromises?.handler,g._lazyPromises?.route]))}catch{}return p}async function NC({request:r,unstable_pattern:e,match:t,lazyHandlerPromise:a,lazyRoutePromise:o,handlerOverride:u,scopedContext:c}){let m,p,g=Pn(r.method),v=g?"action":"loader",T=b=>{let C,L=new Promise((W,Z)=>C=Z);p=()=>C(),r.signal.addEventListener("abort",p);let H=W=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${v}" [routeId: ${t.route.id}]`)):b({request:r,unstable_pattern:e,params:t.params,context:c},...W!==void 0?[W]:[]),V=(async()=>{try{return{type:"data",result:await(u?u(Z=>H(Z)):H())}}catch(W){return{type:"error",result:W}}})();return Promise.race([V,L])};try{let b=g?t.route.action:t.route.loader;if(a||o)if(b){let C,[L]=await Promise.all([T(b).catch(H=>{C=H}),a,o]);if(C!==void 0)throw C;m=L}else{await a;let C=g?t.route.action:t.route.loader;if(C)[m]=await Promise.all([T(C),o]);else if(v==="action"){let L=new URL(r.url),H=L.pathname+L.search;throw Er(405,{method:r.method,pathname:H,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(b)m=await T(b);else{let C=new URL(r.url),L=C.pathname+C.search;throw Er(404,{pathname:L})}}catch(b){return{type:"error",result:b}}finally{p&&r.signal.removeEventListener("abort",p)}return m}async function MC(r){let e=r.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?r.body==null?null:r.json():r.text()}async function xC(r){let{result:e,type:t}=r;if(xS(e)){let a;try{a=await MC(e)}catch(o){return{type:"error",error:o}}return t==="error"?{type:"error",error:new cf(e.status,e.statusText,a),statusCode:e.status,headers:e.headers}:{type:"data",data:a,statusCode:e.status,headers:e.headers}}return t==="error"?w0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new cf(e.init?.status||500,void 0,e.data),statusCode:Lu(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Lu(e)?e.status:void 0}:w0(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function PC(r,e,t,a,o){let u=r.headers.get("Location");if(Ye(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bf(u)){let c=a.slice(0,a.findIndex(m=>m.route.id===t)+1);u=Up(new URL(e.url),c,o,u),r.headers.set("Location",u)}return r}function _0(r,e,t){if(Bf(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),u=Ar(o.pathname,t)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function Bo(r,e,t,a){let o=r.createURL(MS(e)).toString(),u={signal:t};if(a&&Pn(a.formMethod)){let{formMethod:c,formEncType:m}=a;u.method=c.toUpperCase(),m==="application/json"?(u.headers=new Headers({"Content-Type":m}),u.body=JSON.stringify(a.json)):m==="text/plain"?u.body=a.text:m==="application/x-www-form-urlencoded"&&a.formData?u.body=jp(a.formData):u.body=a.formData}return new Request(o,u)}function jp(r){let e=new URLSearchParams;for(let[t,a]of r.entries())e.append(t,typeof a=="string"?a:a.name);return e}function v0(r){let e=new FormData;for(let[t,a]of r.entries())e.append(t,a);return e}function VC(r,e,t,a=!1,o=!1){let u={},c=null,m,p=!1,g={},v=t&&ir(t[1])?t[1].error:void 0;return r.forEach(T=>{if(!(T.route.id in e))return;let b=T.route.id,C=e[b];if(Ye(!Us(C),"Cannot handle redirect results in processLoaderData"),ir(C)){let L=C.error;if(v!==void 0&&(L=v,v=void 0),c=c||{},o)c[b]=L;else{let H=Fa(r,b);c[H.route.id]==null&&(c[H.route.id]=L)}a||(u[b]=RS),p||(p=!0,m=Lu(C.error)?C.error.status:500),C.headers&&(g[b]=C.headers)}else u[b]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(m=C.statusCode),C.headers&&(g[b]=C.headers)}),v!==void 0&&t&&(c={[t[0]]:v},t[2]&&(u[t[2]]=void 0)),{loaderData:u,errors:c,statusCode:m||200,loaderHeaders:g}}function E0(r,e,t,a,o,u){let{loaderData:c,errors:m}=VC(e,t,a);return o.filter(p=>!p.matches||p.matches.some(g=>g.shouldLoad)).forEach(p=>{let{key:g,match:v,controller:T}=p;if(T&&T.signal.aborted)return;let b=u[g];if(Ye(b,"Did not find corresponding fetcher result"),ir(b)){let C=Fa(r.matches,v?.route.id);m&&m[C.route.id]||(m={...m,[C.route.id]:b.error}),r.fetchers.delete(g)}else if(Us(b))Ye(!1,"Unhandled fetcher revalidation redirect");else{let C=Gi(b.data);r.fetchers.set(g,C)}}),{loaderData:c,errors:m}}function T0(r,e,t,a){let o=Object.entries(e).filter(([,u])=>u!==RS).reduce((u,[c,m])=>(u[c]=m,u),{});for(let u of t){let c=u.route.id;if(!e.hasOwnProperty(c)&&r.hasOwnProperty(c)&&u.route.loader&&(o[c]=r[c]),a&&a.hasOwnProperty(c))break}return o}function S0(r){return r?ir(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Fa(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function Mh(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Er(r,{pathname:e,routeId:t,method:a,type:o,message:u}={}){let c="Unknown Server Error",m="Unknown @remix-run/router error";return r===400?(c="Bad Request",a&&e&&t?m=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(m="Unable to encode submission body")):r===403?(c="Forbidden",m=`Route "${t}" does not match URL "${e}"`):r===404?(c="Not Found",m=`No route matches URL "${e}"`):r===405&&(c="Method Not Allowed",a&&e&&t?m=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(m=`Invalid request method "${a.toUpperCase()}"`)),new cf(r||500,c,new Error(m),!0)}function xh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(Us(o))return{key:a,result:o}}}function MS(r){let e=typeof r=="string"?ls(r):r;return mi({...e,hash:""})}function LC(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function UC(r){return r!=null&&typeof r=="object"&&Object.entries(r).every(([e,t])=>typeof e=="string"&&kC(t))}function kC(r){return r!=null&&typeof r=="object"&&"type"in r&&"result"in r&&(r.type==="data"||r.type==="error")}function zC(r){return xS(r.result)&&vC.has(r.result.status)}function ir(r){return r.type==="error"}function Us(r){return(r&&r.type)==="redirect"}function w0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function xS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function jC(r){return _C.has(r.toUpperCase())}function Pn(r){return gC.has(r.toUpperCase())}function wg(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function qh(r,e){let t=typeof e=="string"?ls(e).search:e.search;if(r[r.length-1].route.index&&wg(t||""))return r[r.length-1];let a=SS(r);return a[a.length-1]}function b0(r){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:u,json:c}=r;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:t,formEncType:a,formData:u,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:c,text:void 0}}}function gp(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function BC(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function pu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function HC(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Gi(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function FC(r,e){try{let t=r.sessionStorage.getItem(AS);if(t){let a=JSON.parse(t);for(let[o,u]of Object.entries(a||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function qC(r,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{r.sessionStorage.setItem(AS,JSON.stringify(t))}catch(a){Pt(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function GC(){let r,e,t=new Promise((a,o)=>{r=async u=>{a(u);try{await t}catch{}},e=async u=>{o(u);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Ks=B.createContext(null);Ks.displayName="DataRouter";var Wu=B.createContext(null);Wu.displayName="DataRouterState";B.createContext(!1);var bg=B.createContext({isTransitioning:!1});bg.displayName="ViewTransition";var PS=B.createContext(new Map);PS.displayName="Fetchers";var KC=B.createContext(null);KC.displayName="Await";var qr=B.createContext(null);qr.displayName="Navigation";var qf=B.createContext(null);qf.displayName="Location";var Cr=B.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Ag=B.createContext(null);Ag.displayName="RouteError";function YC(r,{relative:e}={}){Ye(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=B.useContext(qr),{hash:o,pathname:u,search:c}=Ju(r,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:oi([t,u])),a.createHref({pathname:m,search:c,hash:o})}function ul(){return B.useContext(qf)!=null}function ra(){return Ye(ul(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(qf).location}var VS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LS(r){B.useContext(qr).static||B.useLayoutEffect(r)}function ia(){let{isDataRoute:r}=B.useContext(Cr);return r?u2():QC()}function QC(){Ye(ul(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Ks),{basename:e,navigator:t}=B.useContext(qr),{matches:a}=B.useContext(Cr),{pathname:o}=ra(),u=JSON.stringify(Hf(a)),c=B.useRef(!1);return LS(()=>{c.current=!0}),B.useCallback((p,g={})=>{if(Pt(c.current,VS),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Ff(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:oi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,r])}var XC=B.createContext(null);function $C(r){let e=B.useContext(Cr).outlet;return B.useMemo(()=>e&&B.createElement(XC.Provider,{value:r},e),[e,r])}function WC(){let{matches:r}=B.useContext(Cr),e=r[r.length-1];return e?e.params:{}}function Ju(r,{relative:e}={}){let{matches:t}=B.useContext(Cr),{pathname:a}=ra(),o=JSON.stringify(Hf(t));return B.useMemo(()=>Ff(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function JC(r,e,t,a,o){Ye(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(qr),{matches:c}=B.useContext(Cr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",T=m&&m.route;{let Z=T&&T.path||"";US(g,!T||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let b=ra(),C;C=b;let L=C.pathname||"/",H=L;if(v!=="/"){let Z=v.replace(/^\//,"").split("/");H="/"+L.replace(/^\//,"").split("/").slice(Z.length).join("/")}let V=Ha(r,{pathname:H});return Pt(T||V!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Pt(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),r2(V&&V.map(Z=>Object.assign({},Z,{params:Object.assign({},p,Z.params),pathname:oi([v,u.encodeLocation?u.encodeLocation(Z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?v:oi([v,u.encodeLocation?u.encodeLocation(Z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Z.pathnameBase])})),c,t,a,o)}function ZC(){let r=l2(),e=Lu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,c)}var e2=B.createElement(ZC,null),t2=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?B.createElement(Cr.Provider,{value:this.props.routeContext},B.createElement(Ag.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function n2({routeContext:r,match:e,children:t}){let a=B.useContext(Ks);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Cr.Provider,{value:r},t)}function r2(r,e=[],t=null,a=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,c=t?.errors;if(c!=null){let v=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);Ye(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(t)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:b,errors:C}=t,L=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=t&&a?(v,T)=>{a(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((v,T,b)=>{let C,L=!1,H=null,V=null;t&&(C=c&&T.route.id?c[T.route.id]:void 0,H=T.route.errorElement||e2,m&&(p<0&&b===0?(US("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,V=null):p===b&&(L=!0,V=T.route.hydrateFallbackElement||null)));let W=e.concat(u.slice(0,b+1)),Z=()=>{let X;return C?X=H:L?X=V:T.route.Component?X=B.createElement(T.route.Component,null):T.route.element?X=T.route.element:X=v,B.createElement(n2,{match:T,routeContext:{outlet:v,matches:W,isDataRoute:t!=null},children:X})};return t&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?B.createElement(t2,{location:t.location,revalidation:t.revalidation,component:H,error:C,children:Z(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):Z()},null)}function Rg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(r){let e=B.useContext(Ks);return Ye(e,Rg(r)),e}function a2(r){let e=B.useContext(Wu);return Ye(e,Rg(r)),e}function s2(r){let e=B.useContext(Cr);return Ye(e,Rg(r)),e}function Cg(r){let e=s2(r),t=e.matches[e.matches.length-1];return Ye(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function o2(){return Cg("useRouteId")}function l2(){let r=B.useContext(Ag),e=a2("useRouteError"),t=Cg("useRouteError");return r!==void 0?r:e.errors?.[t]}function u2(){let{router:r}=i2("useNavigate"),e=Cg("useNavigate"),t=B.useRef(!1);return LS(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{Pt(t.current,VS),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var A0={};function US(r,e,t){!e&&!A0[r]&&(A0[r]=!0,Pt(!1,t))}var R0={};function C0(r,e){!r&&!R0[e]&&(R0[e]=!0,console.warn(e))}function c2(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Pt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Pt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Pt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var h2=["HydrateFallback","hydrateFallbackElement"],f2=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function d2({router:r,flushSync:e,unstable_onError:t}){let[a,o]=B.useState(r.state),[u,c]=B.useState(),[m,p]=B.useState({isTransitioning:!1}),[g,v]=B.useState(),[T,b]=B.useState(),[C,L]=B.useState(),H=B.useRef(new Map),V=B.useCallback(se=>{o(pe=>(se.errors&&t&&Object.entries(se.errors).forEach(([S,R])=>{pe.errors?.[S]!==R&&t(R,{location:se.location,params:se.matches[0]?.params??{}})}),se))},[t]),W=B.useCallback((se,{deletedFetchers:pe,flushSync:S,viewTransitionOpts:R})=>{se.fetchers.forEach((M,x)=>{M.data!==void 0&&H.current.set(x,M.data)}),pe.forEach(M=>H.current.delete(M)),C0(S===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let I=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(C0(R==null||I,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!I){e&&S?e(()=>V(se)):B.startTransition(()=>V(se));return}if(e&&S){e(()=>{T&&(g&&g.resolve(),T.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let M=r.window.document.startViewTransition(()=>{e(()=>V(se))});M.finished.finally(()=>{e(()=>{v(void 0),b(void 0),c(void 0),p({isTransitioning:!1})})}),e(()=>b(M));return}T?(g&&g.resolve(),T.skipTransition(),L({state:se,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(c(se),p({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,e,T,g,V]);B.useLayoutEffect(()=>r.subscribe(W),[r,W]),B.useEffect(()=>{m.isTransitioning&&!m.flushSync&&v(new f2)},[m]),B.useEffect(()=>{if(g&&u&&r.window){let se=u,pe=g.promise,S=r.window.document.startViewTransition(async()=>{B.startTransition(()=>V(se)),await pe});S.finished.finally(()=>{v(void 0),b(void 0),c(void 0),p({isTransitioning:!1})}),b(S)}},[u,g,r.window,V]),B.useEffect(()=>{g&&u&&a.location.key===u.location.key&&g.resolve()},[g,T,a.location,u]),B.useEffect(()=>{!m.isTransitioning&&C&&(c(C.state),p({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}),L(void 0))},[m.isTransitioning,C]);let Z=B.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:se=>r.navigate(se),push:(se,pe,S)=>r.navigate(se,{state:pe,preventScrollReset:S?.preventScrollReset}),replace:(se,pe,S)=>r.navigate(se,{replace:!0,state:pe,preventScrollReset:S?.preventScrollReset})}),[r]),X=r.basename||"/",de=B.useMemo(()=>({router:r,navigator:Z,static:!1,basename:X,unstable_onError:t}),[r,Z,X,t]);return B.createElement(B.Fragment,null,B.createElement(Ks.Provider,{value:de},B.createElement(Wu.Provider,{value:a},B.createElement(PS.Provider,{value:H.current},B.createElement(bg.Provider,{value:m},B.createElement(_2,{basename:X,location:a.location,navigationType:a.historyAction,navigator:Z},B.createElement(m2,{routes:r.routes,future:r.future,state:a,unstable_onError:t})))))),null)}var m2=B.memo(p2);function p2({routes:r,future:e,state:t,unstable_onError:a}){return JC(r,void 0,t,a,e)}function g2({to:r,replace:e,state:t,relative:a}){Ye(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(qr);Pt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Cr),{pathname:c}=ra(),m=ia(),p=Ff(r,Hf(u),c,a==="path"),g=JSON.stringify(p);return B.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:a})},[m,g,a,e,t]),null}function y2(r){return $C(r.context)}function _2({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:u=!1}){Ye(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof t=="string"&&(t=ls(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:b="default"}=t,C=B.useMemo(()=>{let L=Ar(p,c);return L==null?null:{location:{pathname:L,search:g,hash:v,state:T,key:b},navigationType:a}},[c,p,g,v,T,b,a]);return Pt(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:B.createElement(qr.Provider,{value:m},B.createElement(qf.Provider,{children:e,value:C}))}var Gh="get",Kh="application/x-www-form-urlencoded";function Gf(r){return r!=null&&typeof r.tagName=="string"}function v2(r){return Gf(r)&&r.tagName.toLowerCase()==="button"}function E2(r){return Gf(r)&&r.tagName.toLowerCase()==="form"}function T2(r){return Gf(r)&&r.tagName.toLowerCase()==="input"}function S2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function w2(r,e){return r.button===0&&(!e||e==="_self")&&!S2(r)}function Bp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let a=r[t];return e.concat(Array.isArray(a)?a.map(o=>[t,o]):[[t,a]])},[]))}function b2(r,e){let t=Bp(r);return e&&e.forEach((a,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}var Ph=null;function A2(){if(Ph===null)try{new FormData(document.createElement("form"),0),Ph=!1}catch{Ph=!0}return Ph}var R2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yp(r){return r!=null&&!R2.has(r)?(Pt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):r}function C2(r,e){let t,a,o,u,c;if(E2(r)){let m=r.getAttribute("action");a=m?Ar(m,e):null,t=r.getAttribute("method")||Gh,o=yp(r.getAttribute("enctype"))||Kh,u=new FormData(r)}else if(v2(r)||T2(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Ar(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||Gh,o=yp(r.getAttribute("formenctype"))||yp(m.getAttribute("enctype"))||Kh,u=new FormData(m,r),!A2()){let{name:g,type:v,value:T}=r;if(v==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(Gf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Gh,a=null,o=Kh,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function I2(r,e,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&Ar(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function D2(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function N2(r,e,t){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await D2(u,t);return c.links?c.links():[]}return[]}));return V2(a.flat(1).filter(O2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(r,e,t,a,o,u){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function M2(r,e,{includeHydrateFallback:t}={}){return x2(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function x2(r){return[...new Set(r)]}function P2(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function V2(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(P2(o));return t.has(u)||(t.add(u),a.push({key:u,link:o})),a},[])}function kS(){let r=B.useContext(Ks);return Ig(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function L2(){let r=B.useContext(Wu);return Ig(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Dg=B.createContext(void 0);Dg.displayName="FrameworkContext";function zS(){let r=B.useContext(Dg);return Ig(r,"You must render this element inside a <HydratedRouter> element"),r}function U2(r,e){let t=B.useContext(Dg),[a,o]=B.useState(!1),[u,c]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,b=B.useRef(null);B.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let H=W=>{W.forEach(Z=>{c(Z.isIntersecting)})},V=new IntersectionObserver(H,{threshold:.5});return b.current&&V.observe(b.current),()=>{V.disconnect()}}},[r]),B.useEffect(()=>{if(a){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[a]);let C=()=>{o(!0)},L=()=>{o(!1),c(!1)};return t?r!=="intent"?[u,b,{}]:[u,b,{onFocus:gu(m,C),onBlur:gu(p,L),onMouseEnter:gu(g,C),onMouseLeave:gu(v,L),onTouchStart:gu(T,C)}]:[!1,b,{}]}function gu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function k2({page:r,...e}){let{router:t}=kS(),a=B.useMemo(()=>Ha(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?B.createElement(j2,{page:r,matches:a,...e}):null}function z2(r){let{manifest:e,routeModules:t}=zS(),[a,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return N2(r,e,t).then(c=>{u||o(c)}),()=>{u=!0}},[r,e,t]),a}function j2({page:r,matches:e,...t}){let a=ra(),{manifest:o,routeModules:u}=zS(),{basename:c}=kS(),{loaderData:m,matches:p}=L2(),g=B.useMemo(()=>I0(r,e,p,o,a,"data"),[r,e,p,o,a]),v=B.useMemo(()=>I0(r,e,p,o,a,"assets"),[r,e,p,o,a]),T=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let L=new Set,H=!1;if(e.forEach(W=>{let Z=o.routes[W.route.id];!Z||!Z.hasLoader||(!g.some(X=>X.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||Z.hasClientLoader?H=!0:L.add(W.route.id))}),L.size===0)return[];let V=I2(r,c,"data");return H&&L.size>0&&V.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[V.pathname+V.search]},[c,m,a,o,g,e,r,u]),b=B.useMemo(()=>M2(v,o),[v,o]),C=z2(v);return B.createElement(B.Fragment,null,T.map(L=>B.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),b.map(L=>B.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),C.map(({key:L,link:H})=>B.createElement("link",{key:L,nonce:t.nonce,...H})))}function B2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var jS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jS&&(window.__reactRouterVersion="7.9.6")}catch{}function H2(r,e){return wC({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:UR({window:e?.window}),hydrationData:e?.hydrationData||F2(),routes:r,mapRouteProperties:c2,hydrationRouteProperties:h2,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function F2(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:q2(r.errors)}),r}function q2(r){if(!r)return null;let e=Object.entries(r),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new cf(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let c=new u(o.message);c.stack="",t[a]=c}catch{}}if(t[a]==null){let u=new Error(o.message);u.stack="",t[a]=u}}else t[a]=o;return t}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tr=B.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...b},C){let{basename:L}=B.useContext(qr),H=typeof g=="string"&&BS.test(g),V,W=!1;if(typeof g=="string"&&H&&(V=g,jS))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),x=Ar(M.pathname,L);M.origin===I.origin&&x!=null?g=x+M.search+M.hash:W=!0}catch{Pt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=YC(g,{relative:o}),[X,de,se]=U2(a,b),pe=Q2(g,{replace:c,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function S(I){e&&e(I),I.defaultPrevented||pe(I)}let R=B.createElement("a",{...b,...se,href:V||Z,onClick:W||u?e:S,ref:B2(C,de),target:p,"data-discover":!H&&t==="render"?"true":void 0});return X&&!H?B.createElement(B.Fragment,null,R,B.createElement(k2,{page:Z})):R});Tr.displayName="Link";var G2=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},v){let T=Ju(c,{relative:g.relative}),b=ra(),C=B.useContext(Wu),{navigator:L,basename:H}=B.useContext(qr),V=C!=null&&Z2(T)&&m===!0,W=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,Z=b.pathname,X=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,W=W.toLowerCase()),X&&H&&(X=Ar(X,H)||X);const de=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let se=Z===W||!o&&Z.startsWith(W)&&Z.charAt(de)==="/",pe=X!=null&&(X===W||!o&&X.startsWith(W)&&X.charAt(W.length)==="/"),S={isActive:se,isPending:pe,isTransitioning:V},R=se?e:void 0,I;typeof a=="function"?I=a(S):I=[a,se?"active":null,pe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(S):u;return B.createElement(Tr,{...g,"aria-current":R,className:I,ref:v,style:M,to:c,viewTransition:m},typeof p=="function"?p(S):p)});G2.displayName="NavLink";var K2=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:u,method:c=Gh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...b},C)=>{let L=W2(),H=J2(m,{relative:g}),V=c.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&BS.test(m),Z=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let de=X.nativeEvent.submitter,se=de?.getAttribute("formmethod")||c;L(de||X.currentTarget,{fetcherKey:e,method:se,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return B.createElement("form",{ref:C,method:V,action:H,onSubmit:a?p:Z,...b,"data-discover":!W&&r==="render"?"true":void 0})});K2.displayName="Form";function Y2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HS(r){let e=B.useContext(Ks);return Ye(e,Y2(r)),e}function Q2(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=ia(),p=ra(),g=Ju(r,{relative:u});return B.useCallback(v=>{if(w2(v,e)){v.preventDefault();let T=t!==void 0?t:mi(p)===mi(g);m(r,{replace:T,state:a,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,g,t,a,e,r,o,u,c])}function FS(r){Pt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=B.useRef(Bp(r)),t=B.useRef(!1),a=ra(),o=B.useMemo(()=>b2(a.search,t.current?null:e.current),[a.search]),u=ia(),c=B.useCallback((m,p)=>{const g=Bp(typeof m=="function"?m(new URLSearchParams(o)):m);t.current=!0,u("?"+g,p)},[u,o]);return[o,c]}var X2=0,$2=()=>`__${String(++X2)}__`;function W2(){let{router:r}=HS("useSubmit"),{basename:e}=B.useContext(qr),t=o2();return B.useCallback(async(a,o={})=>{let{action:u,method:c,encType:m,formData:p,body:g}=C2(a,e);if(o.navigate===!1){let v=o.fetcherKey||$2();await r.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function J2(r,{relative:e}={}){let{basename:t}=B.useContext(qr),a=B.useContext(Cr);Ye(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Ju(r||".",{relative:e})},c=ra();if(r==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:oi([t,u.pathname])),mi(u)}function Z2(r,{relative:e}={}){let t=B.useContext(bg);Ye(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=HS("useViewTransitionState"),o=Ju(r,{relative:e});if(!t.isTransitioning)return!1;let u=Ar(t.currentLocation.pathname,a)||t.currentLocation.pathname,c=Ar(t.nextLocation.pathname,a)||t.nextLocation.pathname;return uf(o.pathname,c)!=null||uf(o.pathname,u)!=null}var eI=yS();function tI(r){return B.createElement(d2,{flushSync:eI.flushSync,...r})}var qS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},D0=Hr.createContext&&Hr.createContext(qS),nI=["attr","size","title"];function rI(r,e){if(r==null)return{};var t=iI(r,e),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function iI(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function ff(){return ff=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},ff.apply(this,arguments)}function O0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function df(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(t),!0).forEach(function(a){aI(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):O0(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function aI(r,e,t){return e=sI(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function sI(r){var e=oI(r,"string");return typeof e=="symbol"?e:e+""}function oI(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function GS(r){return r&&r.map((e,t)=>Hr.createElement(e.tag,df({key:t},e.attr),GS(e.child)))}function aa(r){return e=>Hr.createElement(lI,ff({attr:df({},r.attr)},e),GS(r.child))}function lI(r){var e=t=>{var{attr:a,size:o,title:u}=r,c=rI(r,nI),m=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Hr.createElement("svg",ff({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:p,style:df(df({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Hr.createElement("title",null,u),r.children)};return D0!==void 0?Hr.createElement(D0.Consumer,null,t=>e(t)):e(qS)}function uI(r){return aa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function cI(r){return aa({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function hI(r){return aa({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(r)}function fI(r){return aa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}var _p={exports:{}},vp={};var N0;function dI(){if(N0)return vp;N0=1;var r=jf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,a=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,c=r.useMemo,m=r.useDebugValue;return vp.useSyncExternalStoreWithSelector=function(p,g,v,T,b){var C=o(null);if(C.current===null){var L={hasValue:!1,value:null};C.current=L}else L=C.current;C=c(function(){function V(se){if(!W){if(W=!0,Z=se,se=T(se),b!==void 0&&L.hasValue){var pe=L.value;if(b(pe,se))return X=pe}return X=se}if(pe=X,t(Z,se))return pe;var S=T(se);return b!==void 0&&b(pe,S)?(Z=se,pe):(Z=se,X=S)}var W=!1,Z,X,de=v===void 0?null:v;return[function(){return V(g())},de===null?void 0:function(){return V(de())}]},[g,v,T,b]);var H=a(p,C[0],C[1]);return u(function(){L.hasValue=!0,L.value=H},[H]),m(H),H},vp}var M0;function mI(){return M0||(M0=1,_p.exports=dI()),_p.exports}var pI=mI();function gI(r){r()}function yI(){let r=null,e=null;return{clear(){r=null,e=null},notify(){gI(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let a=r;for(;a;)t.push(a),a=a.next;return t},subscribe(t){let a=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:r=o,function(){!a||r===null||(a=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:r=o.next)}}}}var x0={notify(){},get:()=>[]};function _I(r,e){let t,a=x0,o=0,u=!1;function c(H){v();const V=a.subscribe(H);let W=!1;return()=>{W||(W=!0,V(),T())}}function m(){a.notify()}function p(){L.onStateChange&&L.onStateChange()}function g(){return u}function v(){o++,t||(t=r.subscribe(p),a=yI())}function T(){o--,t&&o===0&&(t(),t=void 0,a.clear(),a=x0)}function b(){u||(u=!0,v())}function C(){u&&(u=!1,T())}const L={addNestedSub:c,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:b,tryUnsubscribe:C,getListeners:()=>a};return L}var vI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EI=vI(),TI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",SI=TI(),wI=()=>EI||SI?B.useLayoutEffect:B.useEffect,bI=wI(),AI=Symbol.for("react-redux-context"),RI=typeof globalThis<"u"?globalThis:{};function CI(){if(!B.createContext)return{};const r=RI[AI]??=new Map;let e=r.get(B.createContext);return e||(e=B.createContext(null),r.set(B.createContext,e)),e}var ts=CI();function II(r){const{children:e,context:t,serverState:a,store:o}=r,u=B.useMemo(()=>{const p=_I(o);return{store:o,subscription:p,getServerState:a?()=>a:void 0}},[o,a]),c=B.useMemo(()=>o.getState(),[o]);bI(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const m=t||ts;return B.createElement(m.Provider,{value:u},e)}var DI=II;function Og(r=ts){return function(){return B.useContext(r)}}var KS=Og();function YS(r=ts){const e=r===ts?KS:Og(r),t=()=>{const{store:a}=e();return a};return Object.assign(t,{withTypes:()=>t}),t}var OI=YS();function NI(r=ts){const e=r===ts?OI:YS(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Zu=NI(),MI=(r,e)=>r===e;function xI(r=ts){const e=r===ts?KS:Og(r),t=(a,o={})=>{const{equalityFn:u=MI}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:m,subscription:p,getServerState:g}=c;B.useRef(!0);const v=B.useCallback({[a.name](b){return a(b)}}[a.name],[a]),T=pI.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,v,u);return B.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var Ys=xI();function QS(r){return aa({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"},child:[]}]})(r)}function Ng(r){return aa({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"},child:[]}]})(r)}function XS(r){return aa({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"},child:[]}]})(r)}function PI(r){return aa({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"},child:[]}]})(r)}function VI(){const r=Ys(e=>e.auth.user);return F.jsxs("header",{className:"header",children:[F.jsx("div",{className:"header-left",children:F.jsx(Tr,{to:"/",className:"home-link",children:F.jsx("h1",{className:"header-title",children:"Star War characters"})})}),F.jsx(Tr,{to:"/characters",className:"character-link",children:"Characters"}),F.jsxs(Tr,{to:"/favorites",className:"favorite-link",children:[F.jsx(Ng,{})," Favorite characters"]}),r?F.jsx(F.Fragment,{children:F.jsxs(Tr,{to:"/profile",className:"profile-link",children:[F.jsx(hI,{className:"icon"})," Profile"]})}):F.jsxs(F.Fragment,{children:[F.jsxs(Tr,{to:"/login",className:"login-link",children:[F.jsx(cI,{className:"icon"})," Login"]}),F.jsxs(Tr,{to:"/signup",className:"signup-link",children:[F.jsx(fI,{className:"icon"})," Signup"]})]})]})}function LI(){const[r,e]=Hr.useState(navigator.onLine);return Hr.useEffect(()=>{const t=()=>e(navigator.onLine);return window.addEventListener("online",t),window.addEventListener("offline",t),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",t)}},[]),r?null:F.jsx("div",{className:"offline-banner",children:"You are offline. Some features may be unavailable."})}function UI(){return F.jsxs("div",{children:[F.jsx(VI,{}),F.jsx(LI,{}),F.jsxs("main",{style:{padding:"20px"},children:[F.jsx(y2,{})," "]})]})}function kI(){return F.jsx("div",{children:F.jsxs("div",{children:[F.jsx("strong",{children:" All the Star Wars data you've ever wanted: "}),F.jsx("br",{}),"People with their characterictics and Films that they are in.",F.jsx("br",{}),"From all SEVEN Star Wars films"]})})}function zI(){const r=ia(),[e,t]=Hr.useState({name:"",birth_year:"",gender:"",height:"",mass:"",skin_color:"",hair_color:"",eye_color:""}),a=u=>{t({...e,[u.target.name]:u.target.value})},o=u=>{u.preventDefault();const c="local-"+Date.now()+"-"+Math.floor(Math.random()*1e3),m={...e,id:c,url:null},p=JSON.parse(localStorage.getItem("newCharacter")||"[]");localStorage.setItem("newCharacter",JSON.stringify([...p,m])),console.log("newCharacters:"+JSON.stringify(m)),console.log("newCharacters form:"+JSON.stringify(e)),r(`/products/${c}`)};return F.jsxs("form",{onSubmit:o,className:"creating-card",children:[F.jsx("h2",{className:"naming-card",children:"Create new character"}),F.jsx("input",{className:"input-name",placeholder:"name",name:"name",value:e.name,onChange:a}),F.jsx("input",{className:"input-birth_year",placeholder:"birth year",name:"birth_year",value:e.birth_year,onChange:a}),F.jsx("input",{className:"input-gender",placeholder:"gender",name:"gender",value:e.gender,onChange:a}),F.jsx("input",{className:"input-height",placeholder:"height",name:"height",value:e.height,onChange:a}),F.jsx("input",{className:"input-mass",placeholder:"mass",name:"mass",value:e.mass,onChange:a}),F.jsx("input",{className:"input-skin_color",placeholder:"skin color",name:"skin_color",value:e.skin_color,onChange:a}),F.jsx("input",{className:"input-hair_color",placeholder:"hair color of a character",name:"hair_color",value:e.hair_color,onChange:a}),F.jsx("input",{className:"input-eye_color",placeholder:"eye color of a character",name:"eye_color",value:e.eye_color,onChange:a}),F.jsx("button",{className:"submitButton",onClick:o,children:"create the magic"})]})}function En(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var jI=typeof Symbol=="function"&&Symbol.observable||"@@observable",P0=jI,Ep=()=>Math.random().toString(36).substring(7).split("").join("."),BI={INIT:`@@redux/INIT${Ep()}`,REPLACE:`@@redux/REPLACE${Ep()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ep()}`},mf=BI;function Mg(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function $S(r,e,t){if(typeof r!="function")throw new Error(En(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(En(1));return t($S)(r,e)}let a=r,o=e,u=new Map,c=u,m=0,p=!1;function g(){c===u&&(c=new Map,u.forEach((V,W)=>{c.set(W,V)}))}function v(){if(p)throw new Error(En(3));return o}function T(V){if(typeof V!="function")throw new Error(En(4));if(p)throw new Error(En(5));let W=!0;g();const Z=m++;return c.set(Z,V),function(){if(W){if(p)throw new Error(En(6));W=!1,g(),c.delete(Z),u=null}}}function b(V){if(!Mg(V))throw new Error(En(7));if(typeof V.type>"u")throw new Error(En(8));if(typeof V.type!="string")throw new Error(En(17));if(p)throw new Error(En(9));try{p=!0,o=a(o,V)}finally{p=!1}return(u=c).forEach(Z=>{Z()}),V}function C(V){if(typeof V!="function")throw new Error(En(10));a=V,b({type:mf.REPLACE})}function L(){const V=T;return{subscribe(W){if(typeof W!="object"||W===null)throw new Error(En(11));function Z(){const de=W;de.next&&de.next(v())}return Z(),{unsubscribe:V(Z)}},[P0](){return this}}}return b({type:mf.INIT}),{dispatch:b,subscribe:T,getState:v,replaceReducer:C,[P0]:L}}function HI(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:mf.INIT})>"u")throw new Error(En(12));if(typeof t(void 0,{type:mf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(En(13))})}function FI(r){const e=Object.keys(r),t={};for(let u=0;u<e.length;u++){const c=e[u];typeof r[c]=="function"&&(t[c]=r[c])}const a=Object.keys(t);let o;try{HI(t)}catch(u){o=u}return function(c={},m){if(o)throw o;let p=!1;const g={};for(let v=0;v<a.length;v++){const T=a[v],b=t[T],C=c[T],L=b(C,m);if(typeof L>"u")throw m&&m.type,new Error(En(14));g[T]=L,p=p||L!==C}return p=p||a.length!==Object.keys(c).length,p?g:c}}function pf(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...a)=>e(t(...a)))}function qI(...r){return e=>(t,a)=>{const o=e(t,a);let u=()=>{throw new Error(En(15))};const c={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=r.map(p=>p(c));return u=pf(...m)(o.dispatch),{...o,dispatch:u}}}function GI(r){return Mg(r)&&"type"in r&&typeof r.type=="string"}var WS=Symbol.for("immer-nothing"),V0=Symbol.for("immer-draftable"),Vn=Symbol.for("immer-state");function zr(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var ar=Object,el=ar.getPrototypeOf,gf="constructor",Kf="prototype",Hp="configurable",yf="enumerable",Yh="writable",Uu="value",Ji=r=>!!r&&!!r[Vn];function pi(r){return r?JS(r)||Yf(r)||!!r[V0]||!!r[gf]?.[V0]||Qf(r)||Xf(r):!1}var KI=ar[Kf][gf].toString(),L0=new WeakMap;function JS(r){if(!r||!xg(r))return!1;const e=el(r);if(e===null||e===ar[Kf])return!0;const t=ar.hasOwnProperty.call(e,gf)&&e[gf];if(t===Object)return!0;if(!Ho(t))return!1;let a=L0.get(t);return a===void 0&&(a=Function.toString.call(t),L0.set(t,a)),a===KI}function ec(r,e,t=!0){tc(r)===0?(t?Reflect.ownKeys(r):ar.keys(r)).forEach(o=>{e(o,r[o],r)}):r.forEach((a,o)=>e(o,a,r))}function tc(r){const e=r[Vn];return e?e.type_:Yf(r)?1:Qf(r)?2:Xf(r)?3:0}var U0=(r,e,t=tc(r))=>t===2?r.has(e):ar[Kf].hasOwnProperty.call(r,e),Fp=(r,e,t=tc(r))=>t===2?r.get(e):r[e],_f=(r,e,t,a=tc(r))=>{a===2?r.set(e,t):a===3?r.add(t):r[e]=t};function YI(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}var Yf=Array.isArray,Qf=r=>r instanceof Map,Xf=r=>r instanceof Set,xg=r=>typeof r=="object",Ho=r=>typeof r=="function",Tp=r=>typeof r=="boolean",Ki=r=>r.copy_||r.base_,Pg=r=>r.modified_?r.copy_:r.base_;function qp(r,e){if(Qf(r))return new Map(r);if(Xf(r))return new Set(r);if(Yf(r))return Array[Kf].slice.call(r);const t=JS(r);if(e===!0||e==="class_only"&&!t){const a=ar.getOwnPropertyDescriptors(r);delete a[Vn];let o=Reflect.ownKeys(a);for(let u=0;u<o.length;u++){const c=o[u],m=a[c];m[Yh]===!1&&(m[Yh]=!0,m[Hp]=!0),(m.get||m.set)&&(a[c]={[Hp]:!0,[Yh]:!0,[yf]:m[yf],[Uu]:r[c]})}return ar.create(el(r),a)}else{const a=el(r);if(a!==null&&t)return{...r};const o=ar.create(a);return ar.assign(o,r)}}function Vg(r,e=!1){return $f(r)||Ji(r)||(tc(r)>1&&ar.defineProperties(r,{set:Vh,add:Vh,clear:Vh,delete:Vh}),ar.freeze(r),e&&ec(r,(t,a)=>{Vg(a,!0)},!1)),r}function QI(){zr(2)}var Vh={[Uu]:QI};function $f(r){return r===null||!xg(r)?!0:ar.isFrozen(r)}var vf="MapSet",Gp="Patches",ZS={};function tl(r){const e=ZS[r];return e||zr(0,r),e}var XI=r=>!!ZS[r],ku,ew=()=>ku,$I=(r,e)=>({drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XI(vf)?tl(vf):void 0});function k0(r,e){e&&(r.patchPlugin_=tl(Gp),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function Kp(r){Yp(r),r.drafts_.forEach(WI),r.drafts_=null}function Yp(r){r===ku&&(ku=r.parent_)}var z0=r=>ku=$I(ku,r);function WI(r){const e=r[Vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function j0(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(r!==void 0&&r!==t){t[Vn].modified_&&(Kp(e),zr(4)),pi(r)&&(r=B0(e,r));const{patchPlugin_:o}=e;o&&o.generateReplacementPatches_(t[Vn].base_,r,e)}else r=B0(e,t);return JI(e,r,!0),Kp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==WS?r:void 0}function B0(r,e){if($f(e))return e;const t=e[Vn];if(!t)return Lg(e,r.handledSet_,r);if(!Wf(t,r))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:a}=t;if(a)for(;a.length>0;)a.pop()(r);rw(t,r)}return t.copy_}function JI(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Vg(e,t)}function tw(r){r.finalized_=!0,r.scope_.unfinalizedDrafts_--}var Wf=(r,e)=>r.scope_===e,ZI=[];function nw(r,e,t,a){const o=Ki(r),u=r.type_;if(a!==void 0&&Fp(o,a,u)===e){_f(o,a,t,u);return}if(!r.draftLocations_){const m=r.draftLocations_=new Map;ec(o,(p,g)=>{if(Ji(g)){const v=m.get(g)||[];v.push(p),m.set(g,v)}})}const c=r.draftLocations_.get(e)??ZI;for(const m of c)_f(o,m,t,u)}function eD(r,e,t){r.callbacks_.push(function(o){const u=e;if(!u||!Wf(u,o))return;o.mapSetPlugin_?.fixSetContents(u);const c=Pg(u);nw(r,u.draft_??u,c,t),rw(u,o)})}function rw(r,e){if(r.modified_&&!r.finalized_&&(r.type_===3||(r.assigned_?.size??0)>0)){const{patchPlugin_:a}=e;if(a){const o=a.getPath(r);o&&a.generatePatches_(r,o,e)}tw(r)}}function tD(r,e,t){const{scope_:a}=r;if(Ji(t)){const o=t[Vn];Wf(o,a)&&o.callbacks_.push(function(){Qh(r);const c=Pg(o);nw(r,t,c,e)})}else pi(t)&&r.callbacks_.push(function(){const u=Ki(r);Fp(u,e,r.type_)===t&&a.drafts_.length>1&&(r.assigned_.get(e)??!1)===!0&&r.copy_&&Lg(Fp(r.copy_,e,r.type_),a.handledSet_,a)})}function Lg(r,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Ji(r)||e.has(r)||!pi(r)||$f(r)||(e.add(r),ec(r,(a,o)=>{if(Ji(o)){const u=o[Vn];if(Wf(u,t)){const c=Pg(u);_f(r,a,c,r.type_),tw(u)}}else pi(o)&&Lg(o,e,t)})),r}function nD(r,e){const t=Yf(r),a={type_:t?1:0,scope_:e?e.scope_:ew(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=a,u=Ug;t&&(o=[a],u=zu);const{revoke:c,proxy:m}=Proxy.revocable(o,u);return a.draft_=m,a.revoke_=c,[m,a]}var Ug={get(r,e){if(e===Vn)return r;const t=Ki(r);if(!U0(t,e,r.type_))return rD(r,t,e);const a=t[e];if(r.finalized_||!pi(a))return a;if(a===Sp(r.base_,e)){Qh(r);const o=r.type_===1?+e:e,u=Xp(r.scope_,a,r,o);return r.copy_[o]=u}return a},has(r,e){return e in Ki(r)},ownKeys(r){return Reflect.ownKeys(Ki(r))},set(r,e,t){const a=iw(Ki(r),e);if(a?.set)return a.set.call(r.draft_,t),!0;if(!r.modified_){const o=Sp(Ki(r),e),u=o?.[Vn];if(u&&u.base_===t)return r.copy_[e]=t,r.assigned_.set(e,!1),!0;if(YI(t,o)&&(t!==void 0||U0(r.base_,e,r.type_)))return!0;Qh(r),Qp(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_.set(e,!0),tD(r,e,t)),!0},deleteProperty(r,e){return Qh(r),Sp(r.base_,e)!==void 0||e in r.base_?(r.assigned_.set(e,!1),Qp(r)):r.assigned_.delete(e),r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Ki(r),a=Reflect.getOwnPropertyDescriptor(t,e);return a&&{[Yh]:!0,[Hp]:r.type_!==1||e!=="length",[yf]:a[yf],[Uu]:t[e]}},defineProperty(){zr(11)},getPrototypeOf(r){return el(r.base_)},setPrototypeOf(){zr(12)}},zu={};ec(Ug,(r,e)=>{zu[r]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});zu.deleteProperty=function(r,e){return zu.set.call(this,r,e,void 0)};zu.set=function(r,e,t){return Ug.set.call(this,r[0],e,t,r[0])};function Sp(r,e){const t=r[Vn];return(t?Ki(t):r)[e]}function rD(r,e,t){const a=iw(e,t);return a?Uu in a?a[Uu]:a.get?.call(r.draft_):void 0}function iw(r,e){if(!(e in r))return;let t=el(r);for(;t;){const a=Object.getOwnPropertyDescriptor(t,e);if(a)return a;t=el(t)}}function Qp(r){r.modified_||(r.modified_=!0,r.parent_&&Qp(r.parent_))}function Qh(r){r.copy_||(r.assigned_=new Map,r.copy_=qp(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var iD=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,a)=>{if(Ho(e)&&!Ho(t)){const u=t;t=e;const c=this;return function(p=u,...g){return c.produce(p,v=>t.call(this,v,...g))}}Ho(t)||zr(6),a!==void 0&&!Ho(a)&&zr(7);let o;if(pi(e)){const u=z0(this),c=Xp(u,e,void 0);let m=!0;try{o=t(c),m=!1}finally{m?Kp(u):Yp(u)}return k0(u,a),j0(o,u)}else if(!e||!xg(e)){if(o=t(e),o===void 0&&(o=e),o===WS&&(o=void 0),this.autoFreeze_&&Vg(o,!0),a){const u=[],c=[];tl(Gp).generateReplacementPatches_(e,o,{patches_:u,inversePatches_:c}),a(u,c)}return o}else zr(1,e)},this.produceWithPatches=(e,t)=>{if(Ho(e))return(c,...m)=>this.produceWithPatches(c,p=>e(p,...m));let a,o;return[this.produce(e,t,(c,m)=>{a=c,o=m}),a,o]},Tp(r?.autoFreeze)&&this.setAutoFreeze(r.autoFreeze),Tp(r?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(r.useStrictShallowCopy),Tp(r?.useStrictIteration)&&this.setUseStrictIteration(r.useStrictIteration)}createDraft(r){pi(r)||zr(8),Ji(r)&&(r=aD(r));const e=z0(this),t=Xp(e,r,void 0);return t[Vn].isManual_=!0,Yp(e),t}finishDraft(r,e){const t=r&&r[Vn];(!t||!t.isManual_)&&zr(9);const{scope_:a}=t;return k0(a,e),j0(void 0,a)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}setUseStrictIteration(r){this.useStrictIteration_=r}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}t>-1&&(e=e.slice(t+1));const a=tl(Gp).applyPatches_;return Ji(r)?a(r,e):this.produce(r,o=>a(o,e))}};function Xp(r,e,t,a){const[o,u]=Qf(e)?tl(vf).proxyMap_(e,t):Xf(e)?tl(vf).proxySet_(e,t):nD(e,t);return(t?.scope_??ew()).drafts_.push(o),u.callbacks_=t?.callbacks_??[],u.key_=a,t&&a!==void 0?eD(t,u,a):u.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(u);const{patchPlugin_:g}=p;u.modified_&&g&&g.generatePatches_(u,[],p)}),o}function aD(r){return Ji(r)||zr(10,r),aw(r)}function aw(r){if(!pi(r)||$f(r))return r;const e=r[Vn];let t,a=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=qp(r,e.scope_.immer_.useStrictShallowCopy_),a=e.scope_.immer_.shouldUseStrictIteration()}else t=qp(r,!0);return ec(t,(o,u)=>{_f(t,o,aw(u))},a),e&&(e.finalized_=!1),t}var sD=new iD,sw=sD.produce;function ow(r){return({dispatch:t,getState:a})=>o=>u=>typeof u=="function"?u(t,a,r):o(u)}var oD=ow(),lD=ow,uD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pf:pf.apply(null,arguments)},cD=r=>r&&typeof r.match=="function";function Ru(r,e){function t(...a){if(e){let o=e(...a);if(!o)throw new Error(Xi(0));return{type:r,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:r,payload:a[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=a=>GI(a)&&a.type===r,t}var lw=class vu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,vu.prototype)}static get[Symbol.species](){return vu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new vu(...e[0].concat(this)):new vu(...e.concat(this))}};function H0(r){return pi(r)?sw(r,()=>{}):r}function Lh(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function hD(r){return typeof r=="boolean"}var fD=()=>function(e){const{thunk:t=!0,immutableCheck:a=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let c=new lw;return t&&(hD(t)?c.push(oD):c.push(lD(t.extraArgument))),c},dD="RTK_autoBatch",F0=r=>e=>{setTimeout(e,r)},mD=(r={type:"raf"})=>e=>(...t)=>{const a=e(...t);let o=!0,u=!1,c=!1;const m=new Set,p=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:F0(10):r.type==="callback"?r.queueNotification:F0(r.timeout),g=()=>{c=!1,u&&(u=!1,m.forEach(v=>v()))};return Object.assign({},a,{subscribe(v){const T=()=>o&&v(),b=a.subscribe(T);return m.add(v),()=>{b(),m.delete(v)}},dispatch(v){try{return o=!v?.meta?.[dD],u=!o,u&&(c||(c=!0,p(g))),a.dispatch(v)}finally{o=!0}}})},pD=r=>function(t){const{autoBatch:a=!0}=t??{};let o=new lw(r);return a&&o.push(mD(typeof a=="object"?a:void 0)),o};function gD(r){const e=fD(),{reducer:t=void 0,middleware:a,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=r||{};let m;if(typeof t=="function")m=t;else if(Mg(t))m=FI(t);else throw new Error(Xi(1));let p;typeof a=="function"?p=a(e):p=e();let g=pf;o&&(g=uD({trace:!1,...typeof o=="object"&&o}));const v=qI(...p),T=pD(v);let b=typeof c=="function"?c(T):T();const C=g(...b);return $S(m,u,C)}function uw(r){const e={},t=[];let a;const o={addCase(u,c){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(Xi(28));if(m in e)throw new Error(Xi(29));return e[m]=c,o},addAsyncThunk(u,c){return c.pending&&(e[u.pending.type]=c.pending),c.rejected&&(e[u.rejected.type]=c.rejected),c.fulfilled&&(e[u.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:u.settled,reducer:c.settled}),o},addMatcher(u,c){return t.push({matcher:u,reducer:c}),o},addDefaultCase(u){return a=u,o}};return r(o),[e,t,a]}function yD(r){return typeof r=="function"}function _D(r,e){let[t,a,o]=uw(e),u;if(yD(r))u=()=>H0(r());else{const m=H0(r);u=()=>m}function c(m=u(),p){let g=[t[p.type],...a.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,T)=>{if(T)if(Ji(v)){const C=T(v,p);return C===void 0?v:C}else{if(pi(v))return sw(v,b=>T(b,p));{const b=T(v,p);if(b===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return v},m)}return c.getInitialState=u,c}var vD=(r,e)=>cD(r)?r.match(e):r(e);function ED(...r){return e=>r.some(t=>vD(t,e))}var TD="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",SD=(r=21)=>{let e="",t=r;for(;t--;)e+=TD[Math.random()*64|0];return e},wD=["name","message","stack","code"],wp=class{constructor(r,e){this.payload=r,this.meta=e}_type},q0=class{constructor(r,e){this.payload=r,this.meta=e}_type},bD=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of wD)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},G0="External signal was aborted",sa=(()=>{function r(e,t,a){const o=Ru(e+"/fulfilled",(p,g,v,T)=>({payload:p,meta:{...T||{},arg:v,requestId:g,requestStatus:"fulfilled"}})),u=Ru(e+"/pending",(p,g,v)=>({payload:void 0,meta:{...v||{},arg:g,requestId:p,requestStatus:"pending"}})),c=Ru(e+"/rejected",(p,g,v,T,b)=>({payload:T,error:(a&&a.serializeError||bD)(p||"Rejected"),meta:{...b||{},arg:v,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:p?.name==="AbortError",condition:p?.name==="ConditionError"}}));function m(p,{signal:g}={}){return(v,T,b)=>{const C=a?.idGenerator?a.idGenerator(p):SD(),L=new AbortController;let H,V;function W(X){V=X,L.abort()}g&&(g.aborted?W(G0):g.addEventListener("abort",()=>W(G0),{once:!0}));const Z=(async function(){let X;try{let se=a?.condition?.(p,{getState:T,extra:b});if(RD(se)&&(se=await se),se===!1||L.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const pe=new Promise((S,R)=>{H=()=>{R({name:"AbortError",message:V||"Aborted"})},L.signal.addEventListener("abort",H)});v(u(C,p,a?.getPendingMeta?.({requestId:C,arg:p},{getState:T,extra:b}))),X=await Promise.race([pe,Promise.resolve(t(p,{dispatch:v,getState:T,extra:b,requestId:C,signal:L.signal,abort:W,rejectWithValue:(S,R)=>new wp(S,R),fulfillWithValue:(S,R)=>new q0(S,R)})).then(S=>{if(S instanceof wp)throw S;return S instanceof q0?o(S.payload,C,p,S.meta):o(S,C,p)})])}catch(se){X=se instanceof wp?c(null,C,p,se.payload,se.meta):c(se,C,p)}finally{H&&L.signal.removeEventListener("abort",H)}return a&&!a.dispatchConditionRejection&&c.match(X)&&X.meta.condition||v(X),X})();return Object.assign(Z,{abort:W,requestId:C,arg:p,unwrap(){return Z.then(AD)}})}}return Object.assign(m,{pending:u,rejected:c,fulfilled:o,settled:ED(c,o),typePrefix:e})}return r.withTypes=()=>r,r})();function AD(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function RD(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var CD=Symbol.for("rtk-slice-createasyncthunk");function ID(r,e){return`${r}/${e}`}function DD({creators:r}={}){const e=r?.asyncThunk?.[CD];return function(a){const{name:o,reducerPath:u=o}=a;if(!o)throw new Error(Xi(11));const c=(typeof a.reducers=="function"?a.reducers(ND()):a.reducers)||{},m=Object.keys(c),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(X,de){const se=typeof X=="string"?X:X.type;if(!se)throw new Error(Xi(12));if(se in p.sliceCaseReducersByType)throw new Error(Xi(13));return p.sliceCaseReducersByType[se]=de,g},addMatcher(X,de){return p.sliceMatchers.push({matcher:X,reducer:de}),g},exposeAction(X,de){return p.actionCreators[X]=de,g},exposeCaseReducer(X,de){return p.sliceCaseReducersByName[X]=de,g}};m.forEach(X=>{const de=c[X],se={reducerName:X,type:ID(o,X),createNotation:typeof a.reducers=="function"};xD(de)?VD(se,de,g,e):MD(se,de,g)});function v(){const[X={},de=[],se=void 0]=typeof a.extraReducers=="function"?uw(a.extraReducers):[a.extraReducers],pe={...X,...p.sliceCaseReducersByType};return _D(a.initialState,S=>{for(let R in pe)S.addCase(R,pe[R]);for(let R of p.sliceMatchers)S.addMatcher(R.matcher,R.reducer);for(let R of de)S.addMatcher(R.matcher,R.reducer);se&&S.addDefaultCase(se)})}const T=X=>X,b=new Map,C=new WeakMap;let L;function H(X,de){return L||(L=v()),L(X,de)}function V(){return L||(L=v()),L.getInitialState()}function W(X,de=!1){function se(S){let R=S[X];return typeof R>"u"&&de&&(R=Lh(C,se,V)),R}function pe(S=T){const R=Lh(b,de,()=>new WeakMap);return Lh(R,S,()=>{const I={};for(const[M,x]of Object.entries(a.selectors??{}))I[M]=OD(x,S,()=>Lh(C,S,V),de);return I})}return{reducerPath:X,getSelectors:pe,get selectors(){return pe(se)},selectSlice:se}}const Z={name:o,reducer:H,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:V,...W(u),injectInto(X,{reducerPath:de,...se}={}){const pe=de??u;return X.inject({reducerPath:pe,reducer:H},se),{...Z,...W(pe,!0)}}};return Z}}function OD(r,e,t,a){function o(u,...c){let m=e(u);return typeof m>"u"&&a&&(m=t()),r(m,...c)}return o.unwrapped=r,o}var cw=DD();function ND(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function MD({type:r,reducerName:e,createNotation:t},a,o){let u,c;if("reducer"in a){if(t&&!PD(a))throw new Error(Xi(17));u=a.reducer,c=a.prepare}else u=a;o.addCase(r,u).exposeCaseReducer(e,u).exposeAction(e,c?Ru(r,c):Ru(r))}function xD(r){return r._reducerDefinitionType==="asyncThunk"}function PD(r){return r._reducerDefinitionType==="reducerWithPrepare"}function VD({type:r,reducerName:e},t,a,o){if(!o)throw new Error(Xi(18));const{payloadCreator:u,fulfilled:c,pending:m,rejected:p,settled:g,options:v}=t,T=o(r,u,v);a.exposeAction(e,T),c&&a.addCase(T.fulfilled,c),m&&a.addCase(T.pending,m),p&&a.addCase(T.rejected,p),g&&a.addMatcher(T.settled,g),a.exposeCaseReducer(e,{fulfilled:c||Uh,pending:m||Uh,rejected:p||Uh,settled:g||Uh})}function Uh(){}function Xi(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const hw="https://swapi.dev/api/people";let fw=1,dw=!0;async function LD(r=1){const e=`${hw}/?page=${r}`,t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}`);const a=await t.json();return fw=r,dw=!!a.next,a.results}async function UD(){return dw?LD(fw+1):[]}async function mw(r){if(!r)throw new Error("No id provided");const e=await fetch(`${hw}/${r}`);if(!e.ok)throw new Error(`Character ${r} not found`);return e.json()}const kD=()=>{};var K0={};const pw=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zD=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],c=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],c=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,m=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(b=64)),a.push(t[v],t[T],t[b],t[C])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zD(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new jD;const b=u<<2|m>>4;if(a.push(b),g!==64){const C=m<<4&240|g>>2;if(a.push(C),T!==64){const L=g<<6&192|T;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BD=function(r){const e=pw(r);return gw.encodeByteArray(e,!0)},Ef=function(r){return BD(r).replace(/\./g,"")},yw=function(r){try{return gw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function HD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FD=()=>HD().__FIREBASE_DEFAULTS__,qD=()=>{if(typeof process>"u"||typeof K0>"u")return;const r=K0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GD=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yw(r[1]);return e&&JSON.parse(e)},Jf=()=>{try{return kD()||FD()||qD()||GD()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_w=r=>Jf()?.emulatorHosts?.[r],KD=r=>{const e=_w(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},vw=()=>Jf()?.config,Ew=r=>Jf()?.[`_${r}`];class YD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}function cl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tw(r){return(await fetch(r,{credentials:"include"})).ok}function QD(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ef(JSON.stringify(t)),Ef(JSON.stringify(c)),""].join(".")}const Cu={};function XD(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cu))Cu[e]?r.emulator.push(e):r.prod.push(e);return r}function $D(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Y0=!1;function Sw(r,e){if(typeof window>"u"||typeof document>"u"||!cl(window.location.host)||Cu[r]===e||Cu[r]||Y0)return;Cu[r]=e;function t(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=XD().prod.length>0;function c(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,C){b.setAttribute("width","24"),b.setAttribute("id",C),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Y0=!0,c()},b}function v(b,C){b.setAttribute("id",C),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=$D(a),C=t("text"),L=document.getElementById(C)||document.createElement("span"),H=t("learnmore"),V=document.getElementById(H)||document.createElement("a"),W=t("preprendIcon"),Z=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const X=b.element;m(X),v(V,H);const de=g();p(Z,W),X.append(Z,L,V,de),document.body.appendChild(X)}u?(L.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function In(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(In())}function JD(){const r=Jf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eO(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nO(){const r=In();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rO(){return!JD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iO(){try{return typeof indexedDB=="object"}catch{return!1}}function aO(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const sO="FirebaseError";class oa extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=sO,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nc.prototype.create)}}class nc{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?oO(u,a):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new oa(o,m,a)}}function oO(r,e){return r.replace(lO,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const lO=/\{\$([^}]+)}/g;function uO(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function js(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const u=r[o],c=e[o];if(Q0(u)&&Q0(c)){if(!js(u,c))return!1}else if(u!==c)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function Q0(r){return r!==null&&typeof r=="object"}function rc(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Eu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Tu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function cO(r,e){const t=new hO(r,e);return t.subscribe.bind(t)}class hO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=bp),o.error===void 0&&(o.error=bp),o.complete===void 0&&(o.complete=bp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function bp(){}function Rr(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ls="[DEFAULT]";class dO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new YD;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pO(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&c.resolve(o)}return o}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mO(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mO(r){return r===Ls?void 0:r}function pO(r){return r.instantiationMode==="EAGER"}class gO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var tt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(tt||(tt={}));const yO={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},_O=tt.INFO,vO={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},EO=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=vO[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=EO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const TO=(r,e)=>e.some(t=>r instanceof t);let X0,$0;function SO(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wO(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ww=new WeakMap,$p=new WeakMap,bw=new WeakMap,Ap=new WeakMap,zg=new WeakMap;function bO(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{t($a(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&ww.set(t,r)}).catch(()=>{}),zg.set(e,r),e}function AO(r){if($p.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});$p.set(r,e)}let Wp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return $p.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $a(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RO(r){Wp=r(Wp)}function CO(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Rp(this),e,...t);return bw.set(a,e.sort?e.sort():[e]),$a(a)}:wO().includes(r)?function(...e){return r.apply(Rp(this),e),$a(ww.get(this))}:function(...e){return $a(r.apply(Rp(this),e))}}function IO(r){return typeof r=="function"?CO(r):(r instanceof IDBTransaction&&AO(r),TO(r,SO())?new Proxy(r,Wp):r)}function $a(r){if(r instanceof IDBRequest)return bO(r);if(Ap.has(r))return Ap.get(r);const e=IO(r);return e!==r&&(Ap.set(r,e),zg.set(e,r)),e}const Rp=r=>zg.get(r);function DO(r,e,{blocked:t,upgrade:a,blocking:o,terminated:u}={}){const c=indexedDB.open(r,e),m=$a(c);return a&&c.addEventListener("upgradeneeded",p=>{a($a(c.result),p.oldVersion,p.newVersion,$a(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const OO=["get","getKey","getAll","getAllKeys","count"],NO=["put","add","delete","clear"],Cp=new Map;function W0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cp.get(e))return Cp.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=NO.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||OO.includes(t)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Cp.set(e,u),u}RO(r=>({...r,get:(e,t,a)=>W0(e,t)||r.get(e,t,a),has:(e,t)=>!!W0(e,t)||r.has(e,t)}));class MO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(xO(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function xO(r){return r.getComponent()?.type==="VERSION"}const Jp="@firebase/app",J0="0.14.6";const Zi=new kg("@firebase/app"),PO="@firebase/app-compat",VO="@firebase/analytics-compat",LO="@firebase/analytics",UO="@firebase/app-check-compat",kO="@firebase/app-check",zO="@firebase/auth",jO="@firebase/auth-compat",BO="@firebase/database",HO="@firebase/data-connect",FO="@firebase/database-compat",qO="@firebase/functions",GO="@firebase/functions-compat",KO="@firebase/installations",YO="@firebase/installations-compat",QO="@firebase/messaging",XO="@firebase/messaging-compat",$O="@firebase/performance",WO="@firebase/performance-compat",JO="@firebase/remote-config",ZO="@firebase/remote-config-compat",eN="@firebase/storage",tN="@firebase/storage-compat",nN="@firebase/firestore",rN="@firebase/ai",iN="@firebase/firestore-compat",aN="firebase",sN="12.6.0";const Zp="[DEFAULT]",oN={[Jp]:"fire-core",[PO]:"fire-core-compat",[LO]:"fire-analytics",[VO]:"fire-analytics-compat",[kO]:"fire-app-check",[UO]:"fire-app-check-compat",[zO]:"fire-auth",[jO]:"fire-auth-compat",[BO]:"fire-rtdb",[HO]:"fire-data-connect",[FO]:"fire-rtdb-compat",[qO]:"fire-fn",[GO]:"fire-fn-compat",[KO]:"fire-iid",[YO]:"fire-iid-compat",[QO]:"fire-fcm",[XO]:"fire-fcm-compat",[$O]:"fire-perf",[WO]:"fire-perf-compat",[JO]:"fire-rc",[ZO]:"fire-rc-compat",[eN]:"fire-gcs",[tN]:"fire-gcs-compat",[nN]:"fire-fst",[iN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};const Tf=new Map,lN=new Map,eg=new Map;function Z0(r,e){try{r.container.addComponent(e)}catch(t){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function nl(r){const e=r.name;if(eg.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;eg.set(e,r);for(const t of Tf.values())Z0(t,r);for(const t of lN.values())Z0(t,r);return!0}function jg(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Sr(r){return r==null?!1:r.settings!==void 0}const uN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new nc("app","Firebase",uN);class cN{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const hl=sN;function Aw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a={name:Zp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Wa.create("bad-app-name",{appName:String(o)});if(t||(t=vw()),!t)throw Wa.create("no-options");const u=Tf.get(o);if(u){if(js(t,u.options)&&js(a,u.config))return u;throw Wa.create("duplicate-app",{appName:o})}const c=new gO(o);for(const p of eg.values())c.addComponent(p);const m=new cN(t,a,c);return Tf.set(o,m),m}function Rw(r=Zp){const e=Tf.get(r);if(!e&&r===Zp&&vw())return Aw();if(!e)throw Wa.create("no-app",{appName:r});return e}function Ja(r,e,t){let a=oN[r]??r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(c.join(" "));return}nl(new Bs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const hN="firebase-heartbeat-database",fN=1,ju="firebase-heartbeat-store";let Ip=null;function Cw(){return Ip||(Ip=DO(hN,fN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ju)}catch(t){console.warn(t)}}}}).catch(r=>{throw Wa.create("idb-open",{originalErrorMessage:r.message})})),Ip}async function dN(r){try{const t=(await Cw()).transaction(ju),a=await t.objectStore(ju).get(Iw(r));return await t.done,a}catch(e){if(e instanceof oa)Zi.warn(e.message);else{const t=Wa.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(t.message)}}}async function eT(r,e){try{const a=(await Cw()).transaction(ju,"readwrite");await a.objectStore(ju).put(e,Iw(r)),await a.done}catch(t){if(t instanceof oa)Zi.warn(t.message);else{const a=Wa.create("idb-set",{originalErrorMessage:t?.message});Zi.warn(a.message)}}}function Iw(r){return`${r.name}!${r.options.appId}`}const mN=1024,pN=30;class gN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _N(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>pN){const o=vN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=tT(),{heartbeatsToSend:t,unsentEntries:a}=yN(this._heartbeatsCache.heartbeats),o=Ef(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zi.warn(e),""}}}function tT(){return new Date().toISOString().substring(0,10)}function yN(r,e=mN){const t=[];let a=r.slice();for(const o of r){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),nT(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),nT(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class _N{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iO()?aO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return eT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function nT(r){return Ef(JSON.stringify({version:2,heartbeats:r})).length}function vN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}function EN(r){nl(new Bs("platform-logger",e=>new MO(e),"PRIVATE")),nl(new Bs("heartbeat",e=>new gN(e),"PRIVATE")),Ja(Jp,J0,r),Ja(Jp,J0,"esm2020"),Ja("fire-js","")}EN("");var TN="firebase",SN="12.6.0";Ja(TN,SN,"app");function Dw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wN=Dw,Ow=new nc("auth","Firebase",Dw());const Sf=new kg("@firebase/auth");function bN(r,...e){Sf.logLevel<=tt.WARN&&Sf.warn(`Auth (${hl}): ${r}`,...e)}function Xh(r,...e){Sf.logLevel<=tt.ERROR&&Sf.error(`Auth (${hl}): ${r}`,...e)}function Fr(r,...e){throw Bg(r,...e)}function li(r,...e){return Bg(r,...e)}function Nw(r,e,t){const a={...wN(),[e]:t};return new nc("auth","Firebase",a).create(e,{appName:r.name})}function $i(r){return Nw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bg(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return Ow.create(r,...e)}function xe(r,e,...t){if(!r)throw Bg(e,...t)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xh(e),new Error(e)}function ea(r,e){r||Yi(e)}function tg(){return typeof self<"u"&&self.location?.href||""}function AN(){return rT()==="http:"||rT()==="https:"}function rT(){return typeof self<"u"&&self.location?.protocol||null}function RN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||eO()||"connection"in navigator)?navigator.onLine:!0}function CN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ic{constructor(e,t){this.shortDelay=e,this.longDelay=t,ea(t>e,"Short delay should be less than long delay!"),this.isMobile=WD()||tO()}get(){return RN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Hg(r,e){ea(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Mw{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ON=new ic(3e4,6e4);function us(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function cs(r,e,t,a,o={}){return xw(r,o,async()=>{let u={},c={};a&&(e==="GET"?c=a:u={body:JSON.stringify(a)});const m=rc({key:r.config.apiKey,...c}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return ZD()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&cl(r.emulatorConfig.host)&&(g.credentials="include"),Mw.fetch()(await Pw(r,r.config.apiHost,t,m),g)})}async function xw(r,e,t){r._canInitEmulator=!1;const a={...IN,...e};try{const o=new MN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw kh(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw kh(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw kh(r,"user-disabled",c);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Nw(r,v,g);Fr(r,v)}}catch(o){if(o instanceof oa)throw o;Fr(r,"network-request-failed",{message:String(o)})}}async function ac(r,e,t,a,o={}){const u=await cs(r,e,t,a,o);return"mfaPendingCredential"in u&&Fr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Pw(r,e,t,a){const o=`${e}${t}?${a}`,u=r,c=u.config.emulator?Hg(r.config,o):`${r.config.apiScheme}://${o}`;return DN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function NN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(li(this.auth,"network-request-failed")),ON.get())})}}function kh(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=li(r,e,a);return o.customData._tokenResponse=t,o}function iT(r){return r!==void 0&&r.enterprise!==void 0}class xN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PN(r,e){return cs(r,"GET","/v2/recaptchaConfig",us(r,e))}async function VN(r,e){return cs(r,"POST","/v1/accounts:delete",e)}async function wf(r,e){return cs(r,"POST","/v1/accounts:lookup",e)}function Iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LN(r,e=!1){const t=Rr(r),a=await t.getIdToken(e),o=Fg(a);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:a,authTime:Iu(Dp(o.auth_time)),issuedAtTime:Iu(Dp(o.iat)),expirationTime:Iu(Dp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dp(r){return Number(r)*1e3}function Fg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=yw(t);return o?JSON.parse(o):(Xh("Failed to decode base64 JWT payload"),null)}catch(o){return Xh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function aT(r){const e=Fg(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bu(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof oa&&UN(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function UN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ng{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Iu(this.lastLoginAt),this.creationTime=Iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bf(r){const e=r.auth,t=await r.getIdToken(),a=await Bu(r,wf(e,{idToken:t}));xe(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Vw(o.providerUserInfo):[],c=jN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!c?.length,g=m?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function zN(r){const e=Rr(r);await bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Vw(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function BN(r,e){const t=await xw(r,{},async()=>{const a=rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await Pw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&cl(r.emulatorConfig.host)&&(p.credentials="include"),Mw.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HN(r,e){return cs(r,"POST","/v2/accounts:revokeToken",us(r,e))}class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=aT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:u}=await BN(e,t);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:u}=t,c=new $o;return a&&(xe(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ba(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class jr{constructor({uid:e,auth:t,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LN(this,e)}reload(){return zN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await bf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Bu(this,VN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:C,providerData:L,stsTokenManager:H}=t;xe(T&&H,e,"internal-error");const V=$o.fromJSON(this.name,H);xe(typeof T=="string",e,"internal-error"),Ba(a,e.name),Ba(o,e.name),xe(typeof b=="boolean",e,"internal-error"),xe(typeof C=="boolean",e,"internal-error"),Ba(u,e.name),Ba(c,e.name),Ba(m,e.name),Ba(p,e.name),Ba(g,e.name),Ba(v,e.name);const W=new jr({uid:T,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:v});return L&&Array.isArray(L)&&(W.providerData=L.map(Z=>({...Z}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,a=!1){const o=new $o;o.updateFromServerResponse(t);const u=new jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await bf(u),u}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Vw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new $o;m.updateFromIdToken(a);const p=new jr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const sT=new Map;function Qi(r){ea(r instanceof Function,"Expected a class definition");let e=sT.get(r);return e?(ea(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sT.set(r,e),e)}class Lw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Lw.type="NONE";const oT=Lw;function $h(r,e,t){return`firebase:${r}:${e}:${t}`}class Wo{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=$h(this.userKey,o.apiKey,u),this.fullPersistenceKey=$h("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wf(this.auth,{idToken:e}).catch(()=>{});return t?jr._fromGetAccountInfoResponse(this.auth,t,e):null}return jr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Wo(Qi(oT),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(oT);const c=$h(a,e.config.apiKey,e.name);let m=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const b=await wf(e,{idToken:v}).catch(()=>{});if(!b)break;T=await jr._fromGetAccountInfoResponse(e,b,v)}else T=jr._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Wo(u,e,a):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Wo(u,e,a))}}function lT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hw(e))return"Blackberry";if(Fw(e))return"Webos";if(kw(e))return"Safari";if((e.includes("chrome/")||zw(e))&&!e.includes("edge/"))return"Chrome";if(Bw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if(a?.length===2)return a[1]}return"Other"}function Uw(r=In()){return/firefox\//i.test(r)}function kw(r=In()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zw(r=In()){return/crios\//i.test(r)}function jw(r=In()){return/iemobile/i.test(r)}function Bw(r=In()){return/android/i.test(r)}function Hw(r=In()){return/blackberry/i.test(r)}function Fw(r=In()){return/webos/i.test(r)}function qg(r=In()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FN(r=In()){return qg(r)&&!!window.navigator?.standalone}function qN(){return nO()&&document.documentMode===10}function qw(r=In()){return qg(r)||Bw(r)||Fw(r)||Hw(r)||/windows phone/i.test(r)||jw(r)}function Gw(r,e=[]){let t;switch(r){case"Browser":t=lT(In());break;case"Worker":t=`${lT(In())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hl}/${a}`}class GN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function KN(r,e={}){return cs(r,"GET","/v2/passwordPolicy",us(r,e))}const YN=6;class QN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??YN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class XN{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new GN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ow,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wf(this,{idToken:e}),a=await jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Sr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await bf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject($i(this));const t=e?Rr(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Sr(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KN(this),t=new QN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nc("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await HN(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qi(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Qi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qs(r){return Rr(r)}class uT{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $N(r){Zf=r}function Kw(r){return Zf.loadJS(r)}function WN(){return Zf.recaptchaEnterpriseScript}function JN(){return Zf.gapiScript}function ZN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class e4{constructor(){this.enterprise=new t4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class t4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const n4="recaptcha-enterprise",Yw="NO_RECAPTCHA";class r4{constructor(e){this.type=n4,this.auth=Qs(e)}async verify(e="verify",t=!1){async function a(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{PN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;iT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(Yw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e4().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{a(this.auth).then(m=>{if(!t&&iT(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=WN();p.length!==0&&(p+=m),Kw(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function cT(r,e,t,a=!1,o=!1){const u=new r4(r);let c;if(o)c=Yw;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function rg(r,e,t,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cT(r,e,t,t==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cT(r,e,t,t==="getOobCode");return a(r,c)}else return Promise.reject(u)})}function i4(r,e){const t=jg(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(js(u,e??{}))return o;Fr(o,"already-initialized")}return t.initialize({options:e})}function a4(r,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(Qi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function s4(r,e,t){const a=Qs(r);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Qw(e),{host:c,port:m}=o4(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},v=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(js(g,a.config.emulator)&&js(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,cl(c)?(Tw(`${u}//${c}${p}`),Sw("Auth",!0)):l4()}function Qw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function o4(r){const e=Qw(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:hT(a.substr(u.length+1))}}else{const[u,c]=a.split(":");return{host:u,port:hT(c)}}}function hT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function l4(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Gg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,t){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function u4(r,e){return cs(r,"POST","/v1/accounts:signUp",e)}async function c4(r,e){return ac(r,"POST","/v1/accounts:signInWithPassword",us(r,e))}async function h4(r,e){return ac(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}async function f4(r,e){return ac(r,"POST","/v1/accounts:signInWithEmailLink",us(r,e))}class Hu extends Gg{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Hu(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Hu(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,t,"signInWithPassword",c4);case"emailLink":return h4(e,{email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rg(e,a,"signUpPassword",u4);case"emailLink":return f4(e,{idToken:t,email:this._email,oobCode:this._password});default:Fr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Jo(r,e){return ac(r,"POST","/v1/accounts:signInWithIdp",us(r,e))}const d4="http://localhost";class Hs extends Gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Fr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=t;if(!a||!o)return null;const c=new Hs(a,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,Jo(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:d4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rc(t)}return e}}function m4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p4(r){const e=Eu(Tu(r)).link,t=e?Eu(Tu(e)).deep_link_id:null,a=Eu(Tu(r)).deep_link_id;return(a?Eu(Tu(a)).link:null)||a||t||e||r}class Kg{constructor(e){const t=Eu(Tu(e)),a=t.apiKey??null,o=t.oobCode??null,u=m4(t.mode??null);xe(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=p4(e);try{return new Kg(t)}catch{return null}}}class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return Hu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=Kg.parseLink(t);return xe(a,"argument-error"),Hu._fromEmailAndCode(e,a.code,a.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Xw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sc extends Xw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qa extends sc{constructor(){super("facebook.com")}static credential(e){return Hs._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";class Ga extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Hs._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Ga.credential(t,a)}catch{return null}}}Ga.GOOGLE_SIGN_IN_METHOD="google.com";Ga.PROVIDER_ID="google.com";class Ka extends sc{constructor(){super("github.com")}static credential(e){return Hs._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.GITHUB_SIGN_IN_METHOD="github.com";Ka.PROVIDER_ID="github.com";class Ya extends sc{constructor(){super("twitter.com")}static credential(e,t){return Hs._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return Ya.credential(t,a)}catch{return null}}}Ya.TWITTER_SIGN_IN_METHOD="twitter.com";Ya.PROVIDER_ID="twitter.com";async function g4(r,e){return ac(r,"POST","/v1/accounts:signUp",us(r,e))}class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const u=await jr._fromIdTokenResponse(e,a,o),c=fT(a);return new Fs({user:u,providerId:c,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=fT(a);return new Fs({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function fT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Af extends oa{constructor(e,t,a,o){super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new Af(e,t,a,o)}}function $w(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Af._fromErrorAndOperation(r,u,e,a):u})}async function y4(r,e,t=!1){const a=await Bu(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Fs._forOperation(r,"link",a)}async function _4(r,e,t=!1){const{auth:a}=r;if(Sr(a.app))return Promise.reject($i(a));const o="reauthenticate";try{const u=await Bu(r,$w(a,o,e,r),t);xe(u.idToken,a,"internal-error");const c=Fg(u.idToken);xe(c,a,"internal-error");const{sub:m}=c;return xe(r.uid===m,a,"user-mismatch"),Fs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Fr(a,"user-mismatch"),u}}async function Ww(r,e,t=!1){if(Sr(r.app))return Promise.reject($i(r));const a="signIn",o=await $w(r,a,e),u=await Fs._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(u.user),u}async function v4(r,e){return Ww(Qs(r),e)}async function Jw(r){const e=Qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function E4(r,e,t){if(Sr(r.app))return Promise.reject($i(r));const a=Qs(r),c=await rg(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",g4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Jw(r),p}),m=await Fs._fromIdTokenResponse(a,"signIn",c);return await a._updateCurrentUser(m.user),m}function T4(r,e,t){return Sr(r.app)?Promise.reject($i(r)):v4(Rr(r),fl.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Jw(r),a})}function S4(r,e,t,a){return Rr(r).onIdTokenChanged(e,t,a)}function w4(r,e,t){return Rr(r).beforeAuthStateChanged(e,t)}function b4(r){return Rr(r).signOut()}const Rf="__sak";class Zw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rf,"1"),this.storage.removeItem(Rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const A4=1e3,R4=10;class e1 extends Zw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!t&&this.localCache[a]===c||this.notifyListeners(a,c)},u=this.storage.getItem(a);qN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,R4):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e1.type="LOCAL";const C4=e1;class t1 extends Zw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}t1.type="SESSION";const n1=t1;function I4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new ed(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(c).map(async g=>g(t.origin,u)),p=await I4(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ed.receivers=[];function Yg(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}class D4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Yg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ui(){return window}function O4(r){ui().location.href=r}function r1(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function N4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M4(){return navigator?.serviceWorker?.controller||null}function x4(){return r1()?self:null}const i1="firebaseLocalStorageDb",P4=1,Cf="firebaseLocalStorage",a1="fbase_key";class oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function td(r,e){return r.transaction([Cf],e?"readwrite":"readonly").objectStore(Cf)}function V4(){const r=indexedDB.deleteDatabase(i1);return new oc(r).toPromise()}function ig(){const r=indexedDB.open(i1,P4);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Cf,{keyPath:a1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Cf)?e(a):(a.close(),await V4(),e(await ig()))})})}async function dT(r,e,t){const a=td(r,!0).put({[a1]:e,value:t});return new oc(a).toPromise()}async function L4(r,e){const t=td(r,!1).get(e),a=await new oc(t).toPromise();return a===void 0?null:a.value}function mT(r,e){const t=td(r,!0).delete(e);return new oc(t).toPromise()}const U4=800,k4=3;class s1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ig(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>k4)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ed._getInstance(x4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await N4(),!this.activeServiceWorker)return;this.sender=new D4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ig();return await dT(e,Rf,"1"),await mT(e,Rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>dT(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>L4(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=td(o,!1).getAll();return new oc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s1.type="LOCAL";const z4=s1;new ic(3e4,6e4);function j4(r,e){return e?Qi(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Qg extends Gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B4(r){return Ww(r.auth,new Qg(r),r.bypassAuthState)}function H4(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),_4(t,new Qg(r),r.bypassAuthState)}async function F4(r){const{auth:e,user:t}=r;return xe(t,e,"internal-error"),y4(t,new Qg(r),r.bypassAuthState)}class o1{constructor(e,t,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B4;case"linkViaPopup":case"linkViaRedirect":return F4;case"reauthViaPopup":case"reauthViaRedirect":return H4;default:Fr(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const q4=new ic(2e3,1e4);class Qo extends o1{constructor(e,t,a,o,u){super(e,t,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=Yg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q4.get())};e()}}Qo.currentPopupAction=null;const G4="pendingRedirect",Wh=new Map;class K4 extends o1{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const a=await Y4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y4(r,e){const t=$4(e),a=X4(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function Q4(r,e){Wh.set(r._key(),e)}function X4(r){return Qi(r._redirectPersistence)}function $4(r){return $h(G4,r.config.apiKey,r.name)}async function W4(r,e,t=!1){if(Sr(r.app))return Promise.reject($i(r));const a=Qs(r),o=j4(a,e),c=await new K4(a,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const J4=600*1e3;class Z4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!l1(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(li(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J4&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function l1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function eM(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(r);default:return!1}}async function tM(r,e={}){return cs(r,"GET","/v1/projects",e)}const nM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rM=/^https?/;async function iM(r){if(r.config.emulator)return;const{authorizedDomains:e}=await tM(r);for(const t of e)try{if(aM(t))return}catch{}Fr(r,"unauthorized-domain")}function aM(r){const e=tg(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===a}if(!rM.test(t))return!1;if(nM.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const sM=new ic(3e4,6e4);function gT(){const r=ui().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function oM(r){return new Promise((e,t)=>{function a(){gT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gT(),t(li(r,"network-request-failed"))},timeout:sM.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)a();else{const o=ZN("iframefcb");return ui()[o]=()=>{gapi.load?a():t(li(r,"network-request-failed"))},Kw(`${JN()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function lM(r){return Jh=Jh||oM(r),Jh}const uM=new ic(5e3,15e3),cM="__/auth/iframe",hM="emulator/auth/iframe",fM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mM(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Hg(e,hM):`https://${r.config.authDomain}/${cM}`,a={apiKey:e.apiKey,appName:r.name,v:hl},o=dM.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${t}?${rc(a).slice(1)}`}async function pM(r){const e=await lM(r),t=ui().gapi;return xe(t,r,"internal-error"),e.open({where:document.body,url:mM(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fM,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const c=li(r,"network-request-failed"),m=ui().setTimeout(()=>{u(c)},uM.get());function p(){ui().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(c)})}))}const gM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yM=500,_M=600,vM="_blank",EM="http://localhost";class yT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TM(r,e,t,a=yM,o=_M){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...gM,width:a.toString(),height:o.toString(),top:u,left:c},g=In().toLowerCase();t&&(m=zw(g)?vM:t),Uw(g)&&(e=e||EM,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[C,L])=>`${b}${C}=${L},`,"");if(FN(g)&&m!=="_self")return SM(e||"",m),new yT(null);const T=window.open(e||"",m,v);xe(T,r,"popup-blocked");try{T.focus()}catch{}return new yT(T)}function SM(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}const wM="__/auth/handler",bM="emulator/auth/handler",AM=encodeURIComponent("fac");async function _T(r,e,t,a,o,u){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:hl,eventId:o};if(e instanceof Xw){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",uO(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof sc){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),g=p?`#${AM}=${encodeURIComponent(p)}`:"";return`${RM(r)}?${rc(m).slice(1)}${g}`}function RM({config:r}){return r.emulator?Hg(r,bM):`https://${r.authDomain}/${wM}`}const Op="webStorageSupport";class CM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n1,this._completeRedirectFn=W4,this._overrideRedirectResult=Q4}async _openPopup(e,t,a,o){ea(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await _T(e,t,a,tg(),o);return TM(e,u,Yg())}async _openRedirect(e,t,a,o){await this._originValidation(e);const u=await _T(e,t,a,tg(),o);return O4(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ea(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await pM(e),a=new Z4(e);return t.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Op,{type:Op},o=>{const u=o?.[0]?.[Op];u!==void 0&&t(!!u),Fr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=iM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qw()||kw()||qg()}}const IM=CM;var vT="@firebase/auth",ET="1.11.1";class DM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function OM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NM(r){nl(new Bs("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=a.options;xe(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gw(r)},g=new XN(a,o,u,p);return a4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),nl(new Bs("auth-internal",e=>{const t=Qs(e.getProvider("auth").getImmediate());return(a=>new DM(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ja(vT,ET,OM(r)),Ja(vT,ET,"esm2020")}const MM=300,xM=Ew("authIdTokenMaxAge")||MM;let TT=null;const PM=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>xM)return;const o=t?.token;TT!==o&&(TT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VM(r=Rw()){const e=jg(r,"auth");if(e.isInitialized())return e.getImmediate();const t=i4(r,{popupRedirectResolver:IM,persistence:[z4,C4,n1]}),a=Ew("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const c=PM(u.toString());w4(t,c,()=>c(t.currentUser)),S4(t,m=>c(m))}}const o=_w("auth");return o&&s4(t,`http://${o}`),t}function LM(){return document.getElementsByTagName("head")?.[0]??document}$N({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=li("internal-error");u.customData=o,t(u)},a.type="text/javascript",a.charset="UTF-8",LM().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NM("Browser");var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Za,u1;(function(){var r;function e(S,R){function I(){}I.prototype=R.prototype,S.F=R.prototype,S.prototype=new I,S.prototype.constructor=S,S.D=function(M,x,k){for(var D=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)D[Oe-2]=arguments[Oe];return R.prototype[x].apply(M,D)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,t),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(S,R,I){I||(I=0);const M=Array(16);if(typeof R=="string")for(var x=0;x<16;++x)M[x]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(x=0;x<16;++x)M[x]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=S.g[0],I=S.g[1],x=S.g[2];let k=S.g[3],D;D=R+(k^I&(x^k))+M[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(x^R&(I^x))+M[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(I^k&(R^I))+M[2]+606105819&4294967295,x=k+(D<<17&4294967295|D>>>15),D=I+(R^x&(k^R))+M[3]+3250441966&4294967295,I=x+(D<<22&4294967295|D>>>10),D=R+(k^I&(x^k))+M[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(x^R&(I^x))+M[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(I^k&(R^I))+M[6]+2821735955&4294967295,x=k+(D<<17&4294967295|D>>>15),D=I+(R^x&(k^R))+M[7]+4249261313&4294967295,I=x+(D<<22&4294967295|D>>>10),D=R+(k^I&(x^k))+M[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(x^R&(I^x))+M[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(I^k&(R^I))+M[10]+4294925233&4294967295,x=k+(D<<17&4294967295|D>>>15),D=I+(R^x&(k^R))+M[11]+2304563134&4294967295,I=x+(D<<22&4294967295|D>>>10),D=R+(k^I&(x^k))+M[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=k+(x^R&(I^x))+M[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=x+(I^k&(R^I))+M[14]+2792965006&4294967295,x=k+(D<<17&4294967295|D>>>15),D=I+(R^x&(k^R))+M[15]+1236535329&4294967295,I=x+(D<<22&4294967295|D>>>10),D=R+(x^k&(I^x))+M[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^x&(R^I))+M[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^I&(k^R))+M[11]+643717713&4294967295,x=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(x^k))+M[0]+3921069994&4294967295,I=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(I^x))+M[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^x&(R^I))+M[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^I&(k^R))+M[15]+3634488961&4294967295,x=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(x^k))+M[4]+3889429448&4294967295,I=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(I^x))+M[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^x&(R^I))+M[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^I&(k^R))+M[3]+4107603335&4294967295,x=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(x^k))+M[8]+1163531501&4294967295,I=x+(D<<20&4294967295|D>>>12),D=R+(x^k&(I^x))+M[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=k+(I^x&(R^I))+M[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=x+(R^I&(k^R))+M[7]+1735328473&4294967295,x=k+(D<<14&4294967295|D>>>18),D=I+(k^R&(x^k))+M[12]+2368359562&4294967295,I=x+(D<<20&4294967295|D>>>12),D=R+(I^x^k)+M[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^x)+M[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^I)+M[11]+1839030562&4294967295,x=k+(D<<16&4294967295|D>>>16),D=I+(x^k^R)+M[14]+4259657740&4294967295,I=x+(D<<23&4294967295|D>>>9),D=R+(I^x^k)+M[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^x)+M[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^I)+M[7]+4139469664&4294967295,x=k+(D<<16&4294967295|D>>>16),D=I+(x^k^R)+M[10]+3200236656&4294967295,I=x+(D<<23&4294967295|D>>>9),D=R+(I^x^k)+M[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^x)+M[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^I)+M[3]+3572445317&4294967295,x=k+(D<<16&4294967295|D>>>16),D=I+(x^k^R)+M[6]+76029189&4294967295,I=x+(D<<23&4294967295|D>>>9),D=R+(I^x^k)+M[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=k+(R^I^x)+M[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=x+(k^R^I)+M[15]+530742520&4294967295,x=k+(D<<16&4294967295|D>>>16),D=I+(x^k^R)+M[2]+3299628645&4294967295,I=x+(D<<23&4294967295|D>>>9),D=R+(x^(I|~k))+M[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~x))+M[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~I))+M[14]+2878612391&4294967295,x=k+(D<<15&4294967295|D>>>17),D=I+(k^(x|~R))+M[5]+4237533241&4294967295,I=x+(D<<21&4294967295|D>>>11),D=R+(x^(I|~k))+M[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~x))+M[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~I))+M[10]+4293915773&4294967295,x=k+(D<<15&4294967295|D>>>17),D=I+(k^(x|~R))+M[1]+2240044497&4294967295,I=x+(D<<21&4294967295|D>>>11),D=R+(x^(I|~k))+M[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~x))+M[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~I))+M[6]+2734768916&4294967295,x=k+(D<<15&4294967295|D>>>17),D=I+(k^(x|~R))+M[13]+1309151649&4294967295,I=x+(D<<21&4294967295|D>>>11),D=R+(x^(I|~k))+M[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=k+(I^(R|~x))+M[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=x+(R^(k|~I))+M[2]+718787259&4294967295,x=k+(D<<15&4294967295|D>>>17),D=I+(k^(x|~R))+M[9]+3951481745&4294967295,S.g[0]=S.g[0]+R&4294967295,S.g[1]=S.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+k&4294967295}a.prototype.v=function(S,R){R===void 0&&(R=S.length);const I=R-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<R;){if(x==0)for(;k<=I;)o(this,S,k),k+=this.blockSize;if(typeof S=="string"){for(;k<R;)if(M[x++]=S.charCodeAt(k++),x==this.blockSize){o(this,M),x=0;break}}else for(;k<R;)if(M[x++]=S[k++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=R},a.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var R=1;R<S.length-8;++R)S[R]=0;R=this.o*8;for(var I=S.length-8;I<S.length;++I)S[I]=R&255,R/=256;for(this.v(S),S=Array(16),R=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)S[R++]=this.g[I]>>>M&255;return S};function u(S,R){var I=m;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=R(S)}function c(S,R){this.h=R;const I=[];let M=!0;for(let x=S.length-1;x>=0;x--){const k=S[x]|0;M&&k==R||(I[x]=k,M=!1)}this.g=I}var m={};function p(S){return-128<=S&&S<128?u(S,function(R){return new c([R|0],R<0?-1:0)}):new c([S|0],S<0?-1:0)}function g(S){if(isNaN(S)||!isFinite(S))return T;if(S<0)return V(g(-S));const R=[];let I=1;for(let M=0;S>=I;M++)R[M]=S/I|0,I*=4294967296;return new c(R,0)}function v(S,R){if(S.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S.charAt(0)=="-")return V(v(S.substring(1),R));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let M=T;for(let k=0;k<S.length;k+=8){var x=Math.min(8,S.length-k);const D=parseInt(S.substring(k,k+x),R);x<8?(x=g(Math.pow(R,x)),M=M.j(x).add(g(D))):(M=M.j(I),M=M.add(g(D)))}return M}var T=p(0),b=p(1),C=p(16777216);r=c.prototype,r.m=function(){if(H(this))return-V(this).m();let S=0,R=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);S+=(M>=0?M:4294967296+M)*R,R*=4294967296}return S},r.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(L(this))return"0";if(H(this))return"-"+V(this).toString(S);const R=g(Math.pow(S,6));var I=this;let M="";for(;;){const x=de(I,R).g;I=W(I,x.j(R));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(S);if(I=x,L(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function L(S){if(S.h!=0)return!1;for(let R=0;R<S.g.length;R++)if(S.g[R]!=0)return!1;return!0}function H(S){return S.h==-1}r.l=function(S){return S=W(this,S),H(S)?-1:L(S)?0:1};function V(S){const R=S.g.length,I=[];for(let M=0;M<R;M++)I[M]=~S.g[M];return new c(I,~S.h).add(b)}r.abs=function(){return H(this)?V(this):this},r.add=function(S){const R=Math.max(this.g.length,S.g.length),I=[];let M=0;for(let x=0;x<=R;x++){let k=M+(this.i(x)&65535)+(S.i(x)&65535),D=(k>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);M=D>>>16,k&=65535,D&=65535,I[x]=D<<16|k}return new c(I,I[I.length-1]&-2147483648?-1:0)};function W(S,R){return S.add(V(R))}r.j=function(S){if(L(this)||L(S))return T;if(H(this))return H(S)?V(this).j(V(S)):V(V(this).j(S));if(H(S))return V(this.j(V(S)));if(this.l(C)<0&&S.l(C)<0)return g(this.m()*S.m());const R=this.g.length+S.g.length,I=[];for(var M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<S.g.length;x++){const k=this.i(M)>>>16,D=this.i(M)&65535,Oe=S.i(x)>>>16,je=S.i(x)&65535;I[2*M+2*x]+=D*je,Z(I,2*M+2*x),I[2*M+2*x+1]+=k*je,Z(I,2*M+2*x+1),I[2*M+2*x+1]+=D*Oe,Z(I,2*M+2*x+1),I[2*M+2*x+2]+=k*Oe,Z(I,2*M+2*x+2)}for(S=0;S<R;S++)I[S]=I[2*S+1]<<16|I[2*S];for(S=R;S<2*R;S++)I[S]=0;return new c(I,0)};function Z(S,R){for(;(S[R]&65535)!=S[R];)S[R+1]+=S[R]>>>16,S[R]&=65535,R++}function X(S,R){this.g=S,this.h=R}function de(S,R){if(L(R))throw Error("division by zero");if(L(S))return new X(T,T);if(H(S))return R=de(V(S),R),new X(V(R.g),V(R.h));if(H(R))return R=de(S,V(R)),new X(V(R.g),R.h);if(S.g.length>30){if(H(S)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var I=b,M=R;M.l(S)<=0;)I=se(I),M=se(M);var x=pe(I,1),k=pe(M,1);for(M=pe(M,2),I=pe(I,2);!L(M);){var D=k.add(M);D.l(S)<=0&&(x=x.add(I),k=D),M=pe(M,1),I=pe(I,1)}return R=W(S,x.j(R)),new X(x,R)}for(x=T;S.l(R)>=0;){for(I=Math.max(1,Math.floor(S.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(I),D=k.j(R);H(D)||D.l(S)>0;)I-=M,k=g(I),D=k.j(R);L(k)&&(k=b),x=x.add(k),S=W(S,D)}return new X(x,S)}r.B=function(S){return de(this,S).h},r.and=function(S){const R=Math.max(this.g.length,S.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)&S.i(M);return new c(I,this.h&S.h)},r.or=function(S){const R=Math.max(this.g.length,S.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)|S.i(M);return new c(I,this.h|S.h)},r.xor=function(S){const R=Math.max(this.g.length,S.g.length),I=[];for(let M=0;M<R;M++)I[M]=this.i(M)^S.i(M);return new c(I,this.h^S.h)};function se(S){const R=S.g.length+1,I=[];for(let M=0;M<R;M++)I[M]=S.i(M)<<1|S.i(M-1)>>>31;return new c(I,S.h)}function pe(S,R){const I=R>>5;R%=32;const M=S.g.length-I,x=[];for(let k=0;k<M;k++)x[k]=R>0?S.i(k+I)>>>R|S.i(k+I+1)<<32-R:S.i(k+I);return new c(x,S.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,u1=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Za=c}).apply(typeof ST<"u"?ST:typeof self<"u"?self:typeof window<"u"?window:{});var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c1,Su,h1,Zh,ag,f1,d1,m1;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof zh=="object"&&zh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=t(this);function o(h,y){if(y)e:{var E=a;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in E))break e;E=E[q]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function v(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,q,$){for(var fe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)fe[Be-2]=arguments[Be];return y.prototype[q].apply(A,fe)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function L(h,y){for(let A=1;A<arguments.length;A++){const q=arguments[A];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const $=q.length||0;h.length=E+$;for(let fe=0;fe<$;fe++)h[E+fe]=q[fe]}else h.push(q)}}class H{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(h){c.setTimeout(()=>{throw h},0)}function W(){var h=S;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Z{constructor(){this.h=this.g=null}add(y,E){const A=X.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var X=new H(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let se,pe=!1,S=new Z,R=()=>{const h=Promise.resolve(void 0);se=()=>{h.then(I)}};function I(){for(var h;h=W();){try{h.h.call(h.g)}catch(E){V(E)}var y=X;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Oe(h,y){x.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Oe,x),Oe.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var je="closure_listenable_"+(Math.random()*1e6|0),ee=0;function oe(h,y,E,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=q,this.key=++ee,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ve(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function Fe(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function P(h){const y={};for(const E in h)y[E]=h[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,y){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)h[E]=A[E];for(let $=0;$<te.length;$++)E=te[$],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,y,E,A,q){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const fe=Le(h,y,A,q);return fe>-1?(y=h[fe],E||(y.fa=!1)):(y=new oe(y,this.src,$,!!A,q),y.fa=E,h.push(y)),y};function De(h,y){const E=y.type;if(E in h.g){var A=h.g[E],q=Array.prototype.indexOf.call(A,y,void 0),$;($=q>=0)&&Array.prototype.splice.call(A,q,1),$&&(Te(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Le(h,y,E,A){for(let q=0;q<h.length;++q){const $=h[q];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==A)return q}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),Bt={};function wt(h,y,E,A,q){if(Array.isArray(y)){for(let $=0;$<y.length;$++)wt(h,y[$],E,A,q);return null}return E=la(E),h&&h[je]?h.J(y,E,m(A)?!!A.capture:!1,q):_i(h,y,E,!1,A,q)}function _i(h,y,E,A,q,$){if(!y)throw Error("Invalid event type");const fe=m(q)?!!q.capture:!!q;let Be=Ei(h);if(Be||(h[Ge]=Be=new me(h)),E=Be.add(y,E,A,fe,$),E.proxy)return E;if(A=Mt(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)k||(q=fe),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(sr(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Mt(){function h(E){return y.call(h.src,h.listener,E)}const y=Yn;return h}function Kn(h,y,E,A,q){if(Array.isArray(y))for(var $=0;$<y.length;$++)Kn(h,y[$],E,A,q);else A=m(A)?!!A.capture:!!A,E=la(E),h&&h[je]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],E=Le(y,E,A,q),E>-1&&(Te(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Ei(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Le(y,E,A,q)),(E=h>-1?y[h]:null)&&vi(E))}function vi(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[je])De(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(sr(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Ei(y))?(De(E,h),E.h==0&&(E.src=null,y[Ge]=null)):Te(h)}}}function sr(h){return h in Bt?Bt[h]:Bt[h]="on"+h}function Yn(h,y){if(h.da)h=!0;else{y=new Oe(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&vi(h),h=E.call(A,y)}return h}function Ei(h){return h=h[Ge],h instanceof me?h:null}var hs="__closure_events_fn_"+(Math.random()*1e9>>>0);function la(h){return typeof h=="function"?h:(h[hs]||(h[hs]=function(y){return h.handleEvent(y)}),h[hs])}function Lt(){M.call(this),this.i=new me(this),this.M=this,this.G=null}T(Lt,M),Lt.prototype[je]=!0,Lt.prototype.removeEventListener=function(h,y,E,A){Kn(this,h,y,E,A)};function Ht(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new x(y,h);else if(y instanceof x)y.target=y.target||h;else{var q=y;y=new x(A,h),he(y,q)}q=!0;let $,fe;if(E)for(fe=E.length-1;fe>=0;fe--)$=y.g=E[fe],q=Gr($,A,!0,y)&&q;if($=y.g=h,q=Gr($,A,!0,y)&&q,q=Gr($,A,!1,y)&&q,E)for(fe=0;fe<E.length;fe++)$=y.g=E[fe],q=Gr($,A,!1,y)&&q}Lt.prototype.N=function(){if(Lt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)Te(E[A]);delete h.g[y],h.h--}}this.G=null},Lt.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},Lt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Gr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let $=0;$<y.length;++$){const fe=y[$];if(fe&&!fe.da&&fe.capture==E){const Be=fe.listener,Kt=fe.ha||fe.src;fe.fa&&De(h.i,fe),q=Be.call(Kt,A)!==!1&&q}}return q&&!A.defaultPrevented}function _l(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function or(h){h.g=_l(()=>{h.g=null,h.i&&(h.i=!1,or(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ft extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(h){M.call(this),this.h=h,this.g={}}T(Kr,M);var Ti=[];function Dn(h){Ve(h.g,function(y,E){this.g.hasOwnProperty(E)&&vi(y)},h),h.g={}}Kr.prototype.N=function(){Kr.Z.N.call(this),Dn(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cn=c.JSON.stringify,Zs=c.JSON.parse,eo=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ua(){}function to(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){x.call(this,"d")}T($t,x);function On(){x.call(this,"c")}T(On,x);var It={},no=null;function Si(){return no=no||new Lt}It.Ia="serverreachability";function wi(h){x.call(this,It.Ia,h)}T(wi,x);function Qn(h){const y=Si();Ht(y,new wi(y))}It.STAT_EVENT="statevent";function Ir(h,y){x.call(this,It.STAT_EVENT,h),this.stat=y}T(Ir,x);function Ut(h){const y=Si();Ht(y,new Ir(y,h))}It.Ja="timingevent";function Xn(h,y){x.call(this,It.Ja,h),this.size=y}T(Xn,x);function lr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Ln(){this.g=!0}Ln.prototype.ua=function(){this.g=!1};function ca(h,y,E,A,q,$){h.info(function(){if(h.g)if($){var fe="",Be=$.split("&");for(let ct=0;ct<Be.length;ct++){var Kt=Be[ct].split("=");if(Kt.length>1){const Ot=Kt[0];Kt=Kt[1];const hr=Ot.split("_");fe=hr.length>=2&&hr[1]=="type"?fe+(Ot+"="+Kt+"&"):fe+(Ot+"=redacted&")}}}else fe=null;else fe=$;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+E+`
`+fe})}function bi(h,y,E,A,q,$,fe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+E+`
`+$+" "+fe})}function $n(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+vl(h,E)+(A?" "+A:"")})}function Ai(h,y){h.info(function(){return"TIMEOUT: "+y})}Ln.prototype.info=function(){};function vl(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<A.length;fe++)A[fe]=""}}}}return cn($)}catch{return y}}var O={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},j={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Q;function le(){}T(le,ua),le.prototype.g=function(){return new XMLHttpRequest},Q=new le;function ce(h){return encodeURIComponent(String(h))}function be(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function ve(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Kr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var ge={},ye={};function Se(h,y,E){h.M=1,h.A=fs(bt(y)),h.u=E,h.R=!0,Ae(h,null)}function Ae(h,y){h.F=Date.now(),mt(h),h.B=bt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),io(E.i,"t",A),h.C=0,E=h.j.L,h.h=new _e,h.g=Ac(h.j,E?y:null,!h.u),h.P>0&&(h.O=new Ft(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ti[0]=q.toString()),q=Ti);for(let $=0;$<q.length;$++){const fe=wt(E,q[$],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Qn(),ca(h.i,h.v,h.B,h.l,h.S,h.u)}ve.prototype.ba=function(h){h=h.target;const y=this.O;y&&xr(h)==3?y.j():this.Y(h)},ve.prototype.Y=function(h){try{if(h==this.g)e:{const Be=xr(this.g),Kt=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||pn(this.g)))){this.K||Be!=4||Kt==7||(Kt==8||ct<=0?Qn(3):Qn(2)),We(this);var y=this.g.ca();this.X=y;var E=Qe(this);if(this.o=y==200,bi(this.i,this.v,this.B,this.l,this.S,Be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var $=A;break t}}$=null}if(h=$)$n(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sn(this,h);else{this.o=!1,this.m=3,Ut(12),an(this),Wt(this);break e}}if(this.R){h=!0;let Ot;for(;!this.K&&this.C<E.length;)if(Ot=Dt(this,E),Ot==ye){Be==4&&(this.m=4,Ut(14),h=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==ge){this.m=4,Ut(15),$n(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else $n(this.i,this.l,Ot,null),sn(this,Ot);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||E.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)$n(this.i,this.l,E,"[Invalid Chunked Response]"),an(this),Wt(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Dl(fe),fe.P=!0,Ut(11))}}else $n(this.i,this.l,E,null),sn(this,E);Be==4&&an(this),this.o&&!this.K&&(Be==4?Tc(this.j,this):(this.o=!1,mt(this)))}else Ii(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),an(this),Wt(this)}}}catch{}finally{}};function Qe(h){if(!dt(h))return h.g.la();const y=pn(h.g);if(y==="")return"";let E="";const A=y.length,q=xr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return an(h),Wt(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<A;$++)h.h.h=!0,E+=h.h.i.decode(y[$],{stream:!(q&&$==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function dt(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Dt(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?ye:(E=Number(y.substring(E,A)),isNaN(E)?ge:(A+=1,A+E>y.length?ye:(y=y.slice(A,A+E),h.C=A+E,y)))}ve.prototype.cancel=function(){this.K=!0,an(this)};function mt(h){h.T=Date.now()+h.H,st(h,h.H)}function st(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=lr(g(h.aa,h),y)}function We(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ve.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ai(this.i,this.B),this.M!=2&&(Qn(),Ut(17)),an(this),this.m=2,Wt(this)):st(this,this.T-h)};function Wt(h){h.j.I==0||h.K||Tc(h.j,h)}function an(h){We(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Dn(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function sn(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||Nn(E.h,h))){if(!h.L&&Nn(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)uo(E),ya(E);else break e;vs(E),Ut(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=lr(g(E.Va,E),6e3));hn(E.h)<=1&&E.ta&&(E.ta=void 0)}else ei(E,11)}else if((h.L||E.g==h)&&uo(E),!D(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let ct=q[y];const Ot=ct[0];if(!(Ot<=E.K))if(E.K=Ot,ct=ct[1],E.I==2)if(ct[0]=="c"){E.M=ct[1],E.ba=ct[2];const hr=ct[3];hr!=null&&(E.ka=hr,E.j.info("VER="+E.ka));const ti=ct[4];ti!=null&&(E.za=ti,E.j.info("SVER="+E.za));const Pr=ct[5];Pr!=null&&typeof Pr=="number"&&Pr>0&&(A=1.5*Pr,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Vr=h.g;if(Vr){const Es=Vr.g?Vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Es){var $=A.h;$.g||Es.indexOf("spdy")==-1&&Es.indexOf("quic")==-1&&Es.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yr($,$.h),$.h=null))}if(A.G){const co=Vr.g?Vr.g.getResponseHeader("X-HTTP-Session-Id"):null;co&&(A.wa=co,pt(A.J,A.G,co))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var fe=h;if(A.na=bc(A,A.L?A.ba:null,A.W),fe.L){Ke(A.h,fe);var Be=fe,Kt=A.O;Kt&&(Be.H=Kt),Be.D&&(We(Be),mt(Be)),A.g=fe}else vc(A);E.i.length>0&&Zr(E)}else ct[0]!="stop"&&ct[0]!="close"||ei(E,7);else E.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ei(E,7):Cl(E):ct[0]!="noop"&&E.l&&E.l.qa(ct),E.A=0)}}Qn(4)}catch{}}var ut=class{constructor(h,y){this.g=h,this.map=y}};function Ri(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dr(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function hn(h){return h.h?1:h.g?h.g.size:0}function Nn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Yr(h,y){h.g?h.g.add(y):h.h=y}function Ke(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Ri.prototype.cancel=function(){if(this.i=kt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kt(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return C(h.i)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Un(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let q,$=null;A>=0?(q=h[E].substring(0,A),$=h[E].substring(A+1)):q=h[E],y(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Je(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Je?(this.l=h.l,Gt(this,h.j),this.o=h.o,this.g=h.g,Qr(this,h.u),this.h=h.h,El(this,yc(h.i)),this.m=h.m):h&&(y=String(h).match(Or))?(this.l=!1,Gt(this,y[1]||"",!0),this.o=Xr(y[2]||""),this.g=Xr(y[3]||"",!0),Qr(this,y[4]),this.h=Xr(y[5]||"",!0),El(this,y[6]||"",!0),this.m=Xr(y[7]||"")):(this.l=!1,this.i=new fa(null,this.l))}Je.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ds(y,ro,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ds(y,ro,!0),"@"),h.push(ce(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ds(E,E.charAt(0)=="/"?Tl:mc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ds(E,pc)),h.join("")},Je.prototype.resolve=function(h){const y=bt(this);let E=!!h.j;E?Gt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Qr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=y.h.lastIndexOf("/");q!=-1&&(A=y.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let fe=0;fe<q.length;){const Be=q[fe++];Be=="."?A&&fe==q.length&&$.push(""):Be==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&fe==q.length&&$.push("")):($.push(Be),A=!0)}A=$.join("/")}else A=q}return E?y.h=A:E=h.i.toString()!=="",E?El(y,yc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function bt(h){return new Je(h)}function Gt(h,y,E){h.j=E?Xr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Qr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function El(h,y,E){y instanceof fa?(h.i=y,ao(h.i,h.l)):(E||(y=ds(y,ha)),h.i=new fa(y,h.l))}function pt(h,y,E){h.i.set(y,E)}function fs(h){return pt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Xr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ds(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,kn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function kn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ro=/[#\/\?@]/g,mc=/[#\?:]/g,Tl=/[#\?]/g,ha=/[#\?@]/g,pc=/#/g;function fa(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function zn(h){h.g||(h.g=new Map,h.h=0,h.i&&Un(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=fa.prototype,r.add=function(h,y){zn(this),this.i=null,h=da(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function gc(h,y){zn(h),y=da(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Sl(h,y){return zn(h),y=da(h,y),h.g.has(y)}r.forEach=function(h,y){zn(this),this.g.forEach(function(E,A){E.forEach(function(q){h.call(y,q,A,this)},this)},this)};function wl(h,y){zn(h);let E=[];if(typeof y=="string")Sl(h,y)&&(E=E.concat(h.g.get(da(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}r.set=function(h,y){return zn(this),this.i=null,h=da(this,h),Sl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=wl(this,h),h.length>0?String(h[0]):y):y};function io(h,y,E){gc(h,y),E.length>0&&(h.i=null,h.g.set(da(h,y),C(E)),h.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const q=ce(E);E=wl(this,E);for(let $=0;$<E.length;$++){let fe=q;E[$]!==""&&(fe+="="+ce(E[$])),h.push(fe)}}return this.i=h.join("&")};function yc(h){const y=new fa;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function da(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ao(h,y){y&&!h.j&&(zn(h),h.i=null,h.g.forEach(function(E,A){const q=A.toLowerCase();A!=q&&(gc(this,A),io(this,q,E))},h)),h.j=y}function Nr(h,y){const E=new Ln;if(c.Image){const A=new Image;A.onload=v(ur,E,"TestLoadImage: loaded",!0,y,A),A.onerror=v(ur,E,"TestLoadImage: error",!1,y,A),A.onabort=v(ur,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=v(ur,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function bl(h,y){const E=new Ln,A=new AbortController,q=setTimeout(()=>{A.abort(),ur(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(q),$.ok?ur(E,"TestPingServer: ok",!0,y):ur(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),ur(E,"TestPingServer: error",!1,y)})}function ur(h,y,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function ma(){this.g=new eo}function $r(h){this.i=h.Sb||null,this.h=h.ab||!1}T($r,ua),$r.prototype.g=function(){return new ms(this.i,this.h)};function ms(h,y){Lt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ms,Lt),r=ms.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Mr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pa(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;so(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function so(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?pa(this):Mr(this),this.readyState==3&&so(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,pa(this))},r.Na=function(h){this.g&&(this.response=h,pa(this))},r.ga=function(){this.g&&pa(this)};function pa(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Mr(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Mr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function cr(h){let y="";return Ve(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ps(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=cr(E),typeof h=="string"?E!=null&&ce(E):pt(h,y,E))}function _t(h){Lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(_t,Lt);var Wr=/^https?$/i,Al=["POST","PUT"];r=_t.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Q.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){gs(this,$);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Al,y,void 0)>=0)||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,fe]of E)this.g.setRequestHeader($,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){gs(this,$)}};function gs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Rl(h),Ci(h)}function Rl(h){h.A||(h.A=!0,Ht(h,"complete"),Ht(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ht(this,"complete"),Ht(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),_t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ys(this):this.Xa())},r.Xa=function(){ys(this)};function ys(h){if(h.h&&typeof u<"u"){if(h.v&&xr(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ht(h,"readystatechange"),xr(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=$===0){let fe=String(h.D).match(Or)[1]||null;!fe&&c.self&&c.self.location&&(fe=c.self.location.protocol.slice(0,-1)),A=!Wr.test(fe?fe.toLowerCase():"")}E=A}if(E)Ht(h,"complete"),Ht(h,"success");else{h.o=6;try{var q=xr(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Rl(h)}}finally{Ci(h)}}}}function Ci(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Ht(h,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function xr(h){return h.g?h.g.readyState:0}r.ca=function(){try{return xr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Zs(y)}};function pn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ii(h){const y={};h=(h.g&&xr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var E=be(h[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[q]||[];y[q]=$,$.push(E)}Fe(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function ga(h){this.za=0,this.i=[],this.j=new Ln,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jr("baseRetryDelayMs",5e3,h),this.Za=Jr("retryDelaySeedMs",1e4,h),this.Ta=Jr("forwardChannelMaxRetries",2,h),this.va=Jr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Ri(h&&h.concurrentRequestLimit),this.Ba=new ma,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ga.prototype,r.ka=8,r.I=1,r.connect=function(h,y,E,A){Ut(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=bc(this,null,this.W),Zr(this)};function Cl(h){if(oo(h),h.I==3){var y=h.V++,E=bt(h.J);if(pt(E,"SID",h.M),pt(E,"RID",y),pt(E,"TYPE","terminate"),_s(h,E),y=new ve(h,h.j,y),y.M=2,y.A=fs(bt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=Ac(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mt(y)}wc(h)}function ya(h){h.g&&(Dl(h),h.g.cancel(),h.g=null)}function oo(h){ya(h),h.v&&(c.clearTimeout(h.v),h.v=null),uo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Zr(h){if(!Dr(h.h)&&!h.m){h.m=!0;var y=h.Ea;se||R(),pe||(se(),pe=!0),S.add(y,h),h.D=0}}function lo(h,y){return hn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=lr(g(h.Ea,h,y),Sc(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ve(this,this.j,h);let $=this.o;if(this.U&&($?($=P($),he($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=_c(this,q,y),E=bt(this.J),pt(E,"RID",h),pt(E,"CVER",22),this.G&&pt(E,"X-HTTP-Session-Id",this.G),_s(this,E),$&&(this.R?y="headers="+ce(cr($))+"&"+y:this.u&&ps(E,this.u,$)),Yr(this.h,q),this.Ra&&pt(E,"TYPE","init"),this.S?(pt(E,"$req",y),pt(E,"SID","null"),q.U=!0,Se(q,E,null)):Se(q,E,y),this.I=2}}else this.I==3&&(h?Il(this,h):this.i.length==0||Dr(this.h)||Il(this))};function Il(h,y){var E;y?E=y.l:E=h.V++;const A=bt(h.J);pt(A,"SID",h.M),pt(A,"RID",E),pt(A,"AID",h.K),_s(h,A),h.u&&h.o&&ps(A,h.u,h.o),E=new ve(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=_c(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Yr(h.h,E),Se(E,A,y)}function _s(h,y){h.H&&Ve(h.H,function(E,A){pt(y,A,E)}),h.l&&Ve({},function(E,A){pt(y,A,E)})}function _c(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Be=-1;for(;;){const Kt=["count="+E];Be==-1?E>0?(Be=q[0].g,Kt.push("ofs="+Be)):Be=0:Kt.push("ofs="+Be);let ct=!0;for(let Ot=0;Ot<E;Ot++){var $=q[Ot].g;const hr=q[Ot].map;if($-=Be,$<0)Be=Math.max(0,q[Ot].g-100),ct=!1;else try{$="req"+$+"_"||"";try{var fe=hr instanceof Map?hr:Object.entries(hr);for(const[ti,Pr]of fe){let Vr=Pr;m(Pr)&&(Vr=cn(Pr)),Kt.push($+ti+"="+encodeURIComponent(Vr))}}catch(ti){throw Kt.push($+"type="+encodeURIComponent("_badmap")),ti}}catch{A&&A(hr)}}if(ct){fe=Kt.join("&");break e}}fe=void 0}return h=h.i.splice(0,E),y.G=h,fe}function vc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;se||R(),pe||(se(),pe=!0),S.add(y,h),h.A=0}}function vs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=lr(g(h.Da,h),Sc(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Ec(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=lr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),ya(this),Ec(this))};function Dl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ec(h){h.g=new ve(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=bt(h.na);pt(y,"RID","rpc"),pt(y,"SID",h.M),pt(y,"AID",h.K),pt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&pt(y,"TO",h.ia),pt(y,"TYPE","xmlhttp"),_s(h,y),h.u&&h.o&&ps(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=fs(bt(y)),E.u=null,E.R=!0,Ae(E,h)}r.Va=function(){this.C!=null&&(this.C=null,ya(this),vs(this),Ut(19))};function uo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Tc(h,y){var E=null;if(h.g==y){uo(h),Dl(h),h.g=null;var A=2}else if(Nn(h.h,y))E=y.G,Ke(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;A=Si(),Ht(A,new Xn(A,E)),Zr(h)}else vc(h);else if(q=y.m,q==3||q==0&&y.X>0||!(A==1&&lo(h,y)||A==2&&vs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),q){case 1:ei(h,5);break;case 4:ei(h,10);break;case 3:ei(h,6);break;default:ei(h,2)}}}function Sc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function ei(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const q=!A;A=new Je(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gt(A,"https"),fs(A),q?Nr(A.toString(),E):bl(A.toString(),E)}else Ut(2);h.I=0,h.l&&h.l.pa(y),wc(h),oo(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function wc(h){if(h.I=0,h.ja=[],h.l){const y=kt(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function bc(h,y,E){var A=E instanceof Je?bt(E):new Je(E);if(A.g!="")y&&(A.g=y+"."+A.g),Qr(A,A.u);else{var q=c.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const $=new Je(null);A&&Gt($,A),y&&($.g=y),q&&Qr($,q),E&&($.h=E),A=$}return E=h.G,y=h.wa,E&&y&&pt(A,E,y),pt(A,"VER",h.ka),_s(h,A),A}function Ac(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new _t(new $r({ab:E})):new _t(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}r=Rc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _a(){}_a.prototype.g=function(h,y){return new Mn(h,y)};function Mn(h,y){Lt.call(this),this.g=new ga(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Di(this)}T(Mn,Lt),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){Cl(this.g)},Mn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=cn(h),h=E);y.i.push(new ut(y.Ya++,h)),y.I==3&&Zr(y)},Mn.prototype.N=function(){this.g.l=null,delete this.j,Cl(this.g),delete this.g,Mn.Z.N.call(this)};function Cc(h){$t.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(Cc,$t);function Ic(){On.call(this),this.status=1}T(Ic,On);function Di(h){this.g=h}T(Di,Rc),Di.prototype.ra=function(){Ht(this.g,"a")},Di.prototype.qa=function(h){Ht(this.g,new Cc(h))},Di.prototype.pa=function(h){Ht(this.g,new Ic)},Di.prototype.oa=function(){Ht(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,m1=function(){return new _a},d1=function(){return Si()},f1=It,ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},O.NO_ERROR=0,O.TIMEOUT=8,O.HTTP_ERROR=6,Zh=O,j.COMPLETE="complete",h1=j,to.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",Lt.prototype.listen=Lt.prototype.J,Su=to,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,c1=_t}).apply(typeof zh<"u"?zh:typeof self<"u"?self:typeof window<"u"?window:{});const wT="@firebase/firestore",bT="4.9.2";class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");let dl="12.3.0";const qs=new kg("@firebase/firestore");function Fo(){return qs.logLevel}function Ee(r,...e){if(qs.logLevel<=tt.DEBUG){const t=e.map(Xg);qs.debug(`Firestore (${dl}): ${r}`,...t)}}function ta(r,...e){if(qs.logLevel<=tt.ERROR){const t=e.map(Xg);qs.error(`Firestore (${dl}): ${r}`,...t)}}function rl(r,...e){if(qs.logLevel<=tt.WARN){const t=e.map(Xg);qs.warn(`Firestore (${dl}): ${r}`,...t)}}function Xg(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Pe(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,p1(r,a,t)}function p1(r,e,t){let a=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw ta(a),new Error(a)}function ft(r,e,t,a){let o="Unexpected state";typeof t=="string"?o=t:a=t,r||p1(e,o,a)}function ze(r,e){return r}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends oa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class g1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Rn.UNAUTHENTICATED)))}shutdown(){}}class kM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class zM{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ft(typeof a.accessToken=="string",31837,{l:a}),new g1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class jM{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BM{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new jM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ft(this.o===void 0,3512);const a=u=>{u.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ft(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FM(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<t&&(a+=e.charAt(o[u]%62))}return a}}function nt(r,e){return r<e?-1:r>e?1:0}function sg(r,e){const t=Math.min(r.length,e.length);for(let a=0;a<t;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Np(o)===Np(u)?nt(o,u):Np(o)?1:-1}return nt(r.length,e.length)}const qM=55296,GM=57343;function Np(r){const e=r.charCodeAt(0);return e>=qM&&e<=GM}function il(r,e,t){return r.length===e.length&&r.every(((a,o)=>t(a,e[o])))}const RT="__name__";class si{constructor(e,t,a){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Pe(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const u=si.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return nt(e.length,t.length)}static compareSegments(e,t){const a=si.isNumericId(e),o=si.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?si.extractNumericId(e).compare(si.extractNumericId(t)):sg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Za.fromString(e.substring(4,e.length-2))}}class xt extends si{construct(e,t,a){return new xt(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((o=>o.length>0)))}return new xt(t)}static emptyPath(){return new xt([])}}const KM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends si{construct(e,t,a){return new Sn(e,t,a)}static isValidIdentifier(e){return KM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RT}static keyField(){return new Sn([RT])}static fromServerFormat(e){const t=[];let a="",o=0;const u=()=>{if(a.length===0)throw new Ce(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Ce(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(a+=m,o++):(u(),o++)}if(u(),c)throw new Ce(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(t)}static emptyPath(){return new Sn([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(xt.fromString(e))}static fromName(e){return new Ne(xt.fromString(e).popFirst(5))}static empty(){return new Ne(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new xt(e.slice()))}}function YM(r,e,t){if(!t)throw new Ce(ue.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function QM(r,e,t,a){if(e===!0&&a===!0)throw new Ce(ue.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function CT(r){if(!Ne.isDocumentKey(r))throw new Ce(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function y1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wg(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe(12329,{type:typeof r})}function Fu(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ce(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Wg(r);throw new Ce(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function rn(r,e){const t={typeString:r};return e&&(t.value=e),t}function lc(r,e){if(!y1(r))throw new Ce(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const c=r[a];if(o&&typeof c!==o){t=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){t=`Expected '${a}' field to equal '${u.value}'`;break}}if(t)throw new Ce(ue.INVALID_ARGUMENT,t);return!0}const IT=-62135596800,DT=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*DT);return new Ct(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<IT)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DT}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lc(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:rn("string",Ct._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Ct(0,0))}static max(){return new Ue(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const qu=-1;function XM(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(a===1e9?new Ct(t+1,0):new Ct(t,a));return new ns(o,Ne.empty(),e)}function $M(r){return new ns(r.readTime,r.key,qu)}class ns{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new ns(Ue.min(),Ne.empty(),qu)}static max(){return new ns(Ue.max(),Ne.empty(),qu)}}function WM(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(r.documentKey,e.documentKey),t!==0?t:nt(r.largestBatchId,e.largestBatchId))}const JM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ml(r){if(r.code!==ue.FAILED_PRECONDITION||r.message!==JM)throw r;Ee("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(a,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ae.reject(t)}static resolve(e){return new ae(((t,a)=>{t(e)}))}static reject(e){return new ae(((t,a)=>{a(e)}))}static waitFor(e){return new ae(((t,a)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&t()}),(p=>a(p)))})),c=!0,u===o&&t()}))}static or(e){let t=ae.resolve(!1);for(const a of e)t=t.next((o=>o?ae.resolve(o):a()));return t}static forEach(e,t){const a=[];return e.forEach(((o,u)=>{a.push(t.call(this,o,u))})),this.waitFor(a)}static mapArray(e,t){return new ae(((a,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++m,m===u&&a(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new ae(((a,o)=>{const u=()=>{e()===!0?t().next((()=>{u()}),o):a()};u()}))}}function e6(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function pl(r){return r.name==="IndexedDbTransactionError"}class nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;const Jg=-1;function rd(r){return r==null}function If(r){return r===0&&1/r==-1/0}function t6(r){return typeof r=="number"&&Number.isInteger(r)&&!If(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const _1="";function n6(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=OT(e)),e=r6(r.get(t),e);return OT(e)}function r6(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":t+="";break;case _1:t+="";break;default:t+=u}}return t}function OT(r){return r+_1+""}function NT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Xs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function v1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Vt{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?a(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,a,o,u){this.key=e,this.value=t,this.color=a??Tn.RED,this.left=o??Tn.EMPTY,this.right=u??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,u){return new Tn(e??this.key,t??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,a),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,a,o,u){return this}insert(e,t,a){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new MT(this.data.getIterator())}getIteratorFrom(e){return new MT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class MT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Br{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new Br([])}unionWith(e){let t=new un(Sn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Br(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E1("Invalid base64 string: "+u):u}})(e);return new wn(t)}static fromUint8Array(e){const t=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new wn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const i6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(ft(!!r,39018),typeof r=="string"){let e=0;const t=i6.exec(r);if(ft(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Xt(r.seconds),nanos:Xt(r.nanos)}}function Xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function is(r){return typeof r=="string"?wn.fromBase64String(r):wn.fromUint8Array(r)}const T1="server_timestamp",S1="__type__",w1="__previous_value__",b1="__local_write_time__";function Zg(r){return(r?.mapValue?.fields||{})[S1]?.stringValue===T1}function id(r){const e=r.mapValue.fields[w1];return Zg(e)?id(e):e}function Gu(r){const e=rs(r.mapValue.fields[b1].timestampValue);return new Ct(e.seconds,e.nanos)}class a6{constructor(e,t,a,o,u,c,m,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Df="(default)";class Ku{constructor(e,t){this.projectId=e,this.database=t||Df}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===Df}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}const A1="__type__",s6="__max__",Bh={mapValue:{}},R1="__vector__",Of="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zg(r)?4:l6(r)?9007199254740991:o6(r)?10:11:Pe(28295,{value:r})}function gi(r,e){if(r===e)return!0;const t=as(r);if(t!==as(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gu(r).isEqual(Gu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=rs(o.timestampValue),m=rs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return is(o.bytesValue).isEqual(is(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Xt(o.geoPointValue.latitude)===Xt(u.geoPointValue.latitude)&&Xt(o.geoPointValue.longitude)===Xt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Xt(o.integerValue)===Xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Xt(o.doubleValue),m=Xt(u.doubleValue);return c===m?If(c)===If(m):isNaN(c)&&isNaN(m)}return!1})(r,e);case 9:return il(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(NT(c)!==NT(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!gi(c[p],m[p])))return!1;return!0})(r,e);default:return Pe(52216,{left:r})}}function Yu(r,e){return(r.values||[]).find((t=>gi(t,e)))!==void 0}function al(r,e){if(r===e)return 0;const t=as(r),a=as(e);if(t!==a)return nt(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(r.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Xt(u.integerValue||u.doubleValue),p=Xt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return xT(r.timestampValue,e.timestampValue);case 4:return xT(Gu(r),Gu(e));case 5:return sg(r.stringValue,e.stringValue);case 6:return(function(u,c){const m=is(u),p=is(c);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=nt(m[g],p[g]);if(v!==0)return v}return nt(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=nt(Xt(u.latitude),Xt(c.latitude));return m!==0?m:nt(Xt(u.longitude),Xt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return PT(r.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Of]?.arrayValue,v=p[Of]?.arrayValue,T=nt(g?.values?.length||0,v?.values?.length||0);return T!==0?T:PT(g,v)})(r.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Bh.mapValue&&c===Bh.mapValue)return 0;if(u===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const b=sg(p[T],v[T]);if(b!==0)return b;const C=al(m[p[T]],g[v[T]]);if(C!==0)return C}return nt(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function xT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return nt(r,e);const t=rs(r),a=rs(e),o=nt(t.seconds,a.seconds);return o!==0?o:nt(t.nanos,a.nanos)}function PT(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const u=al(t[o],a[o]);if(u)return u}return nt(t.length,a.length)}function sl(r){return og(r)}function og(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const a=rs(t);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return is(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ne.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let a="[",o=!0;for(const u of t.values||[])o?o=!1:a+=",",a+=og(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(t){const a=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of a)u?u=!1:o+=",",o+=`${c}:${og(t.fields[c])}`;return o+"}"})(r.mapValue):Pe(61005,{value:r})}function ef(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(r);return e?16+ef(e):16;case 5:return 2*r.stringValue.length;case 6:return is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+ef(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Xs(a.fields,((u,c)=>{o+=u.length+ef(c)})),o})(r.mapValue);default:throw Pe(13486,{value:r})}}function lg(r){return!!r&&"integerValue"in r}function ey(r){return!!r&&"arrayValue"in r}function VT(r){return!!r&&"nullValue"in r}function LT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function tf(r){return!!r&&"mapValue"in r}function o6(r){return(r?.mapValue?.fields||{})[A1]?.stringValue===R1}function Du(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Xs(r.mapValue.fields,((t,a)=>e.mapValue.fields[t]=Du(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Du(r.arrayValue.values[t]);return e}return{...r}}function l6(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===s6}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Du(t)}setAll(e){let t=Sn.emptyPath(),a={},o=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,o),a={},o=[],t=m.popLast()}c?a[m.lastSegment()]=Du(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(t);this.applyChanges(u,a,o)}delete(e){const t=this.field(e.popLast());tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Xs(t,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new wr(Du(this.value))}}function C1(r){const e=[];return Xs(r.fields,((t,a)=>{const o=new Sn([t]);if(tf(a)){const u=C1(a.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Br(e)}class Cn{constructor(e,t,a,o,u,c,m){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Cn(e,0,Ue.min(),Ue.min(),Ue.min(),wr.empty(),0)}static newFoundDocument(e,t,a,o){return new Cn(e,1,t,Ue.min(),a,o,0)}static newNoDocument(e,t){return new Cn(e,2,t,Ue.min(),Ue.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new Cn(e,3,t,Ue.min(),Ue.min(),wr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nf{constructor(e,t){this.position=e,this.inclusive=t}}function UT(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],c=r.position[o];if(u.field.isKeyField()?a=Ne.comparator(Ne.fromName(c.referenceValue),t.key):a=al(c,t.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function kT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!gi(r.position[t],e.position[t]))return!1;return!0}class Mf{constructor(e,t="asc"){this.field=e,this.dir=t}}function u6(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class I1{}class ln extends I1{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new h6(e,t,a):t==="array-contains"?new m6(e,a):t==="in"?new p6(e,a):t==="not-in"?new g6(e,a):t==="array-contains-any"?new y6(e,a):new ln(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new f6(e,a):new d6(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&as(this.value)===as(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yi extends I1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new yi(e,t)}matches(e){return D1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D1(r){return r.op==="and"}function O1(r){return c6(r)&&D1(r)}function c6(r){for(const e of r.filters)if(e instanceof yi)return!1;return!0}function ug(r){if(r instanceof ln)return r.field.canonicalString()+r.op.toString()+sl(r.value);if(O1(r))return r.filters.map((e=>ug(e))).join(",");{const e=r.filters.map((t=>ug(t))).join(",");return`${r.op}(${e})`}}function N1(r,e){return r instanceof ln?(function(a,o){return o instanceof ln&&a.op===o.op&&a.field.isEqual(o.field)&&gi(a.value,o.value)})(r,e):r instanceof yi?(function(a,o){return o instanceof yi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,c,m)=>u&&N1(c,o.filters[m])),!0):!1})(r,e):void Pe(19439)}function M1(r){return r instanceof ln?(function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`})(r):r instanceof yi?(function(t){return t.op.toString()+" {"+t.getFilters().map(M1).join(" ,")+"}"})(r):"Filter"}class h6 extends ln{constructor(e,t,a){super(e,t,a),this.key=Ne.fromName(a.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class f6 extends ln{constructor(e,t){super(e,"in",t),this.keys=x1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class d6 extends ln{constructor(e,t){super(e,"not-in",t),this.keys=x1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function x1(r,e){return(e.arrayValue?.values||[]).map((t=>Ne.fromName(t.referenceValue)))}class m6 extends ln{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ey(t)&&Yu(t.arrayValue,this.value)}}class p6 extends ln{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yu(this.value.arrayValue,t)}}class g6 extends ln{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yu(this.value.arrayValue,t)}}class y6 extends ln{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ey(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>Yu(this.value.arrayValue,a)))}}class _6{constructor(e,t=null,a=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function zT(r,e=null,t=[],a=[],o=null,u=null,c=null){return new _6(r,e,t,a,o,u,c)}function ty(r){const e=ze(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>ug(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>sl(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>sl(a))).join(",")),e.Te=t}return e.Te}function ny(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!u6(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!N1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!kT(r.startAt,e.startAt)&&kT(r.endAt,e.endAt)}function cg(r){return Ne.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ad{constructor(e,t=null,a=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function v6(r,e,t,a,o,u,c,m){return new ad(r,e,t,a,o,u,c,m)}function ry(r){return new ad(r)}function jT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E6(r){return r.collectionGroup!==null}function Ou(r){const e=ze(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new un(Sn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Mf(u,a))})),t.has(Sn.keyField().canonicalString())||e.Ie.push(new Mf(Sn.keyField(),a))}return e.Ie}function ci(r){const e=ze(r);return e.Ee||(e.Ee=T6(e,Ou(r))),e.Ee}function T6(r,e){if(r.limitType==="F")return zT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mf(o.field,u)}));const t=r.endAt?new Nf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Nf(r.startAt.position,r.startAt.inclusive):null;return zT(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function hg(r,e,t){return new ad(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function sd(r,e){return ny(ci(r),ci(e))&&r.limitType===e.limitType}function P1(r){return`${ty(ci(r))}|lt:${r.limitType}`}function qo(r){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((o=>M1(o))).join(", ")}]`),rd(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((o=>sl(o))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((o=>sl(o))).join(",")),`Target(${a})`})(ci(r))}; limitType=${r.limitType})`}function od(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ne.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Ou(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(c,m,p){const g=UT(c,m,p);return c.inclusive?g<=0:g<0})(a.startAt,Ou(a),o)||a.endAt&&!(function(c,m,p){const g=UT(c,m,p);return c.inclusive?g>=0:g>0})(a.endAt,Ou(a),o))})(r,e)}function S6(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function V1(r){return(e,t)=>{let a=!1;for(const o of Ou(r)){const u=w6(o,e,t);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function w6(r,e,t){const a=r.field.isKeyField()?Ne.comparator(e.key,t.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?al(p,g):Pe(42886)})(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Pe(19790,{direction:r.dir})}}class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,((t,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return v1(this.inner)}size(){return this.innerSize}}const b6=new Vt(Ne.comparator);function na(){return b6}const L1=new Vt(Ne.comparator);function wu(...r){let e=L1;for(const t of r)e=e.insert(t.key,t);return e}function U1(r){let e=L1;return r.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function ks(){return Nu()}function k1(){return Nu()}function Nu(){return new $s((r=>r.toString()),((r,e)=>r.isEqual(e)))}const A6=new Vt(Ne.comparator),R6=new un(Ne.comparator);function rt(...r){let e=R6;for(const t of r)e=e.add(t);return e}const C6=new un(nt);function I6(){return C6}function iy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:If(e)?"-0":e}}function z1(r){return{integerValue:""+r}}function D6(r,e){return t6(e)?z1(e):iy(r,e)}class ld{constructor(){this._=void 0}}function O6(r,e,t){return r instanceof xf?(function(o,u){const c={fields:{[S1]:{stringValue:T1},[b1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zg(u)&&(u=id(u)),u&&(c.fields[w1]=u),{mapValue:c}})(t,e):r instanceof Qu?B1(r,e):r instanceof Xu?H1(r,e):(function(o,u){const c=j1(o,u),m=BT(c)+BT(o.Ae);return lg(c)&&lg(o.Ae)?z1(m):iy(o.serializer,m)})(r,e)}function N6(r,e,t){return r instanceof Qu?B1(r,e):r instanceof Xu?H1(r,e):t}function j1(r,e){return r instanceof Pf?(function(a){return lg(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class xf extends ld{}class Qu extends ld{constructor(e){super(),this.elements=e}}function B1(r,e){const t=F1(e);for(const a of r.elements)t.some((o=>gi(o,a)))||t.push(a);return{arrayValue:{values:t}}}class Xu extends ld{constructor(e){super(),this.elements=e}}function H1(r,e){let t=F1(e);for(const a of r.elements)t=t.filter((o=>!gi(o,a)));return{arrayValue:{values:t}}}class Pf extends ld{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function BT(r){return Xt(r.integerValue||r.doubleValue)}function F1(r){return ey(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function M6(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Qu&&o instanceof Qu||a instanceof Xu&&o instanceof Xu?il(a.elements,o.elements,gi):a instanceof Pf&&o instanceof Pf?gi(a.Ae,o.Ae):a instanceof xf&&o instanceof xf})(r.transform,e.transform)}class x6{constructor(e,t){this.version=e,this.transformResults=t}}class Wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ud{}function q1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new K1(r.key,Wi.none()):new uc(r.key,r.data,Wi.none());{const t=r.data,a=wr.empty();let o=new un(Sn.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?a.delete(u):a.set(u,c),o=o.add(u)}return new Ws(r.key,a,new Br(o.toArray()),Wi.none())}}function P6(r,e,t){r instanceof uc?(function(o,u,c){const m=o.value.clone(),p=FT(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):r instanceof Ws?(function(o,u,c){if(!nf(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=FT(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(G1(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,t):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Mu(r,e,t,a){return r instanceof uc?(function(u,c,m,p){if(!nf(u.precondition,c))return m;const g=u.value.clone(),v=qT(u.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,a):r instanceof Ws?(function(u,c,m,p){if(!nf(u.precondition,c))return m;const g=qT(u.fieldTransforms,p,c),v=c.data;return v.setAll(G1(u)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,t,a):(function(u,c,m){return nf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(r,e,t)}function V6(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=j1(a.transform,o||null);u!=null&&(t===null&&(t=wr.empty()),t.set(a.field,u))}return t||null}function HT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&il(a,o,((u,c)=>M6(u,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uc extends ud{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ws extends ud{constructor(e,t,a,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function G1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}})),e}function FT(r,e,t){const a=new Map;ft(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const u=r[o],c=u.transform,m=e.data.field(u.field);a.set(u.field,N6(c,m,t[o]))}return a}function qT(r,e,t){const a=new Map;for(const o of r){const u=o.transform,c=t.data.field(o.field);a.set(o.field,O6(u,c,e))}return a}class K1 extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L6 extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U6{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&P6(u,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Mu(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Mu(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=k1();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(o.key)?null:m;const p=q1(c,m);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ue.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),rt())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,((t,a)=>HT(t,a)))&&il(this.baseMutations,e.baseMutations,((t,a)=>HT(t,a)))}}class ay{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){ft(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return A6})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,a[c].version);return new ay(e,t,a,o)}}class k6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class z6{constructor(e,t){this.count=e,this.unchangedNames=t}}var nn,at;function j6(r){switch(r){case ue.OK:return Pe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Pe(15467,{code:r})}}function Y1(r){if(r===void 0)return ta("GRPC error has no .code"),ue.UNKNOWN;switch(r){case nn.OK:return ue.OK;case nn.CANCELLED:return ue.CANCELLED;case nn.UNKNOWN:return ue.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ue.INTERNAL;case nn.UNAVAILABLE:return ue.UNAVAILABLE;case nn.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case nn.NOT_FOUND:return ue.NOT_FOUND;case nn.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case nn.ABORTED:return ue.ABORTED;case nn.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case nn.DATA_LOSS:return ue.DATA_LOSS;default:return Pe(39323,{code:r})}}(at=nn||(nn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";function B6(){return new TextEncoder}const H6=new Za([4294967295,4294967295],0);function GT(r){const e=B6().encode(r),t=new u1;return t.update(e),new Uint8Array(t.digest())}function KT(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Za([t,a],0),new Za([o,u],0)]}class sy{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new bu(`Invalid padding: ${t}`);if(a<0)throw new bu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new bu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Za.fromNumber(this.ge)}ye(e,t,a){let o=e.add(t.multiply(Za.fromNumber(a)));return o.compare(H6)===1&&(o=new Za([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=GT(e),[a,o]=KT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);if(!this.we(c))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new sy(u,o,t);return a.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=GT(e),[a,o]=KT(t);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);this.Se(c)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cd{constructor(e,t,a,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new cd(Ue.min(),o,new Vt(nt),na(),rt())}}class cc{constructor(e,t,a,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new cc(a,t,rt(),rt(),rt())}}class rf{constructor(e,t,a,o){this.be=e,this.removedTargetIds=t,this.key=a,this.De=o}}class Q1{constructor(e,t){this.targetId=e,this.Ce=t}}class X1{constructor(e,t,a=wn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class YT{constructor(){this.ve=0,this.Fe=QT(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rt(),t=rt(),a=rt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Pe(38017,{changeType:u})}})),new cc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=QT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class F6{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=Hh(),this.He=Hh(),this.Ye=new Vt(nt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,a=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(cg(u))if(a===0){const c=new Ne(u.path);this.et(t,c,Cn.newNoDocument(c,Ue.min()))}else ft(a===1,20013,{expectedCount:a});else{const c=this._t(t);if(c!==a){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=t;let c,m;try{c=is(a).toUint8Array()}catch(p){if(p instanceof E1)return rl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sy(c,o,u)}catch(p){return rl(p instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let o=0;return a.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&cg(m.target)){const p=new Ne(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Cn.newNoDocument(p,e))}u.Be&&(t.set(c,u.ke()),u.qe())}}));let a=rt();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new cd(e,t,this.Ye,this.je,a);return this.je=na(),this.Je=Hh(),this.He=Hh(),this.Ye=new Vt(nt),o}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new YT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new un(nt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new un(nt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Hh(){return new Vt(Ne.comparator)}function QT(){return new Vt(Ne.comparator)}const q6={asc:"ASCENDING",desc:"DESCENDING"},G6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K6={and:"AND",or:"OR"};class Y6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fg(r,e){return r.useProto3Json||rd(e)?e:{value:e}}function Vf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Q6(r,e){return Vf(r,e.toTimestamp())}function hi(r){return ft(!!r,49232),Ue.fromTimestamp((function(t){const a=rs(t);return new Ct(a.seconds,a.nanos)})(r))}function oy(r,e){return dg(r,e).canonicalString()}function dg(r,e){const t=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function W1(r){const e=xt.fromString(r);return ft(nb(e),10190,{key:e.toString()}),e}function mg(r,e){return oy(r.databaseId,e.path)}function Mp(r,e){const t=W1(e);if(t.get(1)!==r.databaseId.projectId)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ce(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ne(Z1(t))}function J1(r,e){return oy(r.databaseId,e)}function X6(r){const e=W1(r);return e.length===4?xt.emptyPath():Z1(e)}function pg(r){return new xt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Z1(r){return ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function XT(r,e,t){return{name:mg(r,e),fields:t.value.mapValue.fields}}function $6(r,e){let t;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Pe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,v){return g.useProto3Json?(ft(v===void 0||typeof v=="string",58123),wn.fromBase64String(v||"")):(ft(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),wn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const v=g.code===void 0?ue.UNKNOWN:Y1(g.code);return new Ce(v,g.message||"")})(c);t=new X1(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Mp(r,a.document.name),u=hi(a.document.updateTime),c=a.document.createTime?hi(a.document.createTime):Ue.min(),m=new wr({mapValue:{fields:a.document.fields}}),p=Cn.newFoundDocument(o,u,c,m),g=a.targetIds||[],v=a.removedTargetIds||[];t=new rf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Mp(r,a.document),u=a.readTime?hi(a.readTime):Ue.min(),c=Cn.newNoDocument(o,u),m=a.removedTargetIds||[];t=new rf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Mp(r,a.document),u=a.removedTargetIds||[];t=new rf([],u,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,c=new z6(o,u),m=a.targetId;t=new Q1(m,c)}}return t}function W6(r,e){let t;if(e instanceof uc)t={update:XT(r,e.key,e.value)};else if(e instanceof K1)t={delete:mg(r,e.key)};else if(e instanceof Ws)t={update:XT(r,e.key,e.data),updateMask:s3(e.fieldMask)};else{if(!(e instanceof L6))return Pe(16599,{Vt:e.type});t={verify:mg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(u,c){const m=c.transform;if(m instanceof xf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Qu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Pf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Pe(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Q6(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Pe(27497)})(r,e.precondition)),t}function J6(r,e){return r&&r.length>0?(ft(e!==void 0,14353),r.map((t=>(function(o,u){let c=o.updateTime?hi(o.updateTime):hi(u);return c.isEqual(Ue.min())&&(c=hi(u)),new x6(c,o.transformResults||[])})(t,e)))):[]}function Z6(r,e){return{documents:[J1(r,e.path)]}}function e3(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=J1(r,o);const u=(function(g){if(g.length!==0)return tb(yi.create(g,"and"))})(e.filters);u&&(t.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((v=>(function(b){return{field:Go(b.field),direction:r3(b.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=fg(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function t3(r){let e=X6(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){ft(a===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=(function(T){const b=eb(T);return b instanceof yi&&O1(b)?b.getFilters():[b]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((b=>(function(L){return new Mf(Ko(L.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(b)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,rd(b)?null:b})(t.limit));let p=null;t.startAt&&(p=(function(T){const b=!!T.before,C=T.values||[];return new Nf(C,b)})(t.startAt));let g=null;return t.endAt&&(g=(function(T){const b=!T.before,C=T.values||[];return new Nf(C,b)})(t.endAt)),v6(e,o,c,u,m,"F",p,g)}function n3(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eb(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Ko(t.unaryFilter.field);return ln.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ko(t.unaryFilter.field);return ln.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ko(t.unaryFilter.field);return ln.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(t.unaryFilter.field);return ln.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(r):r.fieldFilter!==void 0?(function(t){return ln.create(Ko(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return yi.create(t.compositeFilter.filters.map((a=>eb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(t.compositeFilter.op))})(r):Pe(30097,{filter:r})}function r3(r){return q6[r]}function i3(r){return G6[r]}function a3(r){return K6[r]}function Go(r){return{fieldPath:r.canonicalString()}}function Ko(r){return Sn.fromServerFormat(r.fieldPath)}function tb(r){return r instanceof ln?(function(t){if(t.op==="=="){if(LT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NAN"}};if(VT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(LT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NAN"}};if(VT(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(t.field),op:i3(t.op),value:t.value}}})(r):r instanceof yi?(function(t){const a=t.getFilters().map((o=>tb(o)));return a.length===1?a[0]:{compositeFilter:{op:a3(t.op),filters:a}}})(r):Pe(54877,{filter:r})}function s3(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Xa{constructor(e,t,a,o,u=Ue.min(),c=Ue.min(),m=wn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class o3{constructor(e){this.yt=e}}function l3(r){const e=t3({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hg(e,e.limit,"L"):e}class u3{constructor(){this.Cn=new c3}addToCollectionParentIndex(e,t){return this.Cn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ns.min())}updateCollectionGroup(e,t,a){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class c3{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new un(xt.comparator),u=!o.has(a);return this.index[t]=o.add(a),u}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new un(xt.comparator)).toArray()}}const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class Gn{static withCacheSize(e){return new Gn(e,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(rb,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);class ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ol(0)}static cr(){return new ol(-1)}}const WT="LruGarbageCollector",h3=1048576;function JT([r,e],[t,a]){const o=nt(r,t);return o===0?nt(e,a):o}class f3{constructor(e){this.Ir=e,this.buffer=new un(JT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();JT(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class d3{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(WT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){pl(t)?Ee(WT,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Vr(3e5)}))}}class m3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(nd.ce);const a=new f3(t);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve($T)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,o,u,c,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,t)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),Fo()<=tt.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function p3(r,e){return new m3(r,e)}class g3{constructor(){this.changes=new $s((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?ae.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _3{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(a!==null&&Mu(a.mutation,o,Br.empty(),Ct.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,rt()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=rt()){const o=ks();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,a).next((u=>{let c=wu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const a=ks();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,rt())))}populateOverlays(e,t,a){const o=[];return a.forEach((u=>{t.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,a,o){let u=na();const c=Nu(),m=(function(){return Nu()})();return t.forEach(((p,g)=>{const v=a.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ws)?u=u.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Mu(v.mutation,g,v.mutation.getFieldMask(),Ct.now())):c.set(g.key,Br.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>m.set(g,new y3(v,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,t){const a=Nu();let o=new Vt(((c,m)=>c-m)),u=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=a.get(p)||Br.empty();v=m.applyToLocalView(g,v),a.set(p,v);const T=(o.get(m.batchId)||rt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=k1();v.forEach((b=>{if(!u.has(b)){const C=q1(t.get(b),a.get(b));C!==null&&T.set(b,C),u=u.add(b)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,o){return(function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):E6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-u.size):ae.resolve(ks());let m=qu,p=u;return c.next((g=>ae.forEach(g,((v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next((b=>{p=p.insert(v,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,rt()))).next((v=>({batchId:m,changes:U1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next((a=>{let o=wu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const u=t.collectionGroup;let c=wu();return this.indexManager.getCollectionParents(e,u).next((m=>ae.forEach(m,(p=>{const g=(function(T,b){return new ad(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((v=>{v.forEach(((T,b)=>{c=c.insert(T,b)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,u,o)))).next((c=>{u.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,Cn.newInvalidDocument(v)))}));let m=wu();return c.forEach(((p,g)=>{const v=u.get(p);v!==void 0&&Mu(v.mutation,g,Br.empty(),Ct.now()),od(t,g)&&(m=m.insert(p,g))})),m}))}}class v3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}})(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:l3(o.bundledQuery),readTime:hi(o.readTime)}})(t)),ae.resolve()}}class E3{constructor(){this.overlays=new Vt(Ne.comparator),this.qr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const a=ks();return ae.forEach(t,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((o,u)=>{this.St(e,t,u)})),ae.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ae.resolve()}getOverlaysForCollection(e,t,a){const o=ks(),u=t.length+1,c=new Ne(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let u=new Vt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let v=u.get(g.largestBatchId);v===null&&(v=ks(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>m.set(g,v))),!(m.size()>=o)););return ae.resolve(m)}St(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new k6(t,a));let u=this.qr.get(t);u===void 0&&(u=rt(),this.qr.set(t,u)),this.qr.set(t,u.add(a.key))}}class T3{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}class ly{constructor(){this.Qr=new un(dn.$r),this.Ur=new un(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new dn(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Gr(new dn(e,t))}zr(e,t){e.forEach((a=>this.removeReference(a,t)))}jr(e){const t=new Ne(new xt([])),a=new dn(t,e),o=new dn(t,e+1),u=[];return this.Ur.forEachInRange([a,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ne(new xt([])),a=new dn(t,e),o=new dn(t,e+1);let u=rt();return this.Ur.forEachInRange([a,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const t=new dn(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ne.comparator(e.key,t.key)||nt(e.Yr,t.Yr)}static Kr(e,t){return nt(e.Yr,t.Yr)||Ne.comparator(e.key,t.key)}}class S3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new un(dn.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new U6(u,t,a,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new dn(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.ei(a),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Jg:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new dn(t,0),o=new dn(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new un(nt);return t.forEach((o=>{const u=new dn(o,0),c=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{a=a.add(m.Yr)}))})),ae.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let u=a;Ne.isDocumentKey(u)||(u=u.child(""));const c=new dn(new Ne(u),0);let m=new un(nt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ae.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ft(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ae.forEach(t.mutations,(o=>{const u=new dn(o.key,t.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,t){const a=new dn(t,0),o=this.Zr.firstAfterOrEqual(a);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class w3{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),u=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return ae.resolve(a?a.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let a=na();return t.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Cn.newInvalidDocument(o))})),ae.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let u=na();const c=t.path,m=new Ne(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||WM($M(v),a)<=0||(o.has(v.key)||od(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,t,a,o){Pe(9500)}ii(e,t){return ae.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new b3(this)}getSize(e){return ae.resolve(this.size)}}class b3 extends g3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ae.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class A3{constructor(e){this.persistence=e,this.si=new $s((t=>ty(t)),ny),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new ly,this.targetCount=0,this.ai=ol.ur()}forEachTarget(e,t){return this.si.forEach(((a,o)=>t(o))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),ae.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Pr(t),ae.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,a){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ae.waitFor(u).next((()=>o))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return ae.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),ae.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return ae.resolve(a)}containsKey(e,t){return ae.resolve(this._i.containsKey(t))}}class ib{constructor(e,t){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new T3,this.referenceDelegate=e(this),this.Pi=new A3(this),this.indexManager=new u3,this.remoteDocumentCache=(function(o){return new w3(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new o3(t),this.Ii=new v3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new E3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new S3(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){Ee("MemoryPersistence","Starting transaction:",e);const o=new R3(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,t){return ae.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,t))))}}class R3 extends ZM{constructor(e){super(),this.currentSequenceNumber=e}}class uy{constructor(e){this.persistence=e,this.Ri=new ly,this.Vi=null}static mi(e){return new uy(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),ae.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(a=>{const o=Ne.fromPath(a);return this.gi(e,o).next((u=>{u||t.removeEntry(o,Ue.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ae.or([()=>ae.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Lf{constructor(e,t){this.persistence=e,this.pi=new $s((a=>n6(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=p3(this,t)}static mi(e,t){return new Lf(e,t)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((o=>a+o))))}wr(e){let t=0;return this.pr(e,(a=>{t++})).next((()=>t))}pr(e,t){return ae.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ae.resolve():t(o)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((m=>{m||(a++,u.removeEntry(c,Ue.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ae.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ef(e.data.value)),t}br(e,t,a){return ae.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ae.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class cy{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=o}static As(e,t){let a=rt(),o=rt();for(const u of t.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cy(e,t.fromCache,a,o)}}class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class I3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rO()?8:e6(In())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,o){const u={result:null};return this.ys(e,t).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,t,o,a).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new C3;return this.Ss(e,t,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,t,c,m.size)}))})).next((()=>u.result))}bs(e,t,a,o){return a.documentReadCount<this.fs?(Fo()<=tt.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(Fo()<=tt.DEBUG&&Ee("QueryEngine","Query:",qo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Fo()<=tt.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(t))):ae.resolve())}ys(e,t){if(jT(t))return ae.resolve(null);let a=ci(t);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=hg(t,null,"F"),a=ci(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const c=rt(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(t,m);return this.Cs(t,g,c,p.readTime)?this.ys(e,hg(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,a,o){return jT(t)||o.isEqual(Ue.min())?ae.resolve(null):this.ps.getDocuments(e,a).next((u=>{const c=this.Ds(t,u);return this.Cs(t,c,a,o)?ae.resolve(null):(Fo()<=tt.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qo(t)),this.vs(e,c,t,XM(o,qu)).next((m=>m)))}))}Ds(e,t){let a=new un(V1(e));return t.forEach(((o,u)=>{od(e,u)&&(a=a.add(u))})),a}Cs(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,a){return Fo()<=tt.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",qo(t)),this.ps.getDocumentsMatchingQuery(e,t,ns.min(),a)}vs(e,t,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(t.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const hy="LocalStore",D3=3e8;class O3{constructor(e,t,a,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new Vt(nt),this.xs=new $s((u=>ty(u)),ny),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function N3(r,e,t,a){return new O3(r,e,t,a)}async function ab(r,e){const t=ze(r);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(a)))).next((u=>{const c=[],m=[];let p=rt();for(const g of o){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function M3(r,e){const t=ze(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,v){const T=g.batch,b=T.keys();let C=ae.resolve();return b.forEach((L=>{C=C.next((()=>v.getEntry(p,L))).next((H=>{const V=g.docVersions.get(L);ft(V!==null,48541),H.version.compareTo(V)<0&&(T.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),v.addEntry(H)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(t,a,e,u).next((()=>u.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=rt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,o)))}))}function sb(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function x3(r,e){const t=ze(r),a=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach(((v,T)=>{const b=o.get(T);if(!b)return;m.push(t.Pi.removeMatchingKeys(u,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(u,v.addedDocuments,T))));let C=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(wn.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,a)),o=o.insert(T,C),(function(H,V,W){return H.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=D3?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(b,C,v)&&m.push(t.Pi.updateTargetData(u,C))}));let p=na(),g=rt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))})),m.push(P3(u,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!a.isEqual(Ue.min())){const v=t.Pi.getLastRemoteSnapshotVersion(u).next((T=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(v)}return ae.waitFor(m).next((()=>c.apply(u))).next((()=>t.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(t.Ms=o,u)))}function P3(r,e,t){let a=rt(),o=rt();return t.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let c=na();return t.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):Ee(hy,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function V3(r,e){const t=ze(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Jg),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function L3(r,e){const t=ze(r);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return t.Pi.getTargetData(a,e).next((u=>u?(o=u,ae.resolve(o)):t.Pi.allocateTargetId(a).next((c=>(o=new Xa(e,c,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=t.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a}))}async function gg(r,e,t){const a=ze(r),o=a.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",u,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!pl(c))throw c;Ee(hy,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function ZT(r,e,t){const a=ze(r);let o=Ue.min(),u=rt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const T=ze(p),b=T.xs.get(v);return b!==void 0?ae.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,v)})(a,c,ci(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,t?o:Ue.min(),t?u:rt()))).next((m=>(U3(a,S6(e),m),{documents:m,Qs:u})))))}function U3(r,e,t){let a=r.Os.get(e)||Ue.min();t.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class eS{constructor(){this.activeTargetIds=I6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class k3{constructor(){this.Mo=new eS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eS,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class z3{Oo(e){}shutdown(){}}const tS="ConnectivityMonitor";class nS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(tS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(tS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fh=null;function yg(){return Fh===null?Fh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fh++,"0x"+Fh.toString(16)}const xp="RestConnection",j3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class B3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Df?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,t,a,o,u){const c=yg(),m=this.zo(e,t.toUriEncodedString());Ee(xp,`Sending RPC '${e}' ${c}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),v=cl(g);return this.Jo(e,m,p,a,v).then((T=>(Ee(xp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw rl(xp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(e,t,a,o,u,c){return this.Go(e,t,a,o,u)}jo(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,t){const a=j3[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}class H3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const An="WebChannelConnection";class F3 extends B3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,o,u){const c=yg();return new Promise(((m,p)=>{const g=new c1;g.setWithCredentials(!0),g.listenOnce(h1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Zh.NO_ERROR:const T=g.getResponseJson();Ee(An,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Zh.TIMEOUT:Ee(An,`RPC '${e}' ${c} timed out`),p(new Ce(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const b=g.getStatus();if(Ee(An,`RPC '${e}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const H=(function(W){const Z=W.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(Z)>=0?Z:ue.UNKNOWN})(L.status);p(new Ce(H,L.message))}else p(new Ce(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ce(ue.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Ee(An,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(o);Ee(An,`RPC '${e}' ${c} sending request:`,o),g.send(t,"POST",v,a,15)}))}T_(e,t,a){const o=yg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=m1(),m=d1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const v=u.join("");Ee(An,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=c.createWebChannel(v,p);this.I_(T);let b=!1,C=!1;const L=new H3({Yo:V=>{C?Ee(An,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(b||(Ee(An,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),Ee(An,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Zo:()=>T.close()}),H=(V,W,Z)=>{V.listen(W,(X=>{try{Z(X)}catch(de){setTimeout((()=>{throw de}),0)}}))};return H(T,Su.EventType.OPEN,(()=>{C||(Ee(An,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),H(T,Su.EventType.CLOSE,(()=>{C||(C=!0,Ee(An,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(T))})),H(T,Su.EventType.ERROR,(V=>{C||(C=!0,rl(An,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),L.a_(new Ce(ue.UNAVAILABLE,"The operation could not be completed")))})),H(T,Su.EventType.MESSAGE,(V=>{if(!C){const W=V.data[0];ft(!!W,16349);const Z=W,X=Z?.error||Z[0]?.error;if(X){Ee(An,`RPC '${e}' stream ${o} received error:`,X);const de=X.status;let se=(function(R){const I=nn[R];if(I!==void 0)return Y1(I)})(de),pe=X.message;se===void 0&&(se=ue.INTERNAL,pe="Unknown error status: "+de+" with message "+X.message),C=!0,L.a_(new Ce(se,pe)),T.close()}else Ee(An,`RPC '${e}' stream ${o} received:`,W),L.u_(W)}})),H(m,f1.STAT_EVENT,(V=>{V.stat===ag.PROXY?Ee(An,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===ag.NOPROXY&&Ee(An,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Pp(){return typeof document<"u"?document:null}function hd(r){return new Y6(r,!0)}class ob{constructor(e,t,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-a);o>0&&Ee("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rS="PersistentStream";class lb{constructor(e,t,a,o,u,c,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ob(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ta(t.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===t&&this.G_(a,o)}),(a=>{e((()=>{const o=new Ce(ue.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee(rS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ee(rS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q3 extends lb{constructor(e,t,a,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,c),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=$6(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ue.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ue.min():c.readTime?hi(c.readTime):Ue.min()})(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=pg(this.serializer),t.addTarget=(function(u,c){let m;const p=c.target;if(m=cg(p)?{documents:Z6(u,p)}:{query:e3(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=$1(u,c.resumeToken);const g=fg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ue.min())>0){m.readTime=Vf(u,c.snapshotVersion.toTimestamp());const g=fg(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=n3(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=pg(this.serializer),t.removeTarget=e,this.q_(t)}}class G3 extends lb{constructor(e,t,a,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=J6(e.writeResults,e.commitTime),a=hi(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=pg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>W6(this.serializer,a)))};this.q_(t)}}class K3{}class Y3 extends K3{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,dg(t,a),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(ue.UNKNOWN,u.toString())}))}Ho(e,t,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,dg(t,a),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(ue.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(t),this.aa=!1):Ee("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class X3{constructor(e,t,a,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Js(this)&&(Ee(Gs,"Restarting streams for network reachability change."),await(async function(p){const g=ze(p);g.Ea.add(4),await hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await fd(g)})(this))}))})),this.Ra=new Q3(a,o)}}async function fd(r){if(Js(r))for(const e of r.da)await e(!0)}async function hc(r){for(const e of r.da)await e(!1)}function ub(r,e){const t=ze(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),py(t)?my(t):gl(t).O_()&&dy(t,e))}function fy(r,e){const t=ze(r),a=gl(t);t.Ia.delete(e),a.O_()&&cb(t,e),t.Ia.size===0&&(a.O_()?a.L_():Js(t)&&t.Ra.set("Unknown"))}function dy(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}gl(r).Y_(e)}function cb(r,e){r.Va.Ue(e),gl(r).Z_(e)}function my(r){r.Va=new F6({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.Ra.ua()}function py(r){return Js(r)&&!gl(r).x_()&&r.Ia.size>0}function Js(r){return ze(r).Ea.size===0}function hb(r){r.Va=void 0}async function $3(r){r.Ra.set("Online")}async function W3(r){r.Ia.forEach(((e,t)=>{dy(r,e)}))}async function J3(r,e){hb(r),py(r)?(r.Ra.ha(e),my(r)):r.Ra.set("Unknown")}async function Z3(r,e,t){if(r.Ra.set("Online"),e instanceof X1&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){Ee(Gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Uf(r,a)}else if(e instanceof rf?r.Va.Ze(e):e instanceof Q1?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ue.min()))try{const a=await sb(r.localStore);t.compareTo(a)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ia.get(g);v&&u.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const v=u.Ia.get(p);if(!v)return;u.Ia.set(p,v.withResumeToken(wn.EMPTY_BYTE_STRING,v.snapshotVersion)),cb(u,p);const T=new Xa(v.target,p,g,v.sequenceNumber);dy(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(a){Ee(Gs,"Failed to raise snapshot:",a),await Uf(r,a)}}async function Uf(r,e,t){if(!pl(e))throw e;r.Ea.add(1),await hc(r),r.Ra.set("Offline"),t||(t=()=>sb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ee(Gs,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await fd(r)}))}function fb(r,e){return e().catch((t=>Uf(r,t,e)))}async function dd(r){const e=ze(r),t=ss(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jg;for(;ex(e);)try{const o=await V3(e.localStore,a);if(o===null){e.Ta.length===0&&t.L_();break}a=o.batchId,tx(e,o)}catch(o){await Uf(e,o)}db(e)&&mb(e)}function ex(r){return Js(r)&&r.Ta.length<10}function tx(r,e){r.Ta.push(e);const t=ss(r);t.O_()&&t.X_&&t.ea(e.mutations)}function db(r){return Js(r)&&!ss(r).x_()&&r.Ta.length>0}function mb(r){ss(r).start()}async function nx(r){ss(r).ra()}async function rx(r){const e=ss(r);for(const t of r.Ta)e.ea(t.mutations)}async function ix(r,e,t){const a=r.Ta.shift(),o=ay.from(a,e,t);await fb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await dd(r)}async function ax(r,e){e&&ss(r).X_&&await(async function(a,o){if((function(c){return j6(c)&&c!==ue.ABORTED})(o.code)){const u=a.Ta.shift();ss(a).B_(),await fb(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await dd(a)}})(r,e),db(r)&&mb(r)}async function iS(r,e){const t=ze(r);t.asyncQueue.verifyOperationInProgress(),Ee(Gs,"RemoteStore received new credentials");const a=Js(t);t.Ea.add(3),await hc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await fd(t)}async function sx(r,e){const t=ze(r);e?(t.Ea.delete(2),await fd(t)):e||(t.Ea.add(2),await hc(t),t.Ra.set("Unknown"))}function gl(r){return r.ma||(r.ma=(function(t,a,o){const u=ze(t);return u.sa(),new q3(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:$3.bind(null,r),t_:W3.bind(null,r),r_:J3.bind(null,r),H_:Z3.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),py(r)?my(r):r.Ra.set("Unknown")):(await r.ma.stop(),hb(r))}))),r.ma}function ss(r){return r.fa||(r.fa=(function(t,a,o){const u=ze(t);return u.sa(),new G3(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:nx.bind(null,r),r_:ax.bind(null,r),ta:rx.bind(null,r),na:ix.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await dd(r)):(await r.fa.stop(),r.Ta.length>0&&(Ee(Gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class gy{constructor(e,t,a,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,u){const c=Date.now()+a,m=new gy(e,t,c,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(r,e){if(ta("AsyncQueue",`${e}: ${r}`),pl(r))return new Ce(ue.UNAVAILABLE,`${e}: ${r}`);throw r}class Zo{static emptySet(e){return new Zo(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Ne.comparator(t.key,a.key):(t,a)=>Ne.comparator(t.key,a.key),this.keyedMap=wu(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Zo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class aS{constructor(){this.ga=new Vt(Ne.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class ll{constructor(e,t,a,o,u,c,m,p,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,u){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new ll(e,t,Zo.emptySet(t),c,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}class ox{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class lx{constructor(){this.queries=sS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const o=ze(t),u=o.queries;o.queries=sS(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new Ce(ue.ABORTED,"Firestore shutting down"))}}function sS(){return new $s((r=>P1(r)),sd)}async function ux(r,e){const t=ze(r);let a=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new ox,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const m=yy(c,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&_y(t)}async function cx(r,e){const t=ze(r),a=e.query;let o=3;const u=t.queries.get(a);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function hx(r,e){const t=ze(r);let a=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(a=!0);c.wa=o}}a&&_y(t)}function fx(r,e,t){const a=ze(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);a.queries.delete(e)}function _y(r){r.Ca.forEach((e=>{e.next()}))}var _g,oS;(oS=_g||(_g={})).Ma="default",oS.Cache="cache";class dx{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ll(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_g.Cache}}class pb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class mx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=rt(),this.mutatedKeys=rt(),this.eu=V1(e),this.tu=new Zo(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new aS,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,T)=>{const b=o.get(v),C=od(this.query,T)?T:null,L=!!b&&this.mutatedKeys.has(b.key),H=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;b&&C?b.data.isEqual(C.data)?L!==H&&(a.track({type:3,doc:C}),V=!0):this.su(b,C)||(a.track({type:2,doc:C}),V=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!b&&C?(a.track({type:0,doc:C}),V=!0):b&&!C&&(a.track({type:1,doc:b}),V=!0,(p||g)&&(m=!0)),V&&(C?(c=c.add(C),u=H?u.add(v):u.delete(v)):(c=c.delete(v),u=u.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),u=u.delete(v.key),a.track({type:1,doc:v})}return{tu:c,iu:a,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(C,L){const H=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:V})}};return H(C)-H(L)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(a),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new ll(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=rt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const t=[];return e.forEach((a=>{this.Xa.has(a)||t.push(new gb(a))})),this.Xa.forEach((a=>{e.has(a)||t.push(new pb(a))})),t}cu(e){this.Ya=e.Qs,this.Xa=rt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vy="SyncEngine";class px{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class gx{constructor(e){this.key=e,this.hu=!1}}class yx{constructor(e,t,a,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new $s((m=>P1(m)),sd),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Ne.comparator),this.Au=new Map,this.Ru=new ly,this.Vu={},this.mu=new Map,this.fu=ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _x(r,e,t=!0){const a=Sb(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await yb(a,e,t,!0),o}async function vx(r,e){const t=Sb(r);await yb(t,e,!0,!1)}async function yb(r,e,t,a){const o=await L3(r.localStore,ci(e)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,t);let m;return a&&(m=await Ex(r,e,u,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&ub(r.remoteStore,o),m}async function Ex(r,e,t,a,o){r.pu=(T,b,C)=>(async function(H,V,W,Z){let X=V.view.ru(W);X.Cs&&(X=await ZT(H.localStore,V.query,!1).then((({documents:S})=>V.view.ru(S,X))));const de=Z&&Z.targetChanges.get(V.targetId),se=Z&&Z.targetMismatches.get(V.targetId)!=null,pe=V.view.applyChanges(X,H.isPrimaryClient,de,se);return uS(H,V.targetId,pe.au),pe.snapshot})(r,T,b,C);const u=await ZT(r.localStore,e,!0),c=new mx(e,u.Qs),m=c.ru(u.documents),p=cc.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=c.applyChanges(m,r.isPrimaryClient,p);uS(r,t,g.au);const v=new px(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function Tx(r,e,t){const a=ze(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((c=>!sd(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await gg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),t&&fy(a.remoteStore,o.targetId),vg(a,o.targetId)})).catch(ml)):(vg(a,o.targetId),await gg(a.localStore,o.targetId,!0))}async function Sx(r,e){const t=ze(r),a=t.Tu.get(e),o=t.Iu.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),fy(t.remoteStore,a.targetId))}async function wx(r,e,t){const a=Ox(r);try{const o=await(function(c,m){const p=ze(c),g=Ct.now(),v=m.reduce(((C,L)=>C.add(L.key)),rt());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=na(),H=rt();return p.Ns.getEntries(C,v).next((V=>{L=V,L.forEach(((W,Z)=>{Z.isValidDocument()||(H=H.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,L))).next((V=>{T=V;const W=[];for(const Z of m){const X=V6(Z,T.get(Z.key).overlayedDocument);X!=null&&W.push(new Ws(Z.key,X,C1(X.value.mapValue),Wi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,W,m)})).next((V=>{b=V;const W=V.applyToLocalDocumentSet(T,H);return p.documentOverlayCache.saveOverlays(C,V.batchId,W)}))})).then((()=>({batchId:b.batchId,changes:U1(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new Vt(nt)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(a,o.batchId,t),await fc(a,o.changes),await dd(a.remoteStore)}catch(o){const u=yy(o,"Failed to persist write");t.reject(u)}}async function _b(r,e){const t=ze(r);try{const a=await x3(t.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=t.Au.get(u);c&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ft(c.hu,14607):o.removedDocuments.size>0&&(ft(c.hu,42227),c.hu=!1))})),await fc(t,a,e)}catch(a){await ml(a)}}function lS(r,e,t){const a=ze(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=ze(c);p.onlineState=m;let g=!1;p.queries.forEach(((v,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&_y(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function bx(r,e,t){const a=ze(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Au.get(e),u=o&&o.key;if(u){let c=new Vt(Ne.comparator);c=c.insert(u,Cn.newNoDocument(u,Ue.min()));const m=rt().add(u),p=new cd(Ue.min(),new Map,new Vt(nt),c,m);await _b(a,p),a.du=a.du.remove(u),a.Au.delete(e),Ey(a)}else await gg(a.localStore,e,!1).then((()=>vg(a,e,t))).catch(ml)}async function Ax(r,e){const t=ze(r),a=e.batch.batchId;try{const o=await M3(t.localStore,e);Eb(t,a,null),vb(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await fc(t,o)}catch(o){await ml(o)}}async function Rx(r,e,t){const a=ze(r);try{const o=await(function(c,m){const p=ze(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(ft(T!==null,37113),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(a.localStore,e);Eb(a,e,t),vb(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await fc(a,o)}catch(o){await ml(o)}}function vb(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function Eb(r,e,t){const a=ze(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function vg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),t&&r.Pu.yu(a,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||Tb(r,a)}))}function Tb(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(fy(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Ey(r))}function uS(r,e,t){for(const a of t)a instanceof pb?(r.Ru.addReference(a.key,e),Cx(r,a)):a instanceof gb?(Ee(vy,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Tb(r,a.key)):Pe(19791,{wu:a})}function Cx(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Eu.has(a)||(Ee(vy,"New document in limbo: "+t),r.Eu.add(a),Ey(r))}function Ey(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Ne(xt.fromString(e)),a=r.fu.next();r.Au.set(a,new gx(t)),r.du=r.du.insert(t,a),ub(r.remoteStore,new Xa(ci(ry(t.path)),a,"TargetPurposeLimboResolution",nd.ce))}}async function fc(r,e,t){const a=ze(r),o=[],u=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{c.push(a.pu(p,e,t).then((g=>{if((g||t)&&a.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){o.push(g);const v=cy.As(p.targetId,g);u.push(v)}})))})),await Promise.all(c),a.Pu.H_(o),await(async function(p,g){const v=ze(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ae.forEach(g,(b=>ae.forEach(b.Es,(C=>v.persistence.referenceDelegate.addReference(T,b.targetId,C))).next((()=>ae.forEach(b.ds,(C=>v.persistence.referenceDelegate.removeReference(T,b.targetId,C)))))))))}catch(T){if(!pl(T))throw T;Ee(hy,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const C=v.Ms.get(b),L=C.snapshotVersion,H=C.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(b,H)}}})(a.localStore,u))}async function Ix(r,e){const t=ze(r);if(!t.currentUser.isEqual(e)){Ee(vy,"User change. New user:",e.toKey());const a=await ab(t.localStore,e);t.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new Ce(ue.CANCELLED,c))}))})),u.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await fc(t,a.Ls)}}function Dx(r,e){const t=ze(r),a=t.Au.get(e);if(a&&a.hu)return rt().add(a.key);{let o=rt();const u=t.Iu.get(e);if(!u)return o;for(const c of u){const m=t.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function Sb(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bx.bind(null,e),e.Pu.H_=hx.bind(null,e.eventManager),e.Pu.yu=fx.bind(null,e.eventManager),e}function Ox(r){const e=ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rx.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return N3(this.persistence,new I3,e.initialUser,this.serializer)}Cu(e){return new ib(uy.mi,this.serializer)}Du(e){return new k3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class Nx extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ft(this.persistence.referenceDelegate instanceof Lf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new d3(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new ib((a=>Lf.mi(a,t)),this.serializer)}}class Eg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lS(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ix.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lx})()}createDatastore(e){const t=hd(e.databaseInfo.databaseId),a=(function(u){return new F3(u)})(e.databaseInfo);return(function(u,c,m,p){return new Y3(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,o,u,c,m){return new X3(a,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>lS(this.syncEngine,t,0)),(function(){return nS.v()?new nS:new z3})())}createSyncEngine(e,t){return(function(o,u,c,m,p,g,v){const T=new yx(o,u,c,m,p,g);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=ze(t);Ee(Gs,"RemoteStore shutting down."),a.Ea.add(5),await hc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Eg.provider={build:()=>new Eg};class Mx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const os="FirestoreClient";class xx{constructor(e,t,a,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async c=>{Ee(os,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(Ee(os,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=yy(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Vp(r,e){r.asyncQueue.verifyOperationInProgress(),Ee(os,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await ab(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function cS(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Px(r);Ee(os,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((a=>iS(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>iS(e.remoteStore,o))),r._onlineComponents=e}async function Px(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ee(os,"Using user provided OfflineComponentProvider");try{await Vp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;rl("Error using user provided cache. Falling back to memory cache: "+t),await Vp(r,new kf)}}else Ee(os,"Using default OfflineComponentProvider"),await Vp(r,new Nx(void 0));return r._offlineComponents}async function wb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ee(os,"Using user provided OnlineComponentProvider"),await cS(r,r._uninitializedComponentsProvider._online)):(Ee(os,"Using default OnlineComponentProvider"),await cS(r,new Eg))),r._onlineComponents}function Vx(r){return wb(r).then((e=>e.syncEngine))}async function Lx(r){const e=await wb(r),t=e.eventManager;return t.onListen=_x.bind(null,e.syncEngine),t.onUnlisten=Tx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=vx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Sx.bind(null,e.syncEngine),t}function Ux(r,e,t={}){const a=new es;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const v=new Mx({next:b=>{v.Nu(),c.enqueueAndForget((()=>cx(u,T)));const C=b.docs.has(m);!C&&b.fromCache?g.reject(new Ce(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&b.fromCache&&p&&p.source==="server"?g.reject(new Ce(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new dx(ry(m.path),v,{includeMetadataChanges:!0,qa:!0});return ux(u,T)})(await Lx(r),r.asyncQueue,e,t,a))),a.promise}function bb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const hS=new Map;const Ab="firestore.googleapis.com",fS=!0;class dS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ab,this.ssl=fS}else this.host=e.host,this.ssl=e.ssl??fS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h3)throw new Ce(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bb(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ty{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new UM;switch(a.type){case"firstParty":return new BM(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ce(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=hS.get(t);a&&(Ee("ComponentProvider","Removing Datastore"),hS.delete(t),a.terminate())})(this),Promise.resolve()}}function kx(r,e,t,a={}){r=Fu(r,Ty);const o=cl(e),u=r._getSettings(),c={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;o&&(Tw(`https://${m}`),Sw("Firestore",!0)),u.host!==Ab&&u.host!==m&&rl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!js(p,c)&&(r._setSettings(p),a.mockUserToken)){let g,v;if(typeof a.mockUserToken=="string")g=a.mockUserToken,v=Rn.MOCK_USER;else{g=QD(a.mockUserToken,r._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ce(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Rn(T)}r._authCredentials=new kM(new g1(g,v))}}class Sy{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sy(this.firestore,e,this._query)}}class mn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $u(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(lc(t,mn._jsonSchema))return new mn(e,a||null,new Ne(xt.fromString(t.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:rn("string",mn._jsonSchemaVersion),referencePath:rn("string")};class $u extends Sy{constructor(e,t,a){super(e,t,ry(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ne(e))}withConverter(e){return new $u(this.firestore,e,this._path)}}function dc(r,e,...t){if(r=Rr(r),arguments.length===1&&(e=$g.newId()),YM("doc","path",e),r instanceof Ty){const a=xt.fromString(e,...t);return CT(a),new mn(r,null,new Ne(a))}{if(!(r instanceof mn||r instanceof $u))throw new Ce(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(xt.fromString(e,...t));return CT(a),new mn(r.firestore,r instanceof $u?r.converter:null,new Ne(a))}}const mS="AsyncQueue";class pS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ob(this,"async_queue_retry"),this._c=()=>{const a=Pp();a&&Ee(mS,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=Pp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pl(e))throw e;Ee(mS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",gS(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=gy.createAndSchedule(this,e,t,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:gS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gS(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class wy extends Ty{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new pS,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pS(e),this._firestoreClient=void 0,await e}}}function zx(r,e){const t=typeof r=="object"?r:Rw(),a=typeof r=="string"?r:Df,o=jg(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=KD("firestore");u&&kx(o,...u)}return o}function Rb(r){if(r._terminated)throw new Ce(ue.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jx(r),r._firestoreClient}function jx(r){const e=r._freezeSettings(),t=(function(o,u,c,m){return new a6(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,bb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xx(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class br{constructor(e){this._byteString=e}static fromBase64String(e){try{return new br(wn.fromBase64String(e))}catch(t){throw new Ce(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new br(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:br._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lc(e,br._jsonSchema))return br.fromBase64String(e.bytes)}}br._jsonSchemaVersion="firestore/bytes/1.0",br._jsonSchema={type:rn("string",br._jsonSchemaVersion),bytes:rn("string")};class by{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cb{constructor(e){this._methodName=e}}class fi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(lc(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:rn("string",fi._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};class di{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lc(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new di(e.vectorValues);throw new Ce(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:rn("string",di._jsonSchemaVersion),vectorValues:rn("object")};const Bx=/^__.*__$/;class Hx{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new uc(e,this.data,t,this.fieldTransforms)}}function Ib(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:r})}}class Ay{constructor(e,t,a,o,u,c){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ay({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Ib(this.Ac)&&Bx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Fx{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||hd(e)}Cc(e,t,a,o=!1){return new Ay({Ac:e,methodName:t,Dc:a,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qx(r){const e=r._freezeSettings(),t=hd(r._databaseId);return new Fx(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Gx(r,e,t,a,o,u={}){const c=r.Cc(u.merge||u.mergeFields?2:0,e,t,o);Mb("Data must be an object, but it was:",c,a);const m=Ob(a,c);let p,g;if(u.merge)p=new Br(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const b=Kx(e,T,t);if(!c.contains(b))throw new Ce(ue.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);Qx(v,b)||v.push(b)}p=new Br(v),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new Hx(new wr(m),p,g)}function Db(r,e){if(Nb(r=Rr(r)))return Mb("Unsupported field value:",e,r),Ob(r,e);if(r instanceof Cb)return(function(a,o){if(!Ib(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let c=0;for(const m of a){let p=Db(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Rr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return D6(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ct.fromDate(a);return{timestampValue:Vf(o.serializer,u)}}if(a instanceof Ct){const u=new Ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Vf(o.serializer,u)}}if(a instanceof fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof br)return{bytesValue:$1(o.serializer,a._byteString)};if(a instanceof mn){const u=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:oy(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof di)return(function(c,m){return{mapValue:{fields:{[A1]:{stringValue:R1},[Of]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return iy(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Wg(a)}`)})(r,e)}function Ob(r,e){const t={};return v1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(r,((a,o)=>{const u=Db(o,e.mc(a));u!=null&&(t[a]=u)})),{mapValue:{fields:t}}}function Nb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ct||r instanceof fi||r instanceof br||r instanceof mn||r instanceof Cb||r instanceof di)}function Mb(r,e,t){if(!Nb(t)||!y1(t)){const a=Wg(t);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Kx(r,e,t){if((e=Rr(e))instanceof by)return e._internalPath;if(typeof e=="string")return xb(r,e);throw zf("Field path arguments must be of type string or ",r,!1,void 0,t)}const Yx=new RegExp("[~\\*/\\[\\]]");function xb(r,e,t){if(e.search(Yx)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new by(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function zf(r,e,t,a,o){const u=a&&!a.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new Ce(ue.INVALID_ARGUMENT,m+r+p)}function Qx(r,e){return r.some((t=>t.isEqual(e)))}class Pb{constructor(e,t,a,o,u){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Xx extends Pb{data(){return super.data()}}function Vb(r,e){return typeof e=="string"?xb(r,e):e instanceof by?e._internalPath:e._delegate._internalPath}class $x{convertValue(e,t="none"){switch(as(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Xs(e,((o,u)=>{a[o]=this.convertValue(u,t)})),a}convertVectorValue(e){const t=e.fields?.[Of].arrayValue?.values?.map((a=>Xt(a.doubleValue)));return new di(t)}convertGeoPoint(e){return new fi(Xt(e.latitude),Xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=id(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const t=rs(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=xt.fromString(e);ft(nb(a),9688,{name:e});const o=new Ku(a.get(1),a.get(3)),u=new Ne(a.popFirst(5));return o.isEqual(t)||ta(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Wx(r,e,t){let a;return a=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,a}class Au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends Pb{constructor(e,t,a,o,u,c){super(e,t,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(Vb("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=zs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:rn("string",zs._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class af extends zs{data(e={}){return super.data(e)}}class xu{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Au(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new af(this._firestore,this._userDataWriter,a.key,a,new Au(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new af(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new af(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),v=c.indexOf(m.doc.key)),{type:Jx(m.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(t.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:r})}}function Lb(r){r=Fu(r,mn);const e=Fu(r.firestore,wy);return Ux(Rb(e),r._key).then((t=>tP(e,r,t)))}xu._jsonSchemaVersion="firestore/querySnapshot/1.0",xu._jsonSchema={type:rn("string",xu._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class Zx extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new br(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function Ry(r,e,t){r=Fu(r,mn);const a=Fu(r.firestore,wy),o=Wx(r.converter,e,t);return eP(a,[Gx(qx(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Wi.none())])}function eP(r,e){return(function(a,o){const u=new es;return a.asyncQueue.enqueueAndForget((async()=>wx(await Vx(a),o,u))),u.promise})(Rb(r),e)}function tP(r,e,t){const a=t.docs.get(e._key),o=new Zx(r);return new zs(r,o,e._key,a,new Au(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){dl=o})(hl),nl(new Bs("firestore",((a,{instanceIdentifier:o,options:u})=>{const c=a.getProvider("app").getImmediate(),m=new wy(new zM(a.getProvider("auth-internal")),new HM(c,a.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ce(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(g.options.projectId,v)})(c,o),c);return u={useFetchStreams:t,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ja(wT,bT,e),Ja(wT,bT,"esm2020")})();const Ub={apiKey:"AIzaSyD-bUYgQnQLYLvfvoLSM58nZ_3J19h7Z3Y",authDomain:"starwar-fa9fc.firebaseapp.com",projectId:"starwar-fa9fc",storageBucket:"starwar-fa9fc.appspot.com",messagingSenderId:"750076219476",appId:"1:750076219476:web:627016b98458b68d721dc1"},kb=Aw(Ub);console.log("Firebase initialized with:",Ub);const Cy=VM(kb),yl=zx(kb);console.log("Firestore db:",yl);const zb=async(r,e)=>{const t=dc(yl,"users",r);await Ry(t,{favourites:e},{merge:!0})},nP=async r=>{const e=dc(yl,"users",r),t=await Lb(e);return t.exists()?t.data().favourites||[]:[]},jb=r=>{if(typeof r!="string")return null;const e=r.split("/").filter(Boolean);return e[e.length-1]},Bb=sa("items/mergeFavoritesOnLogin",async r=>{const e=await nP(r),t=JSON.parse(localStorage.getItem("favourites")||"[]"),a=[...e];return t.forEach(o=>{a.find(u=>u.id===o.id)||a.push(o)}),await zb(r,a),localStorage.removeItem("favourites"),a}),sf=sa("items/loadCharacters",async(r="")=>{const e=`https://swapi.dev/api/people/?search=${r}`,t=await fetch(e);if(!t.ok)throw new Error("Failed to load characters");const o=(await t.json()).results,u=await Promise.all(o.map(async m=>{let p="Human";if(m.species.length>0)try{p=(await(await fetch(m.species[0])).json()).name}catch{p="Unknown"}return{...m,id:jb(m.url),species_name:p}})),c=JSON.parse(localStorage.getItem("newCharacter")||"[]");return[...u,...c]}),Hb=sa("items/loadNextPage",async()=>(await UD()).map(e=>({...e,id:jb(e.url)}))),Lp=sa("items/loadCharacterById",async r=>{if(r.startsWith("local-")){const a=JSON.parse(localStorage.getItem("newCharacter")||"[]").find(o=>o.id===r);if(!a)throw new Error("Local character not found");return a}return{...await mw(r),id:r}}),Fb=sa("items/toggleFavouriteAsync",async(r,{getState:e})=>{const t=e(),a=t.items.favourites.find(c=>c.id===r.id);let o;a?o=t.items.favourites.filter(c=>c.id!==r.id):o=[...t.items.favourites,r];const u=t.auth.user;return u?await zb(u.uid,o):localStorage.setItem("favourites",JSON.stringify(o)),o}),qb=cw({name:"items",initialState:{characters:[],characterDetails:null,favourites:JSON.parse(localStorage.getItem("favourites")||"[]"),deleted:JSON.parse(localStorage.getItem("deleted")||"[]"),loading:!1,error:null},reducers:{deleteCharacter:(r,e)=>{const t=e.payload;r.characters=r.characters.filter(a=>a.id!==t),r.favourites=r.favourites.filter(a=>a.id!==t),r.deleted.push(t),localStorage.setItem("deleted",JSON.stringify(r.deleted))}},extraReducers:r=>{r.addCase(sf.pending,e=>{e.loading=!0,e.error=null}).addCase(sf.fulfilled,(e,t)=>{e.loading=!1,e.characters=t.payload.filter(a=>!e.deleted.includes(a.id))}).addCase(sf.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(Hb.fulfilled,(e,t)=>{const a=t.payload.filter(o=>!e.deleted.includes(o.id));e.characters.push(...a)}).addCase(Lp.pending,e=>{e.loading=!0,e.error=null}).addCase(Lp.fulfilled,(e,t)=>{e.loading=!1,e.characterDetails=t.payload}).addCase(Lp.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(Bb.fulfilled,(e,t)=>{e.favourites=t.payload}).addCase(Fb.fulfilled,(e,t)=>{e.favourites=t.payload})}}),{toggleFavourite:rP,deleteCharacter:Gb}=qb.actions,iP=qb.reducer;function aP(){const[r,e]=FS(),t=r.get("q")||"",a=u=>{const c=u.target.value;e(c?{q:c}:{})},o=()=>e({});return F.jsxs("div",{className:"control search",children:[F.jsx(uI,{"aria-hidden":"true",className:"search-icon"}),F.jsx("input",{placeholder:"search paintings",value:t,onChange:a}),F.jsx("button",{className:"clear",onClick:o,disabled:!t,children:"x"})]})}const sP=["all species","Droid","Wookie","Hut","Rodian","Yoda's species","Trandoshan","Mon Calamari","Ewok","Sullustan"];function oP({category:r,onChangeCategory:e}){return F.jsx("div",{className:"filters",children:F.jsx("div",{className:"control filter-select",children:F.jsx("select",{id:"style",value:r,onChange:t=>e(t.target.value),children:sP.map(t=>F.jsxs("option",{value:t,children:[" ",t||"all species"," "]},t))})})})}const lP=()=>{const[r,e]=B.useState("all"),[t,a]=Hr.useState(""),[o]=FS(),u=o.get("q")||"",c=Zu(),{characters:m,favourites:p,loading:g}=Ys(C=>C.items);B.useEffect(()=>{c(sf(u))},[c,u]);const v=()=>{c(Hb())};let T=r==="all"?m:p;t&&t!=="all species"&&(T=T.filter(C=>(C.species_name||"Unknown")===t));const b=T;return g&&m.length===0?F.jsx("p",{children:"Loading..."}):F.jsxs("div",{children:[F.jsxs("div",{className:"filters",children:[F.jsx("button",{onClick:()=>e(C=>C==="favorite"?"all":"favorite"),children:r==="favorites"?"show all characters":"show favorites"}),F.jsx("div",{className:"controls",children:F.jsx(oP,{className:"filters",category:t,onChangeCategory:a})}),F.jsx(aP,{})]}),F.jsx("div",{className:"character-list",children:b.map(C=>{const L=p.some(H=>H.id===C.id);return F.jsx(Tr,{to:`/character/${C.id}`,className:"character-card",children:F.jsxs("div",{className:"character-list-item",children:[F.jsxs("div",{className:"icons",children:[F.jsx("button",{className:`like ${L?"liked":""}`,onClick:H=>{H.preventDefault(),c(Fb(C))},children:L?F.jsx(Ng,{}):F.jsx(PI,{})}),F.jsxs("button",{className:"delete",onClick:H=>{H.preventDefault(),c(Gb(C.id))},children:[F.jsx(XS,{className:"trash-outline"}),F.jsx(QS,{className:"trash-fill"})]})]}),F.jsx("h2",{children:C.name}),F.jsxs("p",{children:[F.jsx("strong",{children:"Gender:"})," ",C.gender]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Birth year:"})," ",C.birth_year]})]})},C.id)})}),F.jsx("button",{className:"moreButton",onClick:v,children:"More"})]})};function uP(r){return aa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10.78 19.03a.75.75 0 0 1-1.06 0l-6.25-6.25a.75.75 0 0 1 0-1.06l6.25-6.25a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L5.81 11.5h14.44a.75.75 0 0 1 0 1.5H5.81l4.97 4.97a.75.75 0 0 1 0 1.06Z"},child:[]}]})(r)}function cP(){const{id:r}=WC(),[e,t]=B.useState(),[a,o]=B.useState(),[u,c]=B.useState(!0),[m,p]=B.useState([]),[g,v]=B.useState([]),T=ia();return B.useEffect(()=>{let b=!0;return(async()=>{try{if(!r)throw new Error("No id provided");let C;if(r.startsWith("local-")){const H=JSON.parse(localStorage.getItem("newCharacter")||"[]").find(V=>V.id===r);if(!H)throw new Error("Local character not found");C=H}else{const L=await mw(r);C=L.data||L}if(b&&t(C),C.films&&C.films.length>0){const L=await Promise.all(C.films.map(async H=>(await(await fetch(H)).json()).title));b&&v(L)}if(C.species&&C.species.length>0){const L=await Promise.all(C.species.map(async H=>(await(await fetch(H)).json()).name));b&&p(L)}}catch(C){b&&o(C.message||"Failed to load character")}finally{b&&c(!1)}})(),()=>{b=!1}},[r]),u?F.jsx("p",{children:"Loading..."}):a?F.jsxs("p",{children:["error ",a.message]}):e?F.jsxs("section",{className:"character-details",children:[F.jsxs("button",{className:"back-button",onClick:()=>T(-1)||T("/products"),children:[F.jsx(uP,{className:"icon"})," Back"]}),F.jsx("h2",{className:"character-name",children:e.name}),F.jsxs("h3",{className:"birth_year",children:[" birth year: ",e.birth_year]}),F.jsxs("h3",{className:"gender",children:["gender: ",e.gender]}),F.jsxs("div",{className:"characterictic",children:[F.jsxs("p",{children:[F.jsx("strong",{children:"height:"})," ",e.height]}),F.jsxs("p",{children:[F.jsx("strong",{children:"mass:"})," ",e.mass]}),F.jsxs("p",{children:[F.jsx("strong",{children:"hair color:"})," ",e.hair_color]}),F.jsxs("p",{children:[F.jsx("strong",{children:"skin color:"})," ",e.skin_color]}),F.jsxs("p",{children:[F.jsx("strong",{children:"eye color:"})," ",e.eye_color]})]}),F.jsxs("div",{className:"species",children:[F.jsx("strong",{children:"Species:"}),F.jsx("ul",{children:m.length>0?m.map(b=>F.jsx("li",{children:b},b)):F.jsx("li",{children:"Unknown"})})]}),F.jsxs("div",{className:"films",children:[F.jsx("strong",{children:"Films:"}),F.jsx("ul",{children:g.map(b=>F.jsx("li",{children:b},b))})]})]}):F.jsx("p",{children:"character is not found"})}function hP(){const r=ia();return F.jsxs("div",{className:"not-found-page",children:[F.jsx("button",{className:"not-found-page-back-button",onClick:()=>r(-1),children:"Go back"}),F.jsx("br",{}),F.jsx("img",{className:"not-found-page-image",src:"https://http.cat/images/404.jpg",alt:"404 http cat"})]})}const fP=async(r,e)=>{const t=await T4(Cy,r,e),a=t.user.uid,o=t.user.email,u=await Lb(dc(yl,"users",a));return{uid:a,email:o,photoBase64:u.exists()?u.data().photoBase64??null:null}},dP=async(r,e)=>{const t=await E4(Cy,r,e),a=t.user.uid,o=t.user.email;return await Ry(dc(yl,"users",a),{email:o,photoBase64:null}),{uid:a,email:o,photoBase64:null}},mP=()=>b4(Cy),pP=async(r,e)=>(await Ry(dc(yl,"users",r),{photoBase64:e},{merge:!0}),e),of=sa("auth/loginUser",async({email:r,password:e})=>{try{return await fP(r,e)}catch(t){throw console.error("Login error:",t),t}}),lf=sa("auth/signupUser",async({email:r,password:e})=>await dP(r,e)),Kb=sa("auth/logoutUser",async()=>{await mP()}),Yb=sa("auth/uploadUserPhoto",async({uid:r,base64Image:e})=>await pP(r,e)),Qb=cw({name:"auth",initialState:{user:null,loading:!1,error:null},reducers:{setUser:(r,e)=>{const t=e.payload;r.user=t?{uid:t.uid,email:t.email,photoBase64:t.photoBase64??null}:null},setUserPhoto:(r,e)=>{r.user&&(r.user.photoBase64=e.payload)}},extraReducers:r=>{r.addCase(of.pending,e=>{e.loading=!0,e.error=null}).addCase(of.fulfilled,(e,t)=>{e.loading=!1,e.user={uid:t.payload.uid,email:t.payload.email,photoBase64:t.payload.photoBase64}}).addCase(of.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(lf.pending,e=>{e.loading=!0,e.error=null}).addCase(lf.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload}).addCase(lf.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(Kb.fulfilled,e=>{e.user=null}).addCase(Yb.fulfilled,(e,t)=>{e.user&&(e.user.photoBase64=t.payload)})}}),{setUser:RP,setUserPhoto:CP}=Qb.actions,gP=Qb.reducer;function yP(){const r=Ys(H=>H.auth.user),e=ia(),t=Zu(),[a,o]=B.useState(null),[u,c]=B.useState(null),[m,p]=B.useState(!1),g=B.useRef(null);B.useEffect(()=>()=>{g.current&&URL.revokeObjectURL(g.current)},[]);const v=H=>{const V=H.target.files[0];if(!V)return;o(V),g.current&&URL.revokeObjectURL(g.current);const W=URL.createObjectURL(V);g.current=W,c(W)},T=H=>new Promise((V,W)=>{const Z=new Worker(new URL("/StarWarApiRouting.io/assets/imageWorker-DFoTqDwZ.js",import.meta.url));Z.onmessage=X=>{const de=X.data;if(Z.terminate(),!de)return W(new Error("Compression failed"));V(de)},Z.onerror=X=>{Z.terminate(),W(X)},Z.postMessage(H)}),b=async()=>{if(!(!a||!r)){p(!0);try{const H=await T(a);c(H),await t(Yb({uid:r.uid,base64Image:H})),alert("Profile picture updated!")}catch(H){console.error("Upload error:",H),alert("Upload failed. Please try again.")}finally{p(!1)}}},C=async()=>{await t(Kb()),t({type:"items/setFavorites",payload:JSON.parse(localStorage.getItem("favourites")||"[]")}),e("/login")},L=u??(r?.photoBase64?r.photoBase64:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png");return F.jsx("div",{className:"profile-container",children:F.jsxs("div",{className:"profile-info",children:[F.jsx("h2",{children:"Your Profile"}),F.jsx("img",{src:L,alt:"profile",className:"profile-img"}),F.jsx("input",{type:"file",accept:"image/*",onChange:v}),F.jsx("button",{onClick:b,disabled:!r||!a||m,children:m?"Uploading...":"Upload Photo"}),F.jsxs("p",{children:[F.jsx("strong",{children:"Email:"})," ",r?.email]}),F.jsx("button",{className:"logout",onClick:C,children:"Logout"})]})})}function _P(){const r=Zu(),e=ia(),{user:t,loading:a,error:o}=Ys(V=>V.auth),[u,c]=B.useState(""),[m,p]=B.useState(""),[g,v]=B.useState(""),[T,b]=B.useState(""),C=V=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V),L=V=>V.length>=8&&/[0-9]/.test(V)&&/[^A-Za-z0-9]/.test(V),H=async V=>{if(V.preventDefault(),!C(u))return b("Invalid email format");if(!L(m))return b("Password must be 8+ chars, contain a number and a special character");if(m!==g)return b("Passwords must match");b(""),(await r(lf({email:u,password:m}))).meta.requestStatus==="fulfilled"&&e("/profile")};return F.jsxs("div",{className:"signup",children:[F.jsx("h2",{children:"Signup"}),T&&F.jsx("p",{style:{color:"red"},children:T}),o&&F.jsx("p",{style:{color:"red"},children:o}),a&&F.jsx("p",{children:"Loading..."}),F.jsxs("form",{onSubmit:H,children:[F.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:V=>c(V.target.value)}),F.jsx("input",{type:"password",placeholder:"Password",value:m,onChange:V=>p(V.target.value)}),F.jsx("input",{type:"password",placeholder:"Repeat password",value:g,onChange:V=>v(V.target.value)}),F.jsx("button",{type:"submit",children:a?"Signing up":"Signup"})]}),F.jsxs("p",{children:["Already have an account? ",F.jsx(Tr,{to:"/login",children:"Login"})]})]})}function vP(){const r=Zu(),e=ia(),{user:t,loading:a,error:o}=Ys(v=>v.auth),[u,c]=B.useState(""),[m,p]=B.useState(""),g=async v=>{v.preventDefault();const T=await r(of({email:u,password:m}));if(T.meta.requestStatus==="fulfilled"){const b=T.payload.uid;await r(Bb(b)),alert("Your local favorites were merged with your account."),e("/profile")}};return F.jsxs("div",{className:"login",children:[F.jsx("h2",{children:"Login"}),o&&F.jsx("p",{style:{color:"red"},children:o}),a&&F.jsx("p",{children:"Loading..."}),F.jsxs("form",{onSubmit:g,children:[F.jsx("input",{type:"email",placeholder:"Email",value:u,onChange:v=>c(v.target.value)}),F.jsx("input",{type:"password",placeholder:"Password",value:m,onChange:v=>p(v.target.value)}),F.jsx("button",{type:"submit",disabled:a,children:a?"Logging in...":"Login"})]}),F.jsxs("p",{className:"text-center text-sm",children:["Don't have an account?",F.jsx(Tr,{to:"/signup",className:"hover:underline font-bold",children:"Sign up"})]}),F.jsx("p",{children:"OR"}),F.jsx("button",{children:" email sign in "})]})}const EP=gD({reducer:{auth:gP,items:iP}});function TP({children:r}){return Ys(t=>t.auth.user)?r:F.jsx(g2,{to:"/login",replace:!0})}function SP(){const r=Zu(),{favourites:e}=Ys(t=>t.items);return e.length===0?F.jsx("p",{children:"No favorites yet!"}):F.jsxs("div",{children:[F.jsx("h2",{children:"Your Favorites"}),F.jsx("div",{className:"character-list",children:e.map(t=>F.jsx(Tr,{to:`/character/${t.id}`,className:"character-card",children:F.jsxs("div",{className:"character-list-item",children:[F.jsxs("div",{className:"icons",children:[F.jsx("button",{className:"like liked",onClick:a=>{a.preventDefault(),r(rP(t))},children:F.jsx(Ng,{})}),F.jsxs("button",{className:"delete",onClick:a=>{a.preventDefault(),r(Gb(t.id))},children:[F.jsx(XS,{className:"trash-outline"}),F.jsx(QS,{className:"trash-fill"})]})]}),F.jsx("h2",{children:t.name}),F.jsxs("p",{children:[F.jsx("strong",{children:"Gender:"})," ",t.gender]}),F.jsxs("p",{children:[F.jsx("strong",{children:"Birth year:"})," ",t.birth_year]})]})},t.id))})]})}const wP=H2([{path:"/",element:F.jsx(UI,{}),children:[{path:"/",element:F.jsx(kI,{})},{path:"/characters",element:F.jsx(lP,{})},{path:"/character/:id",element:F.jsx(cP,{})},{path:"/create-product",element:F.jsx(zI,{})},{path:"/profile",element:F.jsx(TP,{children:F.jsx(yP,{})})},{path:"/favorites",element:F.jsx(SP,{})},{path:"/signup",element:F.jsx(_P,{})},{path:"/login",element:F.jsx(vP,{})}]},{path:"*",element:F.jsx(hP,{})}],{basename:"/StarWarApiRouting.io"});PR.createRoot(document.getElementById("root")).render(F.jsx(B.StrictMode,{children:F.jsx(DI,{store:EP,children:F.jsx(tI,{router:wP})})}));
