(function(){"use strict";self.onmessage=async s=>{const o=s.data;try{const e=await createImageBitmap(o),a=new OffscreenCanvas(e.width,e.height);a.getContext("2d").drawImage(e,0,0);const n=await a.convertToBlob({type:"image/jpeg",quality:.6}),t=new FileReader;t.onloadend=()=>{self.postMessage(t.result)},t.readAsDataURL(n)}catch(e){console.error("Worker error:",e),self.postMessage(null)}}})();
